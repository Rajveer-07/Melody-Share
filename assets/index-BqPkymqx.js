var Iw=t=>{throw TypeError(t)};var zf=(t,e,n)=>e.has(t)||Iw("Cannot "+n);var F=(t,e,n)=>(zf(t,e,"read from private field"),n?n.call(t):e.get(t)),xe=(t,e,n)=>e.has(t)?Iw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),he=(t,e,n,r)=>(zf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),At=(t,e,n)=>(zf(t,e,"access private method"),n);var hu=(t,e,n,r)=>({set _(i){he(t,e,i,n)},get _(){return F(t,e,r)}});function Bk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g1={exports:{}},Eh={},y1={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tc=Symbol.for("react.element"),$k=Symbol.for("react.portal"),zk=Symbol.for("react.fragment"),Hk=Symbol.for("react.strict_mode"),Wk=Symbol.for("react.profiler"),qk=Symbol.for("react.provider"),Kk=Symbol.for("react.context"),Gk=Symbol.for("react.forward_ref"),Qk=Symbol.for("react.suspense"),Yk=Symbol.for("react.memo"),Xk=Symbol.for("react.lazy"),Pw=Symbol.iterator;function Jk(t){return t===null||typeof t!="object"?null:(t=Pw&&t[Pw]||t["@@iterator"],typeof t=="function"?t:null)}var v1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w1=Object.assign,_1={};function ma(t,e,n){this.props=t,this.context=e,this.refs=_1,this.updater=n||v1}ma.prototype.isReactComponent={};ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x1(){}x1.prototype=ma.prototype;function Kg(t,e,n){this.props=t,this.context=e,this.refs=_1,this.updater=n||v1}var Gg=Kg.prototype=new x1;Gg.constructor=Kg;w1(Gg,ma.prototype);Gg.isPureReactComponent=!0;var Rw=Array.isArray,E1=Object.prototype.hasOwnProperty,Qg={current:null},T1={key:!0,ref:!0,__self:!0,__source:!0};function S1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)E1.call(e,r)&&!T1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Tc,type:t,key:s,ref:o,props:i,_owner:Qg.current}}function Zk(t,e){return{$$typeof:Tc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tc}function eN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kw=/\/+/g;function Hf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eN(""+t.key):e.toString(36)}function qu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tc:case $k:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Hf(o,0):r,Rw(i)?(n="",t!=null&&(n=t.replace(kw,"$&/")+"/"),qu(i,e,n,"",function(c){return c})):i!=null&&(Yg(i)&&(i=Zk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(kw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Rw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Hf(s,a);o+=qu(s,e,n,l,i)}else if(l=Jk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Hf(s,a++),o+=qu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pu(t,e,n){if(t==null)return t;var r=[],i=0;return qu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function tN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},Ku={transition:null},nN={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Ku,ReactCurrentOwner:Qg};function b1(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!Yg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=ma;fe.Fragment=zk;fe.Profiler=Wk;fe.PureComponent=Kg;fe.StrictMode=Hk;fe.Suspense=Qk;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nN;fe.act=b1;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=w1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)E1.call(e,l)&&!T1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Tc,type:t.type,key:i,ref:s,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:Kk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qk,_context:t},t.Consumer=t};fe.createElement=S1;fe.createFactory=function(t){var e=S1.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:Gk,render:t}};fe.isValidElement=Yg;fe.lazy=function(t){return{$$typeof:Xk,_payload:{_status:-1,_result:t},_init:tN}};fe.memo=function(t,e){return{$$typeof:Yk,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=Ku.transition;Ku.transition={};try{t()}finally{Ku.transition=e}};fe.unstable_act=b1;fe.useCallback=function(t,e){return Kt.current.useCallback(t,e)};fe.useContext=function(t){return Kt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Kt.current.useEffect(t,e)};fe.useId=function(){return Kt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Kt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)};fe.useRef=function(t){return Kt.current.useRef(t)};fe.useState=function(t){return Kt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Kt.current.useTransition()};fe.version="18.3.1";y1.exports=fe;var T=y1.exports;const q=qg(T),rN=Bk({__proto__:null,default:q},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN=T,sN=Symbol.for("react.element"),oN=Symbol.for("react.fragment"),aN=Object.prototype.hasOwnProperty,lN=iN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cN={key:!0,ref:!0,__self:!0,__source:!0};function C1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)aN.call(e,r)&&!cN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sN,type:t,key:s,ref:o,props:i,_owner:lN.current}}Eh.Fragment=oN;Eh.jsx=C1;Eh.jsxs=C1;g1.exports=Eh;var E=g1.exports,A1={exports:{}},yn={},I1={exports:{}},P1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var Y=L.length;L.push(z);e:for(;0<Y;){var G=Y-1>>>1,ee=L[G];if(0<i(ee,z))L[G]=z,L[Y]=ee,Y=G;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],Y=L.pop();if(Y!==z){L[0]=Y;e:for(var G=0,ee=L.length,ne=ee>>>1;G<ne;){var ke=2*(G+1)-1,rt=L[ke],_e=ke+1,Tt=L[_e];if(0>i(rt,Y))_e<ee&&0>i(Tt,rt)?(L[G]=Tt,L[_e]=Y,G=_e):(L[G]=rt,L[ke]=Y,G=ke);else if(_e<ee&&0>i(Tt,Y))L[G]=Tt,L[_e]=Y,G=_e;else break e}}return z}function i(L,z){var Y=L.sortIndex-z.sortIndex;return Y!==0?Y:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,m=!1,v=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(L){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=L)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function R(L){if(_=!1,C(L),!v)if(n(l)!==null)v=!0,re(k);else{var z=n(c);z!==null&&Z(R,z.startTime-L)}}function k(L,z){v=!1,_&&(_=!1,y(w),w=-1),m=!0;var Y=h;try{for(C(z),f=n(l);f!==null&&(!(f.expirationTime>z)||L&&!N());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var ee=G(f.expirationTime<=z);z=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),C(z)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var ke=n(c);ke!==null&&Z(R,ke.startTime-z),ne=!1}return ne}finally{f=null,h=Y,m=!1}}var M=!1,A=null,w=-1,b=5,I=-1;function N(){return!(t.unstable_now()-I<b)}function V(){if(A!==null){var L=t.unstable_now();I=L;var z=!0;try{z=A(!0,L)}finally{z?D():(M=!1,A=null)}}else M=!1}var D;if(typeof x=="function")D=function(){x(V)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,se=H.port2;H.port1.onmessage=V,D=function(){se.postMessage(null)}}else D=function(){S(V,0)};function re(L){A=L,M||(M=!0,D())}function Z(L,z){w=S(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,re(k))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Y=h;h=z;try{return L()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=h;h=L;try{return z()}finally{h=Y}},t.unstable_scheduleCallback=function(L,z,Y){var G=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?G+Y:G):Y=G,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Y+ee,L={id:d++,callback:z,priorityLevel:L,startTime:Y,expirationTime:ee,sortIndex:-1},Y>G?(L.sortIndex=Y,e(c,L),n(l)===null&&L===n(c)&&(_?(y(w),w=-1):_=!0,Z(R,Y-G))):(L.sortIndex=ee,e(l,L),v||m||(v=!0,re(k))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var z=h;return function(){var Y=h;h=z;try{return L.apply(this,arguments)}finally{h=Y}}}})(P1);I1.exports=P1;var uN=I1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dN=T,gn=uN;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R1=new Set,Ol={};function zs(t,e){qo(t,e),qo(t+"Capture",e)}function qo(t,e){for(Ol[t]=e,t=0;t<e.length;t++)R1.add(e[t])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yp=Object.prototype.hasOwnProperty,hN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nw={},Dw={};function fN(t){return Yp.call(Dw,t)?!0:Yp.call(Nw,t)?!1:hN.test(t)?Dw[t]=!0:(Nw[t]=!0,!1)}function pN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mN(t,e,n,r){if(e===null||typeof e>"u"||pN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xg=/[\-:]([a-z])/g;function Jg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xg,Jg);_t[e]=new Gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xg,Jg);_t[e]=new Gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xg,Jg);_t[e]=new Gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Gt(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zg(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mN(e,n,i,r)&&(n=null),r||i===null?fN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gr=dN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),so=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),ey=Symbol.for("react.strict_mode"),Xp=Symbol.for("react.profiler"),k1=Symbol.for("react.provider"),N1=Symbol.for("react.context"),ty=Symbol.for("react.forward_ref"),Jp=Symbol.for("react.suspense"),Zp=Symbol.for("react.suspense_list"),ny=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),D1=Symbol.for("react.offscreen"),Mw=Symbol.iterator;function Ga(t){return t===null||typeof t!="object"?null:(t=Mw&&t[Mw]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,Wf;function ol(t){if(Wf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wf=e&&e[1]||""}return`
`+Wf+t}var qf=!1;function Kf(t,e){if(!t||qf)return"";qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ol(t):""}function gN(t){switch(t.tag){case 5:return ol(t.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return t=Kf(t.type,!1),t;case 11:return t=Kf(t.type.render,!1),t;case 1:return t=Kf(t.type,!0),t;default:return""}}function em(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oo:return"Fragment";case so:return"Portal";case Xp:return"Profiler";case ey:return"StrictMode";case Jp:return"Suspense";case Zp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N1:return(t.displayName||"Context")+".Consumer";case k1:return(t._context.displayName||"Context")+".Provider";case ty:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ny:return e=t.displayName||null,e!==null?e:em(t.type)||"Memo";case di:e=t._payload,t=t._init;try{return em(t(e))}catch{}}return null}function yN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return em(e);case 8:return e===ey?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function M1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vN(t){var e=M1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=vN(t))}function V1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=M1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tm(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$i(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function O1(t,e){e=e.checked,e!=null&&Zg(t,"checked",e,!1)}function nm(t,e){O1(t,e);var n=$i(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rm(t,e.type,n):e.hasOwnProperty("defaultValue")&&rm(t,e.type,$i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ow(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rm(t,e,n){(e!=="number"||wd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var al=Array.isArray;function bo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$i(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function im(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(al(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$i(n)}}function L1(t,e){var n=$i(e.value),r=$i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function j1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?j1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yu,F1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ll(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wN=["Webkit","ms","Moz","O"];Object.keys(yl).forEach(function(t){wN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yl[e]=yl[t]})});function U1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yl.hasOwnProperty(t)&&yl[t]?(""+e).trim():e+"px"}function B1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=U1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _N=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function om(t,e){if(e){if(_N[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lm=null;function ry(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cm=null,Co=null,Ao=null;function Fw(t){if(t=Cc(t)){if(typeof cm!="function")throw Error($(280));var e=t.stateNode;e&&(e=Ah(e),cm(t.stateNode,t.type,e))}}function $1(t){Co?Ao?Ao.push(t):Ao=[t]:Co=t}function z1(){if(Co){var t=Co,e=Ao;if(Ao=Co=null,Fw(t),e)for(t=0;t<e.length;t++)Fw(e[t])}}function H1(t,e){return t(e)}function W1(){}var Gf=!1;function q1(t,e,n){if(Gf)return t(e,n);Gf=!0;try{return H1(t,e,n)}finally{Gf=!1,(Co!==null||Ao!==null)&&(W1(),z1())}}function jl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ah(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var um=!1;if(Or)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){um=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{um=!1}function xN(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var vl=!1,_d=null,xd=!1,dm=null,EN={onError:function(t){vl=!0,_d=t}};function TN(t,e,n,r,i,s,o,a,l){vl=!1,_d=null,xN.apply(EN,arguments)}function SN(t,e,n,r,i,s,o,a,l){if(TN.apply(this,arguments),vl){if(vl){var c=_d;vl=!1,_d=null}else throw Error($(198));xd||(xd=!0,dm=c)}}function Hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function K1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uw(t){if(Hs(t)!==t)throw Error($(188))}function bN(t){var e=t.alternate;if(!e){if(e=Hs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Uw(i),t;if(s===r)return Uw(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function G1(t){return t=bN(t),t!==null?Q1(t):null}function Q1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Q1(t);if(e!==null)return e;t=t.sibling}return null}var Y1=gn.unstable_scheduleCallback,Bw=gn.unstable_cancelCallback,CN=gn.unstable_shouldYield,AN=gn.unstable_requestPaint,Xe=gn.unstable_now,IN=gn.unstable_getCurrentPriorityLevel,iy=gn.unstable_ImmediatePriority,X1=gn.unstable_UserBlockingPriority,Ed=gn.unstable_NormalPriority,PN=gn.unstable_LowPriority,J1=gn.unstable_IdlePriority,Th=null,ir=null;function RN(t){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Th,t,void 0,(t.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:DN,kN=Math.log,NN=Math.LN2;function DN(t){return t>>>=0,t===0?32:31-(kN(t)/NN|0)|0}var vu=64,wu=4194304;function ll(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Td(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ll(a):(s&=o,s!==0&&(r=ll(s)))}else o=n&~i,o!==0?r=ll(o):s!==0&&(r=ll(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fn(e),i=1<<n,r|=t[n],e&=~i;return r}function MN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Fn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=MN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function hm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Z1(){var t=vu;return vu<<=1,!(vu&4194240)&&(vu=64),t}function Qf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fn(e),t[e]=n}function ON(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function sy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function eS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tS,oy,nS,rS,iS,fm=!1,_u=[],Ii=null,Pi=null,Ri=null,Fl=new Map,Ul=new Map,fi=[],LN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $w(t,e){switch(t){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":Fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(e.pointerId)}}function Ya(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Cc(e),e!==null&&oy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jN(t,e,n,r,i){switch(e){case"focusin":return Ii=Ya(Ii,t,e,n,r,i),!0;case"dragenter":return Pi=Ya(Pi,t,e,n,r,i),!0;case"mouseover":return Ri=Ya(Ri,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fl.set(s,Ya(Fl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ul.set(s,Ya(Ul.get(s)||null,t,e,n,r,i)),!0}return!1}function sS(t){var e=ys(t.target);if(e!==null){var n=Hs(e);if(n!==null){if(e=n.tag,e===13){if(e=K1(n),e!==null){t.blockedOn=e,iS(t.priority,function(){nS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lm=r,n.target.dispatchEvent(r),lm=null}else return e=Cc(n),e!==null&&oy(e),t.blockedOn=n,!1;e.shift()}return!0}function zw(t,e,n){Gu(t)&&n.delete(e)}function FN(){fm=!1,Ii!==null&&Gu(Ii)&&(Ii=null),Pi!==null&&Gu(Pi)&&(Pi=null),Ri!==null&&Gu(Ri)&&(Ri=null),Fl.forEach(zw),Ul.forEach(zw)}function Xa(t,e){t.blockedOn===e&&(t.blockedOn=null,fm||(fm=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,FN)))}function Bl(t){function e(i){return Xa(i,t)}if(0<_u.length){Xa(_u[0],t);for(var n=1;n<_u.length;n++){var r=_u[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ii!==null&&Xa(Ii,t),Pi!==null&&Xa(Pi,t),Ri!==null&&Xa(Ri,t),Fl.forEach(e),Ul.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)sS(n),n.blockedOn===null&&fi.shift()}var Io=Gr.ReactCurrentBatchConfig,Sd=!0;function UN(t,e,n,r){var i=Te,s=Io.transition;Io.transition=null;try{Te=1,ay(t,e,n,r)}finally{Te=i,Io.transition=s}}function BN(t,e,n,r){var i=Te,s=Io.transition;Io.transition=null;try{Te=4,ay(t,e,n,r)}finally{Te=i,Io.transition=s}}function ay(t,e,n,r){if(Sd){var i=pm(t,e,n,r);if(i===null)sp(t,e,r,bd,n),$w(t,r);else if(jN(i,t,e,n,r))r.stopPropagation();else if($w(t,r),e&4&&-1<LN.indexOf(t)){for(;i!==null;){var s=Cc(i);if(s!==null&&tS(s),s=pm(t,e,n,r),s===null&&sp(t,e,r,bd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sp(t,e,r,null,n)}}var bd=null;function pm(t,e,n,r){if(bd=null,t=ry(r),t=ys(t),t!==null)if(e=Hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=K1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bd=t,null}function oS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IN()){case iy:return 1;case X1:return 4;case Ed:case PN:return 16;case J1:return 536870912;default:return 16}default:return 16}}var Si=null,ly=null,Qu=null;function aS(){if(Qu)return Qu;var t,e=ly,n=e.length,r,i="value"in Si?Si.value:Si.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qu=i.slice(t,1<r?1-r:void 0)}function Yu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xu(){return!0}function Hw(){return!1}function vn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xu:Hw,this.isPropagationStopped=Hw,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),e}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cy=vn(ga),bc=Be({},ga,{view:0,detail:0}),$N=vn(bc),Yf,Xf,Ja,Sh=Be({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ja&&(Ja&&t.type==="mousemove"?(Yf=t.screenX-Ja.screenX,Xf=t.screenY-Ja.screenY):Xf=Yf=0,Ja=t),Yf)},movementY:function(t){return"movementY"in t?t.movementY:Xf}}),Ww=vn(Sh),zN=Be({},Sh,{dataTransfer:0}),HN=vn(zN),WN=Be({},bc,{relatedTarget:0}),Jf=vn(WN),qN=Be({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),KN=vn(qN),GN=Be({},ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QN=vn(GN),YN=Be({},ga,{data:0}),qw=vn(YN),XN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZN[t])?!!e[t]:!1}function uy(){return e2}var t2=Be({},bc,{key:function(t){if(t.key){var e=XN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uy,charCode:function(t){return t.type==="keypress"?Yu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n2=vn(t2),r2=Be({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kw=vn(r2),i2=Be({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uy}),s2=vn(i2),o2=Be({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),a2=vn(o2),l2=Be({},Sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),c2=vn(l2),u2=[9,13,27,32],dy=Or&&"CompositionEvent"in window,wl=null;Or&&"documentMode"in document&&(wl=document.documentMode);var d2=Or&&"TextEvent"in window&&!wl,lS=Or&&(!dy||wl&&8<wl&&11>=wl),Gw=" ",Qw=!1;function cS(t,e){switch(t){case"keyup":return u2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ao=!1;function h2(t,e){switch(t){case"compositionend":return uS(e);case"keypress":return e.which!==32?null:(Qw=!0,Gw);case"textInput":return t=e.data,t===Gw&&Qw?null:t;default:return null}}function f2(t,e){if(ao)return t==="compositionend"||!dy&&cS(t,e)?(t=aS(),Qu=ly=Si=null,ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lS&&e.locale!=="ko"?null:e.data;default:return null}}var p2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p2[t.type]:e==="textarea"}function dS(t,e,n,r){$1(r),e=Cd(e,"onChange"),0<e.length&&(n=new cy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _l=null,$l=null;function m2(t){ES(t,0)}function bh(t){var e=uo(t);if(V1(e))return t}function g2(t,e){if(t==="change")return e}var hS=!1;if(Or){var Zf;if(Or){var ep="oninput"in document;if(!ep){var Xw=document.createElement("div");Xw.setAttribute("oninput","return;"),ep=typeof Xw.oninput=="function"}Zf=ep}else Zf=!1;hS=Zf&&(!document.documentMode||9<document.documentMode)}function Jw(){_l&&(_l.detachEvent("onpropertychange",fS),$l=_l=null)}function fS(t){if(t.propertyName==="value"&&bh($l)){var e=[];dS(e,$l,t,ry(t)),q1(m2,e)}}function y2(t,e,n){t==="focusin"?(Jw(),_l=e,$l=n,_l.attachEvent("onpropertychange",fS)):t==="focusout"&&Jw()}function v2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bh($l)}function w2(t,e){if(t==="click")return bh(e)}function _2(t,e){if(t==="input"||t==="change")return bh(e)}function x2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zn=typeof Object.is=="function"?Object.is:x2;function zl(t,e){if(zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yp.call(e,i)||!zn(t[i],e[i]))return!1}return!0}function Zw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function e_(t,e){var n=Zw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zw(n)}}function pS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mS(){for(var t=window,e=wd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wd(t.document)}return e}function hy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function E2(t){var e=mS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pS(n.ownerDocument.documentElement,n)){if(r!==null&&hy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=e_(n,s);var o=e_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var T2=Or&&"documentMode"in document&&11>=document.documentMode,lo=null,mm=null,xl=null,gm=!1;function t_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gm||lo==null||lo!==wd(r)||(r=lo,"selectionStart"in r&&hy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xl&&zl(xl,r)||(xl=r,r=Cd(mm,"onSelect"),0<r.length&&(e=new cy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=lo)))}function Eu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var co={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},tp={},gS={};Or&&(gS=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Ch(t){if(tp[t])return tp[t];if(!co[t])return t;var e=co[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gS)return tp[t]=e[n];return t}var yS=Ch("animationend"),vS=Ch("animationiteration"),wS=Ch("animationstart"),_S=Ch("transitionend"),xS=new Map,n_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(t,e){xS.set(t,e),zs(e,[t])}for(var np=0;np<n_.length;np++){var rp=n_[np],S2=rp.toLowerCase(),b2=rp[0].toUpperCase()+rp.slice(1);ts(S2,"on"+b2)}ts(yS,"onAnimationEnd");ts(vS,"onAnimationIteration");ts(wS,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(_S,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C2=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function r_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SN(r,e,void 0,t),t.currentTarget=null}function ES(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;r_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;r_(i,a,c),s=l}}}if(xd)throw t=dm,xd=!1,dm=null,t}function Me(t,e){var n=e[xm];n===void 0&&(n=e[xm]=new Set);var r=t+"__bubble";n.has(r)||(TS(e,t,2,!1),n.add(r))}function ip(t,e,n){var r=0;e&&(r|=4),TS(n,t,r,e)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function Hl(t){if(!t[Tu]){t[Tu]=!0,R1.forEach(function(n){n!=="selectionchange"&&(C2.has(n)||ip(n,!1,t),ip(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tu]||(e[Tu]=!0,ip("selectionchange",!1,e))}}function TS(t,e,n,r){switch(oS(e)){case 1:var i=UN;break;case 4:i=BN;break;default:i=ay}n=i.bind(null,e,n,t),i=void 0,!um||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ys(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}q1(function(){var c=s,d=ry(n),f=[];e:{var h=xS.get(t);if(h!==void 0){var m=cy,v=t;switch(t){case"keypress":if(Yu(n)===0)break e;case"keydown":case"keyup":m=n2;break;case"focusin":v="focus",m=Jf;break;case"focusout":v="blur",m=Jf;break;case"beforeblur":case"afterblur":m=Jf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ww;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=HN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=s2;break;case yS:case vS:case wS:m=KN;break;case _S:m=a2;break;case"scroll":m=$N;break;case"wheel":m=c2;break;case"copy":case"cut":case"paste":m=QN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Kw}var _=(e&4)!==0,S=!_&&t==="scroll",y=_?h!==null?h+"Capture":null:h;_=[];for(var x=c,C;x!==null;){C=x;var R=C.stateNode;if(C.tag===5&&R!==null&&(C=R,y!==null&&(R=jl(x,y),R!=null&&_.push(Wl(x,R,C)))),S)break;x=x.return}0<_.length&&(h=new m(h,v,null,n,d),f.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==lm&&(v=n.relatedTarget||n.fromElement)&&(ys(v)||v[Lr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?ys(v):null,v!==null&&(S=Hs(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(_=Ww,R="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_=Kw,R="onPointerLeave",y="onPointerEnter",x="pointer"),S=m==null?h:uo(m),C=v==null?h:uo(v),h=new _(R,x+"leave",m,n,d),h.target=S,h.relatedTarget=C,R=null,ys(d)===c&&(_=new _(y,x+"enter",v,n,d),_.target=C,_.relatedTarget=S,R=_),S=R,m&&v)t:{for(_=m,y=v,x=0,C=_;C;C=to(C))x++;for(C=0,R=y;R;R=to(R))C++;for(;0<x-C;)_=to(_),x--;for(;0<C-x;)y=to(y),C--;for(;x--;){if(_===y||y!==null&&_===y.alternate)break t;_=to(_),y=to(y)}_=null}else _=null;m!==null&&i_(f,h,m,_,!1),v!==null&&S!==null&&i_(f,S,v,_,!0)}}e:{if(h=c?uo(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=g2;else if(Yw(h))if(hS)k=_2;else{k=v2;var M=y2}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=w2);if(k&&(k=k(t,c))){dS(f,k,n,d);break e}M&&M(t,h,c),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&rm(h,"number",h.value)}switch(M=c?uo(c):window,t){case"focusin":(Yw(M)||M.contentEditable==="true")&&(lo=M,mm=c,xl=null);break;case"focusout":xl=mm=lo=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,t_(f,n,d);break;case"selectionchange":if(T2)break;case"keydown":case"keyup":t_(f,n,d)}var A;if(dy)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ao?cS(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(lS&&n.locale!=="ko"&&(ao||w!=="onCompositionStart"?w==="onCompositionEnd"&&ao&&(A=aS()):(Si=d,ly="value"in Si?Si.value:Si.textContent,ao=!0)),M=Cd(c,w),0<M.length&&(w=new qw(w,t,null,n,d),f.push({event:w,listeners:M}),A?w.data=A:(A=uS(n),A!==null&&(w.data=A)))),(A=d2?h2(t,n):f2(t,n))&&(c=Cd(c,"onBeforeInput"),0<c.length&&(d=new qw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=A))}ES(f,e)})}function Wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jl(t,n),s!=null&&r.unshift(Wl(t,s,i)),s=jl(t,e),s!=null&&r.push(Wl(t,s,i))),t=t.return}return r}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function i_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=jl(n,s),l!=null&&o.unshift(Wl(n,l,a))):i||(l=jl(n,s),l!=null&&o.push(Wl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var A2=/\r\n?/g,I2=/\u0000|\uFFFD/g;function s_(t){return(typeof t=="string"?t:""+t).replace(A2,`
`).replace(I2,"")}function Su(t,e,n){if(e=s_(e),s_(t)!==e&&n)throw Error($(425))}function Ad(){}var ym=null,vm=null;function wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _m=typeof setTimeout=="function"?setTimeout:void 0,P2=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,R2=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch(k2)}:_m;function k2(t){setTimeout(function(){throw t})}function op(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bl(e)}function ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function a_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ya=Math.random().toString(36).slice(2),rr="__reactFiber$"+ya,ql="__reactProps$"+ya,Lr="__reactContainer$"+ya,xm="__reactEvents$"+ya,N2="__reactListeners$"+ya,D2="__reactHandles$"+ya;function ys(t){var e=t[rr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lr]||n[rr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=a_(t);t!==null;){if(n=t[rr])return n;t=a_(t)}return e}t=n,n=t.parentNode}return null}function Cc(t){return t=t[rr]||t[Lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Ah(t){return t[ql]||null}var Em=[],ho=-1;function ns(t){return{current:t}}function Oe(t){0>ho||(t.current=Em[ho],Em[ho]=null,ho--)}function Pe(t,e){ho++,Em[ho]=t.current,t.current=e}var zi={},jt=ns(zi),Zt=ns(!1),ks=zi;function Ko(t,e){var n=t.type.contextTypes;if(!n)return zi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function en(t){return t=t.childContextTypes,t!=null}function Id(){Oe(Zt),Oe(jt)}function l_(t,e,n){if(jt.current!==zi)throw Error($(168));Pe(jt,e),Pe(Zt,n)}function SS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,yN(t)||"Unknown",i));return Be({},n,r)}function Pd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zi,ks=jt.current,Pe(jt,t),Pe(Zt,Zt.current),!0}function c_(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=SS(t,e,ks),r.__reactInternalMemoizedMergedChildContext=t,Oe(Zt),Oe(jt),Pe(jt,t)):Oe(Zt),Pe(Zt,n)}var br=null,Ih=!1,ap=!1;function bS(t){br===null?br=[t]:br.push(t)}function M2(t){Ih=!0,bS(t)}function rs(){if(!ap&&br!==null){ap=!0;var t=0,e=Te;try{var n=br;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}br=null,Ih=!1}catch(i){throw br!==null&&(br=br.slice(t+1)),Y1(iy,rs),i}finally{Te=e,ap=!1}}return null}var fo=[],po=0,Rd=null,kd=0,En=[],Tn=0,Ns=null,Cr=1,Ar="";function fs(t,e){fo[po++]=kd,fo[po++]=Rd,Rd=t,kd=e}function CS(t,e,n){En[Tn++]=Cr,En[Tn++]=Ar,En[Tn++]=Ns,Ns=t;var r=Cr;t=Ar;var i=32-Fn(r)-1;r&=~(1<<i),n+=1;var s=32-Fn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cr=1<<32-Fn(e)+i|n<<i|r,Ar=s+t}else Cr=1<<s|n<<i|r,Ar=t}function fy(t){t.return!==null&&(fs(t,1),CS(t,1,0))}function py(t){for(;t===Rd;)Rd=fo[--po],fo[po]=null,kd=fo[--po],fo[po]=null;for(;t===Ns;)Ns=En[--Tn],En[Tn]=null,Ar=En[--Tn],En[Tn]=null,Cr=En[--Tn],En[Tn]=null}var fn=null,un=null,Le=!1,jn=null;function AS(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function u_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,un=ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ns!==null?{id:Cr,overflow:Ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,un=null,!0):!1;default:return!1}}function Tm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sm(t){if(Le){var e=un;if(e){var n=e;if(!u_(t,e)){if(Tm(t))throw Error($(418));e=ki(n.nextSibling);var r=fn;e&&u_(t,e)?AS(r,n):(t.flags=t.flags&-4097|2,Le=!1,fn=t)}}else{if(Tm(t))throw Error($(418));t.flags=t.flags&-4097|2,Le=!1,fn=t}}}function d_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function bu(t){if(t!==fn)return!1;if(!Le)return d_(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wm(t.type,t.memoizedProps)),e&&(e=un)){if(Tm(t))throw IS(),Error($(418));for(;e;)AS(t,e),e=ki(e.nextSibling)}if(d_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=fn?ki(t.stateNode.nextSibling):null;return!0}function IS(){for(var t=un;t;)t=ki(t.nextSibling)}function Go(){un=fn=null,Le=!1}function my(t){jn===null?jn=[t]:jn.push(t)}var V2=Gr.ReactCurrentBatchConfig;function Za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Cu(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function h_(t){var e=t._init;return e(t._payload)}function PS(t){function e(y,x){if(t){var C=y.deletions;C===null?(y.deletions=[x],y.flags|=16):C.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Vi(y,x),y.index=0,y.sibling=null,y}function s(y,x,C){return y.index=C,t?(C=y.alternate,C!==null?(C=C.index,C<x?(y.flags|=2,x):C):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,x,C,R){return x===null||x.tag!==6?(x=pp(C,y.mode,R),x.return=y,x):(x=i(x,C),x.return=y,x)}function l(y,x,C,R){var k=C.type;return k===oo?d(y,x,C.props.children,R,C.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===di&&h_(k)===x.type)?(R=i(x,C.props),R.ref=Za(y,x,C),R.return=y,R):(R=rd(C.type,C.key,C.props,null,y.mode,R),R.ref=Za(y,x,C),R.return=y,R)}function c(y,x,C,R){return x===null||x.tag!==4||x.stateNode.containerInfo!==C.containerInfo||x.stateNode.implementation!==C.implementation?(x=mp(C,y.mode,R),x.return=y,x):(x=i(x,C.children||[]),x.return=y,x)}function d(y,x,C,R,k){return x===null||x.tag!==7?(x=As(C,y.mode,R,k),x.return=y,x):(x=i(x,C),x.return=y,x)}function f(y,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return x=pp(""+x,y.mode,C),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mu:return C=rd(x.type,x.key,x.props,null,y.mode,C),C.ref=Za(y,null,x),C.return=y,C;case so:return x=mp(x,y.mode,C),x.return=y,x;case di:var R=x._init;return f(y,R(x._payload),C)}if(al(x)||Ga(x))return x=As(x,y.mode,C,null),x.return=y,x;Cu(y,x)}return null}function h(y,x,C,R){var k=x!==null?x.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return k!==null?null:a(y,x,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case mu:return C.key===k?l(y,x,C,R):null;case so:return C.key===k?c(y,x,C,R):null;case di:return k=C._init,h(y,x,k(C._payload),R)}if(al(C)||Ga(C))return k!==null?null:d(y,x,C,R,null);Cu(y,C)}return null}function m(y,x,C,R,k){if(typeof R=="string"&&R!==""||typeof R=="number")return y=y.get(C)||null,a(x,y,""+R,k);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case mu:return y=y.get(R.key===null?C:R.key)||null,l(x,y,R,k);case so:return y=y.get(R.key===null?C:R.key)||null,c(x,y,R,k);case di:var M=R._init;return m(y,x,C,M(R._payload),k)}if(al(R)||Ga(R))return y=y.get(C)||null,d(x,y,R,k,null);Cu(x,R)}return null}function v(y,x,C,R){for(var k=null,M=null,A=x,w=x=0,b=null;A!==null&&w<C.length;w++){A.index>w?(b=A,A=null):b=A.sibling;var I=h(y,A,C[w],R);if(I===null){A===null&&(A=b);break}t&&A&&I.alternate===null&&e(y,A),x=s(I,x,w),M===null?k=I:M.sibling=I,M=I,A=b}if(w===C.length)return n(y,A),Le&&fs(y,w),k;if(A===null){for(;w<C.length;w++)A=f(y,C[w],R),A!==null&&(x=s(A,x,w),M===null?k=A:M.sibling=A,M=A);return Le&&fs(y,w),k}for(A=r(y,A);w<C.length;w++)b=m(A,y,w,C[w],R),b!==null&&(t&&b.alternate!==null&&A.delete(b.key===null?w:b.key),x=s(b,x,w),M===null?k=b:M.sibling=b,M=b);return t&&A.forEach(function(N){return e(y,N)}),Le&&fs(y,w),k}function _(y,x,C,R){var k=Ga(C);if(typeof k!="function")throw Error($(150));if(C=k.call(C),C==null)throw Error($(151));for(var M=k=null,A=x,w=x=0,b=null,I=C.next();A!==null&&!I.done;w++,I=C.next()){A.index>w?(b=A,A=null):b=A.sibling;var N=h(y,A,I.value,R);if(N===null){A===null&&(A=b);break}t&&A&&N.alternate===null&&e(y,A),x=s(N,x,w),M===null?k=N:M.sibling=N,M=N,A=b}if(I.done)return n(y,A),Le&&fs(y,w),k;if(A===null){for(;!I.done;w++,I=C.next())I=f(y,I.value,R),I!==null&&(x=s(I,x,w),M===null?k=I:M.sibling=I,M=I);return Le&&fs(y,w),k}for(A=r(y,A);!I.done;w++,I=C.next())I=m(A,y,w,I.value,R),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?w:I.key),x=s(I,x,w),M===null?k=I:M.sibling=I,M=I);return t&&A.forEach(function(V){return e(y,V)}),Le&&fs(y,w),k}function S(y,x,C,R){if(typeof C=="object"&&C!==null&&C.type===oo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case mu:e:{for(var k=C.key,M=x;M!==null;){if(M.key===k){if(k=C.type,k===oo){if(M.tag===7){n(y,M.sibling),x=i(M,C.props.children),x.return=y,y=x;break e}}else if(M.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===di&&h_(k)===M.type){n(y,M.sibling),x=i(M,C.props),x.ref=Za(y,M,C),x.return=y,y=x;break e}n(y,M);break}else e(y,M);M=M.sibling}C.type===oo?(x=As(C.props.children,y.mode,R,C.key),x.return=y,y=x):(R=rd(C.type,C.key,C.props,null,y.mode,R),R.ref=Za(y,x,C),R.return=y,y=R)}return o(y);case so:e:{for(M=C.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===C.containerInfo&&x.stateNode.implementation===C.implementation){n(y,x.sibling),x=i(x,C.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=mp(C,y.mode,R),x.return=y,y=x}return o(y);case di:return M=C._init,S(y,x,M(C._payload),R)}if(al(C))return v(y,x,C,R);if(Ga(C))return _(y,x,C,R);Cu(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,C),x.return=y,y=x):(n(y,x),x=pp(C,y.mode,R),x.return=y,y=x),o(y)):n(y,x)}return S}var Qo=PS(!0),RS=PS(!1),Nd=ns(null),Dd=null,mo=null,gy=null;function yy(){gy=mo=Dd=null}function vy(t){var e=Nd.current;Oe(Nd),t._currentValue=e}function bm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Po(t,e){Dd=t,gy=mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(gy!==t)if(t={context:t,memoizedValue:e,next:null},mo===null){if(Dd===null)throw Error($(308));mo=t,Dd.dependencies={lanes:0,firstContext:t}}else mo=mo.next=t;return e}var vs=null;function wy(t){vs===null?vs=[t]:vs.push(t)}function kS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wy(e)):(n.next=i.next,i.next=n),e.interleaved=n,jr(t,r)}function jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function _y(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jr(t,n)}return i=r.interleaved,i===null?(e.next=e,wy(r)):(e.next=i.next,i.next=e),r.interleaved=e,jr(t,n)}function Xu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sy(t,n)}}function f_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Md(t,e,n,r){var i=t.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(h=e,m=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=Be({},f,h);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ms|=o,t.lanes=o,t.memoizedState=f}}function p_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Ac={},sr=ns(Ac),Kl=ns(Ac),Gl=ns(Ac);function ws(t){if(t===Ac)throw Error($(174));return t}function xy(t,e){switch(Pe(Gl,e),Pe(Kl,t),Pe(sr,Ac),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sm(e,t)}Oe(sr),Pe(sr,e)}function Yo(){Oe(sr),Oe(Kl),Oe(Gl)}function DS(t){ws(Gl.current);var e=ws(sr.current),n=sm(e,t.type);e!==n&&(Pe(Kl,t),Pe(sr,n))}function Ey(t){Kl.current===t&&(Oe(sr),Oe(Kl))}var je=ns(0);function Vd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lp=[];function Ty(){for(var t=0;t<lp.length;t++)lp[t]._workInProgressVersionPrimary=null;lp.length=0}var Ju=Gr.ReactCurrentDispatcher,cp=Gr.ReactCurrentBatchConfig,Ds=0,Ue=null,it=null,ut=null,Od=!1,El=!1,Ql=0,O2=0;function It(){throw Error($(321))}function Sy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zn(t[n],e[n]))return!1;return!0}function by(t,e,n,r,i,s){if(Ds=s,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ju.current=t===null||t.memoizedState===null?U2:B2,t=n(r,i),El){s=0;do{if(El=!1,Ql=0,25<=s)throw Error($(301));s+=1,ut=it=null,e.updateQueue=null,Ju.current=$2,t=n(r,i)}while(El)}if(Ju.current=Ld,e=it!==null&&it.next!==null,Ds=0,ut=it=Ue=null,Od=!1,e)throw Error($(300));return t}function Cy(){var t=Ql!==0;return Ql=0,t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ue.memoizedState=ut=t:ut=ut.next=t,ut}function An(){if(it===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ut===null?Ue.memoizedState:ut.next;if(e!==null)ut=e,it=t;else{if(t===null)throw Error($(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ut===null?Ue.memoizedState=ut=t:ut=ut.next=t}return ut}function Yl(t,e){return typeof e=="function"?e(t):e}function up(t){var e=An(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Ds&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ue.lanes|=d,Ms|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,zn(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ue.lanes|=s,Ms|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dp(t){var e=An(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);zn(s,e.memoizedState)||(Jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function MS(){}function VS(t,e){var n=Ue,r=An(),i=e(),s=!zn(r.memoizedState,i);if(s&&(r.memoizedState=i,Jt=!0),r=r.queue,Ay(jS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Xl(9,LS.bind(null,n,r,i,e),void 0,null),dt===null)throw Error($(349));Ds&30||OS(n,e,i)}return i}function OS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LS(t,e,n,r){e.value=n,e.getSnapshot=r,FS(e)&&US(t)}function jS(t,e,n){return n(function(){FS(e)&&US(t)})}function FS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zn(t,n)}catch{return!0}}function US(t){var e=jr(t,1);e!==null&&Un(e,t,1,-1)}function m_(t){var e=Zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:t},e.queue=t,t=t.dispatch=F2.bind(null,Ue,t),[e.memoizedState,t]}function Xl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BS(){return An().memoizedState}function Zu(t,e,n,r){var i=Zn();Ue.flags|=t,i.memoizedState=Xl(1|e,n,void 0,r===void 0?null:r)}function Ph(t,e,n,r){var i=An();r=r===void 0?null:r;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,r!==null&&Sy(r,o.deps)){i.memoizedState=Xl(e,n,s,r);return}}Ue.flags|=t,i.memoizedState=Xl(1|e,n,s,r)}function g_(t,e){return Zu(8390656,8,t,e)}function Ay(t,e){return Ph(2048,8,t,e)}function $S(t,e){return Ph(4,2,t,e)}function zS(t,e){return Ph(4,4,t,e)}function HS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WS(t,e,n){return n=n!=null?n.concat([t]):null,Ph(4,4,HS.bind(null,e,t),n)}function Iy(){}function qS(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KS(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GS(t,e,n){return Ds&21?(zn(n,e)||(n=Z1(),Ue.lanes|=n,Ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function L2(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=cp.transition;cp.transition={};try{t(!1),e()}finally{Te=n,cp.transition=r}}function QS(){return An().memoizedState}function j2(t,e,n){var r=Mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YS(t))XS(e,n);else if(n=kS(t,e,n,r),n!==null){var i=qt();Un(n,t,r,i),JS(n,e,r)}}function F2(t,e,n){var r=Mi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YS(t))XS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,zn(a,o)){var l=e.interleaved;l===null?(i.next=i,wy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=kS(t,e,i,r),n!==null&&(i=qt(),Un(n,t,r,i),JS(n,e,r))}}function YS(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function XS(t,e){El=Od=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function JS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sy(t,n)}}var Ld={readContext:Cn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},U2={readContext:Cn,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:g_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zu(4194308,4,HS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zu(4,2,t,e)},useMemo:function(t,e){var n=Zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=j2.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:m_,useDebugValue:Iy,useDeferredValue:function(t){return Zn().memoizedState=t},useTransition:function(){var t=m_(!1),e=t[0];return t=L2.bind(null,t[1]),Zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=Zn();if(Le){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),dt===null)throw Error($(349));Ds&30||OS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,g_(jS.bind(null,r,s,t),[t]),r.flags|=2048,Xl(9,LS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Zn(),e=dt.identifierPrefix;if(Le){var n=Ar,r=Cr;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ql++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=O2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B2={readContext:Cn,useCallback:qS,useContext:Cn,useEffect:Ay,useImperativeHandle:WS,useInsertionEffect:$S,useLayoutEffect:zS,useMemo:KS,useReducer:up,useRef:BS,useState:function(){return up(Yl)},useDebugValue:Iy,useDeferredValue:function(t){var e=An();return GS(e,it.memoizedState,t)},useTransition:function(){var t=up(Yl)[0],e=An().memoizedState;return[t,e]},useMutableSource:MS,useSyncExternalStore:VS,useId:QS,unstable_isNewReconciler:!1},$2={readContext:Cn,useCallback:qS,useContext:Cn,useEffect:Ay,useImperativeHandle:WS,useInsertionEffect:$S,useLayoutEffect:zS,useMemo:KS,useReducer:dp,useRef:BS,useState:function(){return dp(Yl)},useDebugValue:Iy,useDeferredValue:function(t){var e=An();return it===null?e.memoizedState=t:GS(e,it.memoizedState,t)},useTransition:function(){var t=dp(Yl)[0],e=An().memoizedState;return[t,e]},useMutableSource:MS,useSyncExternalStore:VS,useId:QS,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rh={isMounted:function(t){return(t=t._reactInternals)?Hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qt(),i=Mi(t),s=Dr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,i),e!==null&&(Un(e,t,i,r),Xu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qt(),i=Mi(t),s=Dr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,i),e!==null&&(Un(e,t,i,r),Xu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qt(),r=Mi(t),i=Dr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ni(t,i,r),e!==null&&(Un(e,t,r,n),Xu(e,t,r))}};function y_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!zl(n,r)||!zl(i,s):!0}function ZS(t,e,n){var r=!1,i=zi,s=e.contextType;return typeof s=="object"&&s!==null?s=Cn(s):(i=en(e)?ks:jt.current,r=e.contextTypes,s=(r=r!=null)?Ko(t,i):zi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function v_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rh.enqueueReplaceState(e,e.state,null)}function Am(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_y(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Cn(s):(s=en(e)?ks:jt.current,i.context=Ko(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rh.enqueueReplaceState(i,i.state,null),Md(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xo(t,e){try{var n="",r=e;do n+=gN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function hp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Im(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var z2=typeof WeakMap=="function"?WeakMap:Map;function eb(t,e,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fd||(Fd=!0,jm=r),Im(t,e)},n}function tb(t,e,n){n=Dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Im(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Im(t,e),typeof r!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function w_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new z2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rD.bind(null,t,e,n),e.then(t,t))}function __(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function x_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dr(-1,1),e.tag=2,Ni(n,e,1))),n.lanes|=1),t)}var H2=Gr.ReactCurrentOwner,Jt=!1;function zt(t,e,n,r){e.child=t===null?RS(e,null,n,r):Qo(e,t.child,n,r)}function E_(t,e,n,r,i){n=n.render;var s=e.ref;return Po(e,i),r=by(t,e,n,r,s,i),n=Cy(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Le&&n&&fy(e),e.flags|=1,zt(t,e,r,i),e.child)}function T_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Oy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,nb(t,e,s,r,i)):(t=rd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:zl,n(o,r)&&t.ref===e.ref)return Fr(t,e,i)}return e.flags|=1,t=Vi(s,r),t.ref=e.ref,t.return=e,e.child=t}function nb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(zl(s,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Fr(t,e,i)}return Pm(t,e,n,r,i)}function rb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(yo,ln),ln|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(yo,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(yo,ln),ln|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(yo,ln),ln|=r;return zt(t,e,i,n),e.child}function ib(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pm(t,e,n,r,i){var s=en(n)?ks:jt.current;return s=Ko(e,s),Po(e,i),n=by(t,e,n,r,s,i),r=Cy(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Le&&r&&fy(e),e.flags|=1,zt(t,e,n,i),e.child)}function S_(t,e,n,r,i){if(en(n)){var s=!0;Pd(e)}else s=!1;if(Po(e,i),e.stateNode===null)ed(t,e),ZS(e,n,r),Am(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Cn(c):(c=en(n)?ks:jt.current,c=Ko(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&v_(e,o,r,c),hi=!1;var h=e.memoizedState;o.state=h,Md(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Zt.current||hi?(typeof d=="function"&&(Cm(e,n,d,r),l=e.memoizedState),(a=hi||y_(e,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Mn(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=en(n)?ks:jt.current,l=Ko(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&v_(e,o,r,l),hi=!1,h=e.memoizedState,o.state=h,Md(e,r,o,i);var v=e.memoizedState;a!==f||h!==v||Zt.current||hi?(typeof m=="function"&&(Cm(e,n,m,r),v=e.memoizedState),(c=hi||y_(e,n,c,r,h,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Rm(t,e,n,r,s,i)}function Rm(t,e,n,r,i,s){ib(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&c_(e,n,!1),Fr(t,e,s);r=e.stateNode,H2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qo(e,t.child,null,s),e.child=Qo(e,null,a,s)):zt(t,e,a,s),e.memoizedState=r.state,i&&c_(e,n,!0),e.child}function sb(t){var e=t.stateNode;e.pendingContext?l_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&l_(t,e.context,!1),xy(t,e.containerInfo)}function b_(t,e,n,r,i){return Go(),my(i),e.flags|=256,zt(t,e,n,r),e.child}var km={dehydrated:null,treeContext:null,retryLane:0};function Nm(t){return{baseLanes:t,cachePool:null,transitions:null}}function ob(t,e,n){var r=e.pendingProps,i=je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(je,i&1),t===null)return Sm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dh(o,r,0,null),t=As(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Nm(n),e.memoizedState=km,t):Py(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return W2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Vi(a,s):(s=As(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Nm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=km,r}return s=t.child,t=s.sibling,r=Vi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Py(t,e){return e=Dh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Au(t,e,n,r){return r!==null&&my(r),Qo(e,t.child,null,n),t=Py(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function W2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=hp(Error($(422))),Au(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Dh({mode:"visible",children:r.children},i,0,null),s=As(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Qo(e,t.child,null,o),e.child.memoizedState=Nm(o),e.memoizedState=km,s);if(!(e.mode&1))return Au(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=hp(s,r,void 0),Au(t,e,o,r)}if(a=(o&t.childLanes)!==0,Jt||a){if(r=dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jr(t,i),Un(r,t,i,-1))}return Vy(),r=hp(Error($(421))),Au(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,un=ki(i.nextSibling),fn=e,Le=!0,jn=null,t!==null&&(En[Tn++]=Cr,En[Tn++]=Ar,En[Tn++]=Ns,Cr=t.id,Ar=t.overflow,Ns=e),e=Py(e,r.children),e.flags|=4096,e)}function C_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bm(t.return,e,n)}function fp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ab(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(zt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C_(t,n,e);else if(t.tag===19)C_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Vd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fp(e,!0,n,null,s);break;case"together":fp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ed(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function q2(t,e,n){switch(e.tag){case 3:sb(e),Go();break;case 5:DS(e);break;case 1:en(e.type)&&Pd(e);break;case 4:xy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(Nd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?ob(t,e,n):(Pe(je,je.current&1),t=Fr(t,e,n),t!==null?t.sibling:null);Pe(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ab(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,rb(t,e,n)}return Fr(t,e,n)}var lb,Dm,cb,ub;lb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dm=function(){};cb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ws(sr.current);var s=null;switch(n){case"input":i=tm(t,i),r=tm(t,r),s=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),s=[];break;case"textarea":i=im(t,i),r=im(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ad)}om(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ol.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Me("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ub=function(t,e,n,r){n!==r&&(e.flags|=4)};function el(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function K2(t,e,n){var r=e.pendingProps;switch(py(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return en(e.type)&&Id(),Pt(e),null;case 3:return r=e.stateNode,Yo(),Oe(Zt),Oe(jt),Ty(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(Bm(jn),jn=null))),Dm(t,e),Pt(e),null;case 5:Ey(e);var i=ws(Gl.current);if(n=e.type,t!==null&&e.stateNode!=null)cb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Pt(e),null}if(t=ws(sr.current),bu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[rr]=e,r[ql]=s,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<cl.length;i++)Me(cl[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Vw(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":Lw(r,s),Me("invalid",r)}om(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Su(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Su(r.textContent,a,t),i=["children",""+a]):Ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":gu(r),Ow(r,s,!0);break;case"textarea":gu(r),jw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ad)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=j1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rr]=e,t[ql]=r,lb(t,e,!1,!1),e.stateNode=t;e:{switch(o=am(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<cl.length;i++)Me(cl[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":Vw(t,r),i=tm(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),Me("invalid",t);break;case"textarea":Lw(t,r),i=im(t,r),Me("invalid",t);break;default:i=r}om(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?B1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&F1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ll(t,l):typeof l=="number"&&Ll(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ol.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Me("scroll",t):l!=null&&Zg(t,s,l,o))}switch(n){case"input":gu(t),Ow(t,r,!1);break;case"textarea":gu(t),jw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$i(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?bo(t,!!r.multiple,s,!1):r.defaultValue!=null&&bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ad)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)ub(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ws(Gl.current),ws(sr.current),bu(e)){if(r=e.stateNode,n=e.memoizedProps,r[rr]=e,(s=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:Su(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Su(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rr]=e,e.stateNode=r}return Pt(e),null;case 13:if(Oe(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&un!==null&&e.mode&1&&!(e.flags&128))IS(),Go(),e.flags|=98560,s=!1;else if(s=bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[rr]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),s=!1}else jn!==null&&(Bm(jn),jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?st===0&&(st=3):Vy())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return Yo(),Dm(t,e),t===null&&Hl(e.stateNode.containerInfo),Pt(e),null;case 10:return vy(e.type._context),Pt(e),null;case 17:return en(e.type)&&Id(),Pt(e),null;case 19:if(Oe(je),s=e.memoizedState,s===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)el(s,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vd(t),o!==null){for(e.flags|=128,el(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xe()>Jo&&(e.flags|=128,r=!0,el(s,!1),e.lanes=4194304)}else{if(!r)if(t=Vd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),el(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Le)return Pt(e),null}else 2*Xe()-s.renderingStartTime>Jo&&n!==1073741824&&(e.flags|=128,r=!0,el(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xe(),e.sibling=null,n=je.current,Pe(je,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return My(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ln&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function G2(t,e){switch(py(e),e.tag){case 1:return en(e.type)&&Id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yo(),Oe(Zt),Oe(jt),Ty(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ey(e),null;case 13:if(Oe(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(je),null;case 4:return Yo(),null;case 10:return vy(e.type._context),null;case 22:case 23:return My(),null;case 24:return null;default:return null}}var Iu=!1,Mt=!1,Q2=typeof WeakSet=="function"?WeakSet:Set,Q=null;function go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function Mm(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var A_=!1;function Y2(t,e){if(ym=Sd,t=mS(),hy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vm={focusedElem:t,selectionRange:n},Sd=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,S=v.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:Mn(e.type,_),S);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(R){Ke(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return v=A_,A_=!1,v}function Tl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mm(e,n,s)}i=i.next}while(i!==r)}}function kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function db(t){var e=t.alternate;e!==null&&(t.alternate=null,db(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rr],delete e[ql],delete e[xm],delete e[N2],delete e[D2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hb(t){return t.tag===5||t.tag===3||t.tag===4}function I_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ad));else if(r!==4&&(t=t.child,t!==null))for(Om(t,e,n),t=t.sibling;t!==null;)Om(t,e,n),t=t.sibling}function Lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lm(t,e,n),t=t.sibling;t!==null;)Lm(t,e,n),t=t.sibling}var ft=null,Ln=!1;function ii(t,e,n){for(n=n.child;n!==null;)fb(t,e,n),n=n.sibling}function fb(t,e,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Th,n)}catch{}switch(n.tag){case 5:Mt||go(n,e);case 6:var r=ft,i=Ln;ft=null,ii(t,e,n),ft=r,Ln=i,ft!==null&&(Ln?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(Ln?(t=ft,n=n.stateNode,t.nodeType===8?op(t.parentNode,n):t.nodeType===1&&op(t,n),Bl(t)):op(ft,n.stateNode));break;case 4:r=ft,i=Ln,ft=n.stateNode.containerInfo,Ln=!0,ii(t,e,n),ft=r,Ln=i;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mm(n,e,o),i=i.next}while(i!==r)}ii(t,e,n);break;case 1:if(!Mt&&(go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}ii(t,e,n);break;case 21:ii(t,e,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,ii(t,e,n),Mt=r):ii(t,e,n);break;default:ii(t,e,n)}}function P_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Q2),e.forEach(function(r){var i=sD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,Ln=!1;break e;case 3:ft=a.stateNode.containerInfo,Ln=!0;break e;case 4:ft=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(ft===null)throw Error($(160));fb(s,o,i),ft=null,Ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ke(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pb(e,t),e=e.sibling}function pb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),Jn(t),r&4){try{Tl(3,t,t.return),kh(3,t)}catch(_){Ke(t,t.return,_)}try{Tl(5,t,t.return)}catch(_){Ke(t,t.return,_)}}break;case 1:Nn(e,t),Jn(t),r&512&&n!==null&&go(n,n.return);break;case 5:if(Nn(e,t),Jn(t),r&512&&n!==null&&go(n,n.return),t.flags&32){var i=t.stateNode;try{Ll(i,"")}catch(_){Ke(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&O1(i,s),am(a,o);var c=am(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?B1(i,f):d==="dangerouslySetInnerHTML"?F1(i,f):d==="children"?Ll(i,f):Zg(i,d,f,c)}switch(a){case"input":nm(i,s);break;case"textarea":L1(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?bo(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?bo(i,!!s.multiple,s.defaultValue,!0):bo(i,!!s.multiple,s.multiple?[]:"",!1))}i[ql]=s}catch(_){Ke(t,t.return,_)}}break;case 6:if(Nn(e,t),Jn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Ke(t,t.return,_)}}break;case 3:if(Nn(e,t),Jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bl(e.containerInfo)}catch(_){Ke(t,t.return,_)}break;case 4:Nn(e,t),Jn(t);break;case 13:Nn(e,t),Jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ny=Xe())),r&4&&P_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Mt=(c=Mt)||d,Nn(e,t),Mt=c):Nn(e,t),Jn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(f=Q=d;Q!==null;){switch(h=Q,m=h.child,h.tag){case 0:case 11:case 14:case 15:Tl(4,h,h.return);break;case 1:go(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Ke(r,n,_)}}break;case 5:go(h,h.return);break;case 22:if(h.memoizedState!==null){k_(f);continue}}m!==null?(m.return=h,Q=m):k_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=U1("display",o))}catch(_){Ke(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){Ke(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nn(e,t),Jn(t),r&4&&P_(t);break;case 21:break;default:Nn(e,t),Jn(t)}}function Jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hb(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ll(i,""),r.flags&=-33);var s=I_(t);Lm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=I_(t);Om(t,a,o);break;default:throw Error($(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function X2(t,e,n){Q=t,mb(t)}function mb(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Iu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Mt;a=Iu;var c=Mt;if(Iu=o,(Mt=l)&&!c)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?N_(i):l!==null?(l.return=o,Q=l):N_(i);for(;s!==null;)Q=s,mb(s),s=s.sibling;Q=i,Iu=a,Mt=c}R_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):R_(t)}}function R_(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mt||kh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&p_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}p_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Bl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Mt||e.flags&512&&Vm(e)}catch(h){Ke(e,e.return,h)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function k_(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function N_(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kh(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var s=e.return;try{Vm(e)}catch(l){Ke(e,s,l)}break;case 5:var o=e.return;try{Vm(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var J2=Math.ceil,jd=Gr.ReactCurrentDispatcher,Ry=Gr.ReactCurrentOwner,bn=Gr.ReactCurrentBatchConfig,ye=0,dt=null,tt=null,vt=0,ln=0,yo=ns(0),st=0,Jl=null,Ms=0,Nh=0,ky=0,Sl=null,Yt=null,Ny=0,Jo=1/0,Sr=null,Fd=!1,jm=null,Di=null,Pu=!1,bi=null,Ud=0,bl=0,Fm=null,td=-1,nd=0;function qt(){return ye&6?Xe():td!==-1?td:td=Xe()}function Mi(t){return t.mode&1?ye&2&&vt!==0?vt&-vt:V2.transition!==null?(nd===0&&(nd=Z1()),nd):(t=Te,t!==0||(t=window.event,t=t===void 0?16:oS(t.type)),t):1}function Un(t,e,n,r){if(50<bl)throw bl=0,Fm=null,Error($(185));Sc(t,n,r),(!(ye&2)||t!==dt)&&(t===dt&&(!(ye&2)&&(Nh|=n),st===4&&pi(t,vt)),tn(t,r),n===1&&ye===0&&!(e.mode&1)&&(Jo=Xe()+500,Ih&&rs()))}function tn(t,e){var n=t.callbackNode;VN(t,e);var r=Td(t,t===dt?vt:0);if(r===0)n!==null&&Bw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bw(n),e===1)t.tag===0?M2(D_.bind(null,t)):bS(D_.bind(null,t)),R2(function(){!(ye&6)&&rs()}),n=null;else{switch(eS(r)){case 1:n=iy;break;case 4:n=X1;break;case 16:n=Ed;break;case 536870912:n=J1;break;default:n=Ed}n=Tb(n,gb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gb(t,e){if(td=-1,nd=0,ye&6)throw Error($(327));var n=t.callbackNode;if(Ro()&&t.callbackNode!==n)return null;var r=Td(t,t===dt?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bd(t,r);else{e=r;var i=ye;ye|=2;var s=vb();(dt!==t||vt!==e)&&(Sr=null,Jo=Xe()+500,Cs(t,e));do try{tD();break}catch(a){yb(t,a)}while(!0);yy(),jd.current=s,ye=i,tt!==null?e=0:(dt=null,vt=0,e=st)}if(e!==0){if(e===2&&(i=hm(t),i!==0&&(r=i,e=Um(t,i))),e===1)throw n=Jl,Cs(t,0),pi(t,r),tn(t,Xe()),n;if(e===6)pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!Z2(i)&&(e=Bd(t,r),e===2&&(s=hm(t),s!==0&&(r=s,e=Um(t,s))),e===1))throw n=Jl,Cs(t,0),pi(t,r),tn(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:ps(t,Yt,Sr);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=Ny+500-Xe(),10<e)){if(Td(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_m(ps.bind(null,t,Yt,Sr),e);break}ps(t,Yt,Sr);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Fn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J2(r/1960))-r,10<r){t.timeoutHandle=_m(ps.bind(null,t,Yt,Sr),r);break}ps(t,Yt,Sr);break;case 5:ps(t,Yt,Sr);break;default:throw Error($(329))}}}return tn(t,Xe()),t.callbackNode===n?gb.bind(null,t):null}function Um(t,e){var n=Sl;return t.current.memoizedState.isDehydrated&&(Cs(t,e).flags|=256),t=Bd(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&Bm(e)),t}function Bm(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function Z2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~ky,e&=~Nh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fn(e),r=1<<n;t[n]=-1,e&=~r}}function D_(t){if(ye&6)throw Error($(327));Ro();var e=Td(t,0);if(!(e&1))return tn(t,Xe()),null;var n=Bd(t,e);if(t.tag!==0&&n===2){var r=hm(t);r!==0&&(e=r,n=Um(t,r))}if(n===1)throw n=Jl,Cs(t,0),pi(t,e),tn(t,Xe()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ps(t,Yt,Sr),tn(t,Xe()),null}function Dy(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(Jo=Xe()+500,Ih&&rs())}}function Vs(t){bi!==null&&bi.tag===0&&!(ye&6)&&Ro();var e=ye;ye|=1;var n=bn.transition,r=Te;try{if(bn.transition=null,Te=1,t)return t()}finally{Te=r,bn.transition=n,ye=e,!(ye&6)&&rs()}}function My(){ln=yo.current,Oe(yo)}function Cs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,P2(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(py(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Id();break;case 3:Yo(),Oe(Zt),Oe(jt),Ty();break;case 5:Ey(r);break;case 4:Yo();break;case 13:Oe(je);break;case 19:Oe(je);break;case 10:vy(r.type._context);break;case 22:case 23:My()}n=n.return}if(dt=t,tt=t=Vi(t.current,null),vt=ln=e,st=0,Jl=null,ky=Nh=Ms=0,Yt=Sl=null,vs!==null){for(e=0;e<vs.length;e++)if(n=vs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vs=null}return t}function yb(t,e){do{var n=tt;try{if(yy(),Ju.current=Ld,Od){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Od=!1}if(Ds=0,ut=it=Ue=null,El=!1,Ql=0,Ry.current=null,n===null||n.return===null){st=1,Jl=e,tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=__(o);if(m!==null){m.flags&=-257,x_(m,o,a,s,e),m.mode&1&&w_(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){w_(s,c,e),Vy();break e}l=Error($(426))}}else if(Le&&a.mode&1){var S=__(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),x_(S,o,a,s,e),my(Xo(l,a));break e}}s=l=Xo(l,a),st!==4&&(st=2),Sl===null?Sl=[s]:Sl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=eb(s,l,e);f_(s,y);break e;case 1:a=l;var x=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Di===null||!Di.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=tb(s,a,e);f_(s,R);break e}}s=s.return}while(s!==null)}_b(n)}catch(k){e=k,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function vb(){var t=jd.current;return jd.current=Ld,t===null?Ld:t}function Vy(){(st===0||st===3||st===2)&&(st=4),dt===null||!(Ms&268435455)&&!(Nh&268435455)||pi(dt,vt)}function Bd(t,e){var n=ye;ye|=2;var r=vb();(dt!==t||vt!==e)&&(Sr=null,Cs(t,e));do try{eD();break}catch(i){yb(t,i)}while(!0);if(yy(),ye=n,jd.current=r,tt!==null)throw Error($(261));return dt=null,vt=0,st}function eD(){for(;tt!==null;)wb(tt)}function tD(){for(;tt!==null&&!CN();)wb(tt)}function wb(t){var e=Eb(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?_b(t):tt=e,Ry.current=null}function _b(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=G2(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,tt=null;return}}else if(n=K2(n,e,ln),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);st===0&&(st=5)}function ps(t,e,n){var r=Te,i=bn.transition;try{bn.transition=null,Te=1,nD(t,e,n,r)}finally{bn.transition=i,Te=r}return null}function nD(t,e,n,r){do Ro();while(bi!==null);if(ye&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ON(t,s),t===dt&&(tt=dt=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pu||(Pu=!0,Tb(Ed,function(){return Ro(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bn.transition,bn.transition=null;var o=Te;Te=1;var a=ye;ye|=4,Ry.current=null,Y2(t,n),pb(n,t),E2(vm),Sd=!!ym,vm=ym=null,t.current=n,X2(n),AN(),ye=a,Te=o,bn.transition=s}else t.current=n;if(Pu&&(Pu=!1,bi=t,Ud=i),s=t.pendingLanes,s===0&&(Di=null),RN(n.stateNode),tn(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fd)throw Fd=!1,t=jm,jm=null,t;return Ud&1&&t.tag!==0&&Ro(),s=t.pendingLanes,s&1?t===Fm?bl++:(bl=0,Fm=t):bl=0,rs(),null}function Ro(){if(bi!==null){var t=eS(Ud),e=bn.transition,n=Te;try{if(bn.transition=null,Te=16>t?16:t,bi===null)var r=!1;else{if(t=bi,bi=null,Ud=0,ye&6)throw Error($(331));var i=ye;for(ye|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Tl(8,d,s)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var h=d.sibling,m=d.return;if(db(d),d===c){Q=null;break}if(h!==null){h.return=m,Q=h;break}Q=m}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tl(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Q=y;break e}Q=s.return}}var x=t.current;for(Q=x;Q!==null;){o=Q;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Q=C;else e:for(o=x;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kh(9,a)}}catch(k){Ke(a,a.return,k)}if(a===o){Q=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,Q=R;break e}Q=a.return}}if(ye=i,rs(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Th,t)}catch{}r=!0}return r}finally{Te=n,bn.transition=e}}return!1}function M_(t,e,n){e=Xo(n,e),e=eb(t,e,1),t=Ni(t,e,1),e=qt(),t!==null&&(Sc(t,1,e),tn(t,e))}function Ke(t,e,n){if(t.tag===3)M_(t,t,n);else for(;e!==null;){if(e.tag===3){M_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Di===null||!Di.has(r))){t=Xo(n,t),t=tb(e,t,1),e=Ni(e,t,1),t=qt(),e!==null&&(Sc(e,1,t),tn(e,t));break}}e=e.return}}function rD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(vt&n)===n&&(st===4||st===3&&(vt&130023424)===vt&&500>Xe()-Ny?Cs(t,0):ky|=n),tn(t,e)}function xb(t,e){e===0&&(t.mode&1?(e=wu,wu<<=1,!(wu&130023424)&&(wu=4194304)):e=1);var n=qt();t=jr(t,e),t!==null&&(Sc(t,e,n),tn(t,n))}function iD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xb(t,n)}function sD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),xb(t,n)}var Eb;Eb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,q2(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Le&&e.flags&1048576&&CS(e,kd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ed(t,e),t=e.pendingProps;var i=Ko(e,jt.current);Po(e,n),i=by(null,e,r,t,i,n);var s=Cy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(r)?(s=!0,Pd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_y(e),i.updater=Rh,e.stateNode=i,i._reactInternals=e,Am(e,r,t,n),e=Rm(null,e,r,!0,s,n)):(e.tag=0,Le&&s&&fy(e),zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ed(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aD(r),t=Mn(r,t),i){case 0:e=Pm(null,e,r,t,n);break e;case 1:e=S_(null,e,r,t,n);break e;case 11:e=E_(null,e,r,t,n);break e;case 14:e=T_(null,e,r,Mn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Pm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),S_(t,e,r,i,n);case 3:e:{if(sb(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,NS(t,e),Md(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xo(Error($(423)),e),e=b_(t,e,r,n,i);break e}else if(r!==i){i=Xo(Error($(424)),e),e=b_(t,e,r,n,i);break e}else for(un=ki(e.stateNode.containerInfo.firstChild),fn=e,Le=!0,jn=null,n=RS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Go(),r===i){e=Fr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return DS(e),t===null&&Sm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wm(r,i)?o=null:s!==null&&wm(r,s)&&(e.flags|=32),ib(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&Sm(e),null;case 13:return ob(t,e,n);case 4:return xy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qo(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),E_(t,e,r,i,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(Nd,r._currentValue),r._currentValue=o,s!==null)if(zn(s.value,o)){if(s.children===i.children&&!Zt.current){e=Fr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Dr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Po(e,n),i=Cn(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),T_(t,e,r,i,n);case 15:return nb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),ed(t,e),e.tag=1,en(r)?(t=!0,Pd(e)):t=!1,Po(e,n),ZS(e,r,i),Am(e,r,i,n),Rm(null,e,r,!0,t,n);case 19:return ab(t,e,n);case 22:return rb(t,e,n)}throw Error($(156,e.tag))};function Tb(t,e){return Y1(t,e)}function oD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new oD(t,e,n,r)}function Oy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aD(t){if(typeof t=="function")return Oy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ty)return 11;if(t===ny)return 14}return 2}function Vi(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Oy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case oo:return As(n.children,i,s,e);case ey:o=8,i|=8;break;case Xp:return t=Sn(12,n,e,i|2),t.elementType=Xp,t.lanes=s,t;case Jp:return t=Sn(13,n,e,i),t.elementType=Jp,t.lanes=s,t;case Zp:return t=Sn(19,n,e,i),t.elementType=Zp,t.lanes=s,t;case D1:return Dh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k1:o=10;break e;case N1:o=9;break e;case ty:o=11;break e;case ny:o=14;break e;case di:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function As(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function Dh(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=D1,t.lanes=n,t.stateNode={isHidden:!1},t}function pp(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function mp(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qf(0),this.expirationTimes=Qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ly(t,e,n,r,i,s,o,a,l){return t=new lD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_y(s),t}function cD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Sb(t){if(!t)return zi;t=t._reactInternals;e:{if(Hs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(en(n))return SS(t,n,e)}return e}function bb(t,e,n,r,i,s,o,a,l){return t=Ly(n,r,!0,t,i,s,o,a,l),t.context=Sb(null),n=t.current,r=qt(),i=Mi(n),s=Dr(r,i),s.callback=e??null,Ni(n,s,i),t.current.lanes=i,Sc(t,i,r),tn(t,r),t}function Mh(t,e,n,r){var i=e.current,s=qt(),o=Mi(i);return n=Sb(n),e.context===null?e.context=n:e.pendingContext=n,e=Dr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ni(i,e,o),t!==null&&(Un(t,i,o,s),Xu(t,i,o)),o}function $d(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jy(t,e){V_(t,e),(t=t.alternate)&&V_(t,e)}function uD(){return null}var Cb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fy(t){this._internalRoot=t}Vh.prototype.render=Fy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Mh(t,e,null,null)};Vh.prototype.unmount=Fy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vs(function(){Mh(null,t,null,null)}),e[Lr]=null}};function Vh(t){this._internalRoot=t}Vh.prototype.unstable_scheduleHydration=function(t){if(t){var e=rS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&sS(t)}};function Uy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function O_(){}function dD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=$d(o);s.call(c)}}var o=bb(e,r,t,0,null,!1,!1,"",O_);return t._reactRootContainer=o,t[Lr]=o.current,Hl(t.nodeType===8?t.parentNode:t),Vs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=$d(l);a.call(c)}}var l=Ly(t,0,!1,null,null,!1,!1,"",O_);return t._reactRootContainer=l,t[Lr]=l.current,Hl(t.nodeType===8?t.parentNode:t),Vs(function(){Mh(e,l,n,r)}),l}function Lh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$d(o);a.call(l)}}Mh(e,o,t,i)}else o=dD(n,e,t,i,r);return $d(o)}tS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ll(e.pendingLanes);n!==0&&(sy(e,n|1),tn(e,Xe()),!(ye&6)&&(Jo=Xe()+500,rs()))}break;case 13:Vs(function(){var r=jr(t,1);if(r!==null){var i=qt();Un(r,t,1,i)}}),jy(t,1)}};oy=function(t){if(t.tag===13){var e=jr(t,134217728);if(e!==null){var n=qt();Un(e,t,134217728,n)}jy(t,134217728)}};nS=function(t){if(t.tag===13){var e=Mi(t),n=jr(t,e);if(n!==null){var r=qt();Un(n,t,e,r)}jy(t,e)}};rS=function(){return Te};iS=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};cm=function(t,e,n){switch(e){case"input":if(nm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ah(r);if(!i)throw Error($(90));V1(r),nm(r,i)}}}break;case"textarea":L1(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};H1=Dy;W1=Vs;var hD={usingClientEntryPoint:!1,Events:[Cc,uo,Ah,$1,z1,Dy]},tl={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fD={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=G1(t),t===null?null:t.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||uD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Th=Ru.inject(fD),ir=Ru}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hD;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uy(e))throw Error($(200));return cD(t,e,null,n)};yn.createRoot=function(t,e){if(!Uy(t))throw Error($(299));var n=!1,r="",i=Cb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ly(t,1,!1,null,null,n,!1,r,i),t[Lr]=e.current,Hl(t.nodeType===8?t.parentNode:t),new Fy(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=G1(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return Vs(t)};yn.hydrate=function(t,e,n){if(!Oh(e))throw Error($(200));return Lh(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!Uy(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Cb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bb(e,null,t,1,n??null,i,!1,s,o),t[Lr]=e.current,Hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vh(e)};yn.render=function(t,e,n){if(!Oh(e))throw Error($(200));return Lh(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!Oh(t))throw Error($(40));return t._reactRootContainer?(Vs(function(){Lh(null,null,t,!1,function(){t._reactRootContainer=null,t[Lr]=null})}),!0):!1};yn.unstable_batchedUpdates=Dy;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Oh(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Lh(t,e,n,!1,r)};yn.version="18.3.1-next-f1338f8080-20240426";function Ab(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ab)}catch(t){console.error(t)}}Ab(),A1.exports=yn;var Ic=A1.exports;const Ib=qg(Ic);var Pb,L_=Ic;Pb=L_.createRoot,L_.hydrateRoot;const pD=1,mD=1e6;let gp=0;function gD(){return gp=(gp+1)%Number.MAX_SAFE_INTEGER,gp.toString()}const yp=new Map,j_=t=>{if(yp.has(t))return;const e=setTimeout(()=>{yp.delete(t),Cl({type:"REMOVE_TOAST",toastId:t})},mD);yp.set(t,e)},yD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,pD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?j_(n):t.toasts.forEach(r=>{j_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},id=[];let sd={toasts:[]};function Cl(t){sd=yD(sd,t),id.forEach(e=>{e(sd)})}function Ce({...t}){const e=gD(),n=i=>Cl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Cl({type:"DISMISS_TOAST",toastId:e});return Cl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function vD(){const[t,e]=T.useState(sd);return T.useEffect(()=>(id.push(e),()=>{const n=id.indexOf(e);n>-1&&id.splice(n,1)}),[t]),{...t,toast:Ce,dismiss:n=>Cl({type:"DISMISS_TOAST",toastId:n})}}function Ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function wD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Rb(...t){return e=>t.forEach(n=>wD(n,e))}function xt(...t){return T.useCallback(Rb(...t),t)}function _D(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:m,...v}=f,_=(h==null?void 0:h[t][l])||a,S=T.useMemo(()=>v,Object.values(v));return E.jsx(_.Provider,{value:S,children:m})}function d(f,h){const m=(h==null?void 0:h[t][l])||a,v=T.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,xD(i,...e)]}function xD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var zd=T.forwardRef((t,e)=>{const{children:n,...r}=t,i=T.Children.toArray(n),s=i.find(ED);if(s){const o=s.props.children,a=i.map(l=>l===s?T.Children.count(o)>1?T.Children.only(null):T.isValidElement(o)?o.props.children:null:l);return E.jsx($m,{...r,ref:e,children:T.isValidElement(o)?T.cloneElement(o,void 0,a):null})}return E.jsx($m,{...r,ref:e,children:n})});zd.displayName="Slot";var $m=T.forwardRef((t,e)=>{const{children:n,...r}=t;if(T.isValidElement(n)){const i=SD(n);return T.cloneElement(n,{...TD(r,n.props),ref:e?Rb(e,i):i})}return T.Children.count(n)>1?T.Children.only(null):null});$m.displayName="SlotClone";var kb=({children:t})=>E.jsx(E.Fragment,{children:t});function ED(t){return T.isValidElement(t)&&t.type===kb}function TD(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function SD(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function bD(t){const e=t+"CollectionProvider",[n,r]=_D(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:_}=m,S=q.useRef(null),y=q.useRef(new Map).current;return E.jsx(i,{scope:v,itemMap:y,collectionRef:S,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=q.forwardRef((m,v)=>{const{scope:_,children:S}=m,y=s(a,_),x=xt(v,y.collectionRef);return E.jsx(zd,{ref:x,children:S})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=q.forwardRef((m,v)=>{const{scope:_,children:S,...y}=m,x=q.useRef(null),C=xt(v,x),R=s(c,_);return q.useEffect(()=>(R.itemMap.set(x,{ref:x,...y}),()=>void R.itemMap.delete(x))),E.jsx(zd,{[d]:"",ref:C,children:S})});f.displayName=c;function h(m){const v=s(t+"CollectionConsumer",m);return q.useCallback(()=>{const S=v.collectionRef.current;if(!S)return[];const y=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((R,k)=>y.indexOf(R.ref.current)-y.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}function By(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];const c=f=>{var y;const{scope:h,children:m,...v}=f,_=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,S=T.useMemo(()=>v,Object.values(v));return E.jsx(_.Provider,{value:S,children:m})};c.displayName=s+"Provider";function d(f,h){var _;const m=((_=h==null?void 0:h[t])==null?void 0:_[l])||a,v=T.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,CD(i,...e)]}function CD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var AD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],lt=AD.reduce((t,e)=>{const n=T.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?zd:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Nb(t,e){t&&Ic.flushSync(()=>t.dispatchEvent(e))}function gt(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ID(t,e=globalThis==null?void 0:globalThis.document){const n=gt(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var PD="DismissableLayer",zm="dismissableLayer.update",RD="dismissableLayer.pointerDownOutside",kD="dismissableLayer.focusOutside",F_,Db=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$y=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=T.useContext(Db),[d,f]=T.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=T.useState({}),v=xt(e,A=>f(A)),_=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=_.indexOf(S),x=d?_.indexOf(d):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,R=x>=y,k=DD(A=>{const w=A.target,b=[...c.branches].some(I=>I.contains(w));!R||b||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},h),M=MD(A=>{const w=A.target;[...c.branches].some(I=>I.contains(w))||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},h);return ID(A=>{x===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},h),T.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(F_=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),U_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=F_)}},[d,h,n,c]),T.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),U_())},[d,c]),T.useEffect(()=>{const A=()=>m({});return document.addEventListener(zm,A),()=>document.removeEventListener(zm,A)},[]),E.jsx(lt.div,{...l,ref:v,style:{pointerEvents:C?R?"auto":"none":void 0,...t.style},onFocusCapture:Ie(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ie(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ie(t.onPointerDownCapture,k.onPointerDownCapture)})});$y.displayName=PD;var ND="DismissableLayerBranch",Mb=T.forwardRef((t,e)=>{const n=T.useContext(Db),r=T.useRef(null),i=xt(e,r);return T.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),E.jsx(lt.div,{...t,ref:i})});Mb.displayName=ND;function DD(t,e=globalThis==null?void 0:globalThis.document){const n=gt(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Vb(RD,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function MD(t,e=globalThis==null?void 0:globalThis.document){const n=gt(t),r=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!r.current&&Vb(kD,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function U_(){const t=new CustomEvent(zm);document.dispatchEvent(t)}function Vb(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Nb(i,s):i.dispatchEvent(s)}var VD=$y,OD=Mb,Hi=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},LD="Portal",Ob=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=T.useState(!1);Hi(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Ib.createPortal(E.jsx(lt.div,{...r,ref:e}),o):null});Ob.displayName=LD;function jD(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var Ws=t=>{const{present:e,children:n}=t,r=FD(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),s=xt(r.ref,UD(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};Ws.displayName="Presence";function FD(t){const[e,n]=T.useState(),r=T.useRef({}),i=T.useRef(t),s=T.useRef("none"),o=t?"mounted":"unmounted",[a,l]=jD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const c=ku(r.current);s.current=a==="mounted"?c:"none"},[a]),Hi(()=>{const c=r.current,d=i.current;if(d!==t){const h=s.current,m=ku(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Hi(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=m=>{const _=ku(r.current).includes(m.animationName);if(m.target===e&&_&&(l("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},h=m=>{m.target===e&&(s.current=ku(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function ku(t){return(t==null?void 0:t.animationName)||"none"}function UD(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function BD({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=$D({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=gt(n),l=T.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,l]}function $D({defaultProp:t,onChange:e}){const n=T.useState(t),[r]=n,i=T.useRef(r),s=gt(e);return T.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var zD="VisuallyHidden",jh=T.forwardRef((t,e)=>E.jsx(lt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));jh.displayName=zD;var HD=jh,zy="ToastProvider",[Hy,WD,qD]=bD("Toast"),[Lb,Q8]=By("Toast",[qD]),[KD,Fh]=Lb(zy),jb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=T.useState(null),[c,d]=T.useState(0),f=T.useRef(!1),h=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${zy}\`. Expected non-empty \`string\`.`),E.jsx(Hy.Provider,{scope:e,children:E.jsx(KD,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:T.useCallback(()=>d(m=>m+1),[]),onToastRemove:T.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};jb.displayName=zy;var Fb="ToastViewport",GD=["F8"],Hm="toast.viewportPause",Wm="toast.viewportResume",Ub=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=GD,label:i="Notifications ({hotkey})",...s}=t,o=Fh(Fb,n),a=WD(n),l=T.useRef(null),c=T.useRef(null),d=T.useRef(null),f=T.useRef(null),h=xt(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;T.useEffect(()=>{const S=y=>{var C;r.length!==0&&r.every(R=>y[R]||y.code===R)&&((C=f.current)==null||C.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),T.useEffect(()=>{const S=l.current,y=f.current;if(v&&S&&y){const x=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Hm);y.dispatchEvent(M),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Wm);y.dispatchEvent(M),o.isClosePausedRef.current=!1}},R=M=>{!S.contains(M.relatedTarget)&&C()},k=()=>{S.contains(document.activeElement)||C()};return S.addEventListener("focusin",x),S.addEventListener("focusout",R),S.addEventListener("pointermove",x),S.addEventListener("pointerleave",k),window.addEventListener("blur",x),window.addEventListener("focus",C),()=>{S.removeEventListener("focusin",x),S.removeEventListener("focusout",R),S.removeEventListener("pointermove",x),S.removeEventListener("pointerleave",k),window.removeEventListener("blur",x),window.removeEventListener("focus",C)}}},[v,o.isClosePausedRef]);const _=T.useCallback(({tabbingDirection:S})=>{const x=a().map(C=>{const R=C.ref.current,k=[R,...aM(R)];return S==="forwards"?k:k.reverse()});return(S==="forwards"?x.reverse():x).flat()},[a]);return T.useEffect(()=>{const S=f.current;if(S){const y=x=>{var k,M,A;const C=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!C){const w=document.activeElement,b=x.shiftKey;if(x.target===S&&b){(k=c.current)==null||k.focus();return}const V=_({tabbingDirection:b?"backwards":"forwards"}),D=V.findIndex(H=>H===w);vp(V.slice(D+1))?x.preventDefault():b?(M=c.current)==null||M.focus():(A=d.current)==null||A.focus()}};return S.addEventListener("keydown",y),()=>S.removeEventListener("keydown",y)}},[a,_]),E.jsxs(OD,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&E.jsx(qm,{ref:c,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"forwards"});vp(S)}}),E.jsx(Hy.Slot,{scope:n,children:E.jsx(lt.ol,{tabIndex:-1,...s,ref:h})}),v&&E.jsx(qm,{ref:d,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"backwards"});vp(S)}})]})});Ub.displayName=Fb;var Bb="ToastFocusProxy",qm=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Fh(Bb,n);return E.jsx(jh,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});qm.displayName=Bb;var Uh="Toast",QD="toast.swipeStart",YD="toast.swipeMove",XD="toast.swipeCancel",JD="toast.swipeEnd",$b=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=BD({prop:r,defaultProp:i,onChange:s});return E.jsx(Ws,{present:n||a,children:E.jsx(tM,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:gt(t.onPause),onResume:gt(t.onResume),onSwipeStart:Ie(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ie(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});$b.displayName=Uh;var[ZD,eM]=Lb(Uh,{onClose(){}}),tM=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=t,_=Fh(Uh,n),[S,y]=T.useState(null),x=xt(e,H=>y(H)),C=T.useRef(null),R=T.useRef(null),k=i||_.duration,M=T.useRef(0),A=T.useRef(k),w=T.useRef(0),{onToastAdd:b,onToastRemove:I}=_,N=gt(()=>{var se;(S==null?void 0:S.contains(document.activeElement))&&((se=_.viewport)==null||se.focus()),o()}),V=T.useCallback(H=>{!H||H===1/0||(window.clearTimeout(w.current),M.current=new Date().getTime(),w.current=window.setTimeout(N,H))},[N]);T.useEffect(()=>{const H=_.viewport;if(H){const se=()=>{V(A.current),c==null||c()},re=()=>{const Z=new Date().getTime()-M.current;A.current=A.current-Z,window.clearTimeout(w.current),l==null||l()};return H.addEventListener(Hm,re),H.addEventListener(Wm,se),()=>{H.removeEventListener(Hm,re),H.removeEventListener(Wm,se)}}},[_.viewport,k,l,c,V]),T.useEffect(()=>{s&&!_.isClosePausedRef.current&&V(k)},[s,k,_.isClosePausedRef,V]),T.useEffect(()=>(b(),()=>I()),[b,I]);const D=T.useMemo(()=>S?Qb(S):null,[S]);return _.viewport?E.jsxs(E.Fragment,{children:[D&&E.jsx(nM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),E.jsx(ZD,{scope:n,onClose:N,children:Ic.createPortal(E.jsx(Hy.ItemSlot,{scope:n,children:E.jsx(VD,{asChild:!0,onEscapeKeyDown:Ie(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||N(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(lt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":_.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ie(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:Ie(t.onPointerDown,H=>{H.button===0&&(C.current={x:H.clientX,y:H.clientY})}),onPointerMove:Ie(t.onPointerMove,H=>{if(!C.current)return;const se=H.clientX-C.current.x,re=H.clientY-C.current.y,Z=!!R.current,L=["left","right"].includes(_.swipeDirection),z=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,Y=L?z(0,se):0,G=L?0:z(0,re),ee=H.pointerType==="touch"?10:2,ne={x:Y,y:G},ke={originalEvent:H,delta:ne};Z?(R.current=ne,Nu(YD,f,ke,{discrete:!1})):B_(ne,_.swipeDirection,ee)?(R.current=ne,Nu(QD,d,ke,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(se)>ee||Math.abs(re)>ee)&&(C.current=null)}),onPointerUp:Ie(t.onPointerUp,H=>{const se=R.current,re=H.target;if(re.hasPointerCapture(H.pointerId)&&re.releasePointerCapture(H.pointerId),R.current=null,C.current=null,se){const Z=H.currentTarget,L={originalEvent:H,delta:se};B_(se,_.swipeDirection,_.swipeThreshold)?Nu(JD,m,L,{discrete:!0}):Nu(XD,h,L,{discrete:!0}),Z.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),nM=t=>{const{__scopeToast:e,children:n,...r}=t,i=Fh(Uh,e),[s,o]=T.useState(!1),[a,l]=T.useState(!1);return sM(()=>o(!0)),T.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:E.jsx(Ob,{asChild:!0,children:E.jsx(jh,{...r,children:s&&E.jsxs(E.Fragment,{children:[i.label," ",n]})})})},rM="ToastTitle",zb=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(lt.div,{...r,ref:e})});zb.displayName=rM;var iM="ToastDescription",Hb=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(lt.div,{...r,ref:e})});Hb.displayName=iM;var Wb="ToastAction",qb=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?E.jsx(Gb,{altText:n,asChild:!0,children:E.jsx(Wy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Wb}\`. Expected non-empty \`string\`.`),null)});qb.displayName=Wb;var Kb="ToastClose",Wy=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=eM(Kb,n);return E.jsx(Gb,{asChild:!0,children:E.jsx(lt.button,{type:"button",...r,ref:e,onClick:Ie(t.onClick,i.onClose)})})});Wy.displayName=Kb;var Gb=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return E.jsx(lt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Qb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),oM(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Qb(r))}}),e}function Nu(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Nb(i,s):i.dispatchEvent(s)}var B_=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function sM(t=()=>{}){const e=gt(t);Hi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function oM(t){return t.nodeType===t.ELEMENT_NODE}function aM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var lM=jb,Yb=Ub,Xb=$b,Jb=zb,Zb=Hb,eC=qb,tC=Wy;function nC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rC(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nC(t))&&(r&&(r+=" "),r+=e);return r}const $_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,z_=rC,cM=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return z_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=s==null?void 0:s[c];if(d===null)return null;const h=$_(d)||$_(f);return i[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[_,S]=v;return Array.isArray(S)?S.includes({...s,...a}[_]):{...s,...a}[_]===S})?[...c,f,h]:c},[]);return z_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...dM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iC("lucide",i),...a},[...o.map(([c,d])=>T.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(hM,{ref:s,iconNode:e,className:iC(`lucide-${uM(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=Ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=Ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=Ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=Ge("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=Ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=Ge("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Ge("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=Ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=Ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=Ge("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=Ge("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Qy="-",SM=t=>{const e=CM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Qy);return a[0]===""&&a.length!==1&&a.shift(),aC(a,e)||bM(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},aC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?aC(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Qy);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},K_=/^\[(.+)\]$/,bM=t=>{if(K_.test(t)){const e=K_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},CM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return IM(Object.entries(t.classGroups),n).forEach(([s,o])=>{Gm(o,r,s,e)}),r},Gm=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:G_(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(AM(i)){Gm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Gm(o,G_(e,s),n,r)})})},G_=(t,e)=>{let n=t;return e.split(Qy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},AM=t=>t.isThemeGetter,IM=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,PM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},lC="!",RM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let S=0;S<a.length;S++){let y=a[S];if(c===0){if(y===i&&(r||a.slice(S,S+s)===e)){l.push(a.slice(d,S)),d=S+s;continue}if(y==="/"){f=S;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(d),m=h.startsWith(lC),v=m?h.substring(1):h,_=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},kM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},NM=t=>({cache:PM(t.cacheSize),parseClassName:RM(t),...SM(t)}),DM=/\s+/,MM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(DM);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let v=!!m,_=r(v?h.substring(0,m):h);if(!_){if(!v){a=c+(a.length>0?" "+a:a);continue}if(_=r(h),!_){a=c+(a.length>0?" "+a:a);continue}v=!1}const S=kM(d).join(":"),y=f?S+lC:S,x=y+_;if(s.includes(x))continue;s.push(x);const C=i(_,v);for(let R=0;R<C.length;++R){const k=C[R];s.push(y+k)}a=c+(a.length>0?" "+a:a)}return a};function VM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=cC(e))&&(r&&(r+=" "),r+=n);return r}const cC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=cC(t[r]))&&(n&&(n+=" "),n+=e);return n};function OM(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=NM(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=MM(l,n);return i(l,d),d}return function(){return s(VM.apply(null,arguments))}}const De=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},uC=/^\[(?:([a-z-]+):)?(.+)\]$/i,LM=/^\d+\/\d+$/,jM=new Set(["px","full","screen"]),FM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$M=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Er=t=>ko(t)||jM.has(t)||LM.test(t),si=t=>va(t,"length",XM),ko=t=>!!t&&!Number.isNaN(Number(t)),wp=t=>va(t,"number",ko),nl=t=>!!t&&Number.isInteger(Number(t)),HM=t=>t.endsWith("%")&&ko(t.slice(0,-1)),de=t=>uC.test(t),oi=t=>FM.test(t),WM=new Set(["length","size","percentage"]),qM=t=>va(t,WM,dC),KM=t=>va(t,"position",dC),GM=new Set(["image","url"]),QM=t=>va(t,GM,ZM),YM=t=>va(t,"",JM),rl=()=>!0,va=(t,e,n)=>{const r=uC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},XM=t=>UM.test(t)&&!BM.test(t),dC=()=>!1,JM=t=>$M.test(t),ZM=t=>zM.test(t),eV=()=>{const t=De("colors"),e=De("spacing"),n=De("blur"),r=De("brightness"),i=De("borderColor"),s=De("borderRadius"),o=De("borderSpacing"),a=De("borderWidth"),l=De("contrast"),c=De("grayscale"),d=De("hueRotate"),f=De("invert"),h=De("gap"),m=De("gradientColorStops"),v=De("gradientColorStopPositions"),_=De("inset"),S=De("margin"),y=De("opacity"),x=De("padding"),C=De("saturate"),R=De("scale"),k=De("sepia"),M=De("skew"),A=De("space"),w=De("translate"),b=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",de,e],V=()=>[de,e],D=()=>["",Er,si],H=()=>["auto",ko,de],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",de],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[ko,de];return{cacheSize:500,separator:":",theme:{colors:[rl],spacing:[Er,si],blur:["none","",oi,de],brightness:G(),borderColor:[t],borderRadius:["none","","full",oi,de],borderSpacing:V(),borderWidth:D(),contrast:G(),grayscale:z(),hueRotate:G(),invert:z(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[HM,si],inset:N(),margin:N(),opacity:G(),padding:V(),saturate:G(),scale:G(),sepia:z(),skew:G(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[oi]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),de]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nl,de]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",nl,de]}],"grid-cols":[{"grid-cols":[rl]}],"col-start-end":[{col:["auto",{span:["full",nl,de]},de]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[rl]}],"row-start-end":[{row:["auto",{span:[nl,de]},de]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[oi]},oi]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",oi,si]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wp]}],"font-family":[{font:[rl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",ko,wp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Er,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Er,si]}],"underline-offset":[{"underline-offset":["auto",Er,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),KM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:re()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Er,de]}],"outline-w":[{outline:[Er,si]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Er,si]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",oi,YM]}],"shadow-color":[{shadow:[rl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",oi,de]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[C]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[nl,de]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Er,si,wp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tV=OM(eV);function Qr(...t){return tV(rC(t))}const nV=lM,hC=T.forwardRef(({className:t,...e},n)=>E.jsx(Yb,{ref:n,className:Qr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));hC.displayName=Yb.displayName;const rV=cM("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fC=T.forwardRef(({className:t,variant:e,...n},r)=>E.jsx(Xb,{ref:r,className:Qr(rV({variant:e}),t),...n}));fC.displayName=Xb.displayName;const iV=T.forwardRef(({className:t,...e},n)=>E.jsx(eC,{ref:n,className:Qr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));iV.displayName=eC.displayName;const pC=T.forwardRef(({className:t,...e},n)=>E.jsx(tC,{ref:n,className:Qr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:E.jsx(Gy,{className:"h-4 w-4"})}));pC.displayName=tC.displayName;const mC=T.forwardRef(({className:t,...e},n)=>E.jsx(Jb,{ref:n,className:Qr("text-sm font-semibold",t),...e}));mC.displayName=Jb.displayName;const gC=T.forwardRef(({className:t,...e},n)=>E.jsx(Zb,{ref:n,className:Qr("text-sm opacity-90",t),...e}));gC.displayName=Zb.displayName;function sV(){const{toasts:t}=vD();return E.jsxs(nV,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return E.jsxs(fC,{...s,children:[E.jsxs("div",{className:"grid gap-1",children:[n&&E.jsx(mC,{children:n}),r&&E.jsx(gC,{children:r})]}),i,E.jsx(pC,{})]},e)}),E.jsx(hC,{})]})}var Q_=["light","dark"],oV="(prefers-color-scheme: dark)",aV=T.createContext(void 0),lV={setTheme:t=>{},themes:[]},cV=()=>{var t;return(t=T.useContext(aV))!=null?t:lV};T.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?Q_.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,_=!1,S=!0)=>{let y=o?o[v]:v,x=_?v+"|| ''":`'${y}'`,C="";return i&&S&&!_&&Q_.includes(v)&&(C+=`d.style.colorScheme = '${v}';`),n==="class"?_||y?C+=`c.add(${x})`:C+="null":y&&(C+=`d[s](n,${x})`),C},m=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${oV}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return T.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var uV=t=>{switch(t){case"success":return fV;case"info":return mV;case"warning":return pV;case"error":return gV;default:return null}},dV=Array(12).fill(0),hV=({visible:t})=>q.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},q.createElement("div",{className:"sonner-spinner"},dV.map((e,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),fV=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pV=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mV=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gV=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yV=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Qm=1,vV=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Qm++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(_V(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Qm++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},an=new vV,wV=(t,e)=>{let n=(e==null?void 0:e.id)||Qm++;return an.addToast({title:t,...e,id:n}),n},_V=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",xV=wV,EV=()=>an.toasts;Object.assign(xV,{success:an.success,info:an.info,warning:an.warning,error:an.error,custom:an.custom,message:an.message,promise:an.promise,dismiss:an.dismiss,loading:an.loading},{getHistory:EV});function TV(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}TV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Du(t){return t.label!==void 0}var SV=3,bV="32px",CV=4e3,AV=356,IV=14,PV=20,RV=200;function kV(...t){return t.filter(Boolean).join(" ")}var NV=t=>{var e,n,r,i,s,o,a,l,c,d;let{invert:f,toast:h,unstyled:m,interacting:v,setHeights:_,visibleToasts:S,heights:y,index:x,toasts:C,expanded:R,removeToast:k,defaultRichColors:M,closeButton:A,style:w,cancelButtonStyle:b,actionButtonStyle:I,className:N="",descriptionClassName:V="",duration:D,position:H,gap:se,loadingIcon:re,expandByDefault:Z,classNames:L,icons:z,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:G,cn:ee}=t,[ne,ke]=q.useState(!1),[rt,_e]=q.useState(!1),[Tt,Kn]=q.useState(!1),[Gn,nn]=q.useState(!1),[gr,Qn]=q.useState(0),[Pn,yr]=q.useState(0),Xr=q.useRef(null),Rn=q.useRef(null),ka=x===0,Na=x+1<=S,Je=h.type,Yn=h.dismissible!==!1,Qc=h.className||"",If=h.descriptionClassName||"",Jr=q.useMemo(()=>y.findIndex(le=>le.toastId===h.id)||0,[y,h.id]),Da=q.useMemo(()=>{var le;return(le=h.closeButton)!=null?le:A},[h.closeButton,A]),Ma=q.useMemo(()=>h.duration||D||CV,[h.duration,D]),Ze=q.useRef(0),ze=q.useRef(0),as=q.useRef(0),vr=q.useRef(null),[Va,Pf]=H.split("-"),Zr=q.useMemo(()=>y.reduce((le,be,Ee)=>Ee>=Jr?le:le+be.height,0),[y,Jr]),Oa=yV(),Yc=h.invert||f,ls=Je==="loading";ze.current=q.useMemo(()=>Jr*se+Zr,[Jr,Zr]),q.useEffect(()=>{ke(!0)},[]),q.useLayoutEffect(()=>{if(!ne)return;let le=Rn.current,be=le.style.height;le.style.height="auto";let Ee=le.getBoundingClientRect().height;le.style.height=be,yr(Ee),_(St=>St.find(Qt=>Qt.toastId===h.id)?St.map(Qt=>Qt.toastId===h.id?{...Qt,height:Ee}:Qt):[{toastId:h.id,height:Ee,position:h.position},...St])},[ne,h.title,h.description,_,h.id]);let Xn=q.useCallback(()=>{_e(!0),Qn(ze.current),_(le=>le.filter(be=>be.toastId!==h.id)),setTimeout(()=>{k(h)},RV)},[h,k,_,ze]);q.useEffect(()=>{if(h.promise&&Je==="loading"||h.duration===1/0||h.type==="loading")return;let le,be=Ma;return R||v||G&&Oa?(()=>{if(as.current<Ze.current){let Ee=new Date().getTime()-Ze.current;be=be-Ee}as.current=new Date().getTime()})():be!==1/0&&(Ze.current=new Date().getTime(),le=setTimeout(()=>{var Ee;(Ee=h.onAutoClose)==null||Ee.call(h,h),Xn()},be)),()=>clearTimeout(le)},[R,v,Z,h,Ma,Xn,h.promise,Je,G,Oa]),q.useEffect(()=>{let le=Rn.current;if(le){let be=le.getBoundingClientRect().height;return yr(be),_(Ee=>[{toastId:h.id,height:be,position:h.position},...Ee]),()=>_(Ee=>Ee.filter(St=>St.toastId!==h.id))}},[_,h.id]),q.useEffect(()=>{h.delete&&Xn()},[Xn,h.delete]);function Rf(){return z!=null&&z.loading?q.createElement("div",{className:"sonner-loader","data-visible":Je==="loading"},z.loading):re?q.createElement("div",{className:"sonner-loader","data-visible":Je==="loading"},re):q.createElement(hV,{visible:Je==="loading"})}return q.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Rn,className:ee(N,Qc,L==null?void 0:L.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Je],(n=h==null?void 0:h.classNames)==null?void 0:n[Je]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:M,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":ne,"data-promise":!!h.promise,"data-removed":rt,"data-visible":Na,"data-y-position":Va,"data-x-position":Pf,"data-index":x,"data-front":ka,"data-swiping":Tt,"data-dismissible":Yn,"data-type":Je,"data-invert":Yc,"data-swipe-out":Gn,"data-expanded":!!(R||Z&&ne),style:{"--index":x,"--toasts-before":x,"--z-index":C.length-x,"--offset":`${rt?gr:ze.current}px`,"--initial-height":Z?"auto":`${Pn}px`,...w,...h.style},onPointerDown:le=>{ls||!Yn||(Xr.current=new Date,Qn(ze.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(Kn(!0),vr.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,be,Ee,St;if(Gn||!Yn)return;vr.current=null;let Qt=Number(((le=Rn.current)==null?void 0:le.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ei=new Date().getTime()-((be=Xr.current)==null?void 0:be.getTime()),wr=Math.abs(Qt)/ei;if(Math.abs(Qt)>=PV||wr>.11){Qn(ze.current),(Ee=h.onDismiss)==null||Ee.call(h,h),Xn(),nn(!0);return}(St=Rn.current)==null||St.style.setProperty("--swipe-amount","0px"),Kn(!1)},onPointerMove:le=>{var be;if(!vr.current||!Yn)return;let Ee=le.clientY-vr.current.y,St=le.clientX-vr.current.x,Qt=(Va==="top"?Math.min:Math.max)(0,Ee),ei=le.pointerType==="touch"?10:2;Math.abs(Qt)>ei?(be=Rn.current)==null||be.style.setProperty("--swipe-amount",`${Ee}px`):Math.abs(St)>ei&&(vr.current=null)}},Da&&!h.jsx?q.createElement("button",{"aria-label":Y,"data-disabled":ls,"data-close-button":!0,onClick:ls||!Yn?()=>{}:()=>{var le;Xn(),(le=h.onDismiss)==null||le.call(h,h)},className:ee(L==null?void 0:L.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||q.isValidElement(h.title)?h.jsx||h.title:q.createElement(q.Fragment,null,Je||h.icon||h.promise?q.createElement("div",{"data-icon":"",className:ee(L==null?void 0:L.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Rf():null,h.type!=="loading"?h.icon||(z==null?void 0:z[Je])||uV(Je):null):null,q.createElement("div",{"data-content":"",className:ee(L==null?void 0:L.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},q.createElement("div",{"data-title":"",className:ee(L==null?void 0:L.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?q.createElement("div",{"data-description":"",className:ee(V,If,L==null?void 0:L.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),q.isValidElement(h.cancel)?h.cancel:h.cancel&&Du(h.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||b,onClick:le=>{var be,Ee;Du(h.cancel)&&Yn&&((Ee=(be=h.cancel).onClick)==null||Ee.call(be,le),Xn())},className:ee(L==null?void 0:L.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,q.isValidElement(h.action)?h.action:h.action&&Du(h.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||I,onClick:le=>{var be,Ee;Du(h.action)&&(le.defaultPrevented||((Ee=(be=h.action).onClick)==null||Ee.call(be,le),Xn()))},className:ee(L==null?void 0:L.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Y_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var DV=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:h=SV,toastOptions:m,dir:v=Y_(),gap:_=IV,loadingIcon:S,icons:y,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:C,cn:R=kV}=t,[k,M]=q.useState([]),A=q.useMemo(()=>Array.from(new Set([n].concat(k.filter(G=>G.position).map(G=>G.position)))),[k,n]),[w,b]=q.useState([]),[I,N]=q.useState(!1),[V,D]=q.useState(!1),[H,se]=q.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=q.useRef(null),Z=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=q.useRef(null),z=q.useRef(!1),Y=q.useCallback(G=>{var ee;(ee=k.find(ne=>ne.id===G.id))!=null&&ee.delete||an.dismiss(G.id),M(ne=>ne.filter(({id:ke})=>ke!==G.id))},[k]);return q.useEffect(()=>an.subscribe(G=>{if(G.dismiss){M(ee=>ee.map(ne=>ne.id===G.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{Ib.flushSync(()=>{M(ee=>{let ne=ee.findIndex(ke=>ke.id===G.id);return ne!==-1?[...ee.slice(0,ne),{...ee[ne],...G},...ee.slice(ne+1)]:[G,...ee]})})})}),[]),q.useEffect(()=>{if(l!=="system"){se(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{se(G?"dark":"light")})},[l]),q.useEffect(()=>{k.length<=1&&N(!1)},[k]),q.useEffect(()=>{let G=ee=>{var ne,ke;r.every(rt=>ee[rt]||ee.code===rt)&&(N(!0),(ne=re.current)==null||ne.focus()),ee.code==="Escape"&&(document.activeElement===re.current||(ke=re.current)!=null&&ke.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[r]),q.useEffect(()=>{if(re.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,z.current=!1)}},[re.current]),k.length?q.createElement("section",{"aria-label":`${x} ${Z}`,tabIndex:-1},A.map((G,ee)=>{var ne;let[ke,rt]=G.split("-");return q.createElement("ol",{key:G,dir:v==="auto"?Y_():v,tabIndex:-1,ref:re,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":ke,"data-x-position":rt,style:{"--front-toast-height":`${((ne=w[0])==null?void 0:ne.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||bV,"--width":`${AV}px`,"--gap":`${_}px`,...f},onBlur:_e=>{z.current&&!_e.currentTarget.contains(_e.relatedTarget)&&(z.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||z.current||(z.current=!0,L.current=_e.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{V||N(!1)},onPointerDown:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},k.filter(_e=>!_e.position&&ee===0||_e.position===G).map((_e,Tt)=>{var Kn,Gn;return q.createElement(NV,{key:_e.id,icons:y,index:Tt,toast:_e,defaultRichColors:c,duration:(Kn=m==null?void 0:m.duration)!=null?Kn:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Gn=m==null?void 0:m.closeButton)!=null?Gn:s,interacting:V,position:G,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Y,toasts:k.filter(nn=>nn.position==_e.position),heights:w.filter(nn=>nn.position==_e.position),setHeights:b,expandByDefault:i,gap:_,loadingIcon:S,expanded:I,pauseWhenPageIsHidden:C,cn:R})}))})):null};const MV=({...t})=>{const{theme:e="system"}=cV();return E.jsx(DV,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},VV=["top","right","bottom","left"],Wi=Math.min,cn=Math.max,Hd=Math.round,Mu=Math.floor,qi=t=>({x:t,y:t}),OV={left:"right",right:"left",bottom:"top",top:"bottom"},LV={start:"end",end:"start"};function Ym(t,e,n){return cn(t,Wi(e,n))}function Ur(t,e){return typeof t=="function"?t(e):t}function Br(t){return t.split("-")[0]}function wa(t){return t.split("-")[1]}function Yy(t){return t==="x"?"y":"x"}function Xy(t){return t==="y"?"height":"width"}function Ki(t){return["top","bottom"].includes(Br(t))?"y":"x"}function Jy(t){return Yy(Ki(t))}function jV(t,e,n){n===void 0&&(n=!1);const r=wa(t),i=Jy(t),s=Xy(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Wd(o)),[o,Wd(o)]}function FV(t){const e=Wd(t);return[Xm(t),e,Xm(e)]}function Xm(t){return t.replace(/start|end/g,e=>LV[e])}function UV(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function BV(t,e,n,r){const i=wa(t);let s=UV(Br(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Xm)))),s}function Wd(t){return t.replace(/left|right|bottom|top/g,e=>OV[e])}function $V(t){return{top:0,right:0,bottom:0,left:0,...t}}function yC(t){return typeof t!="number"?$V(t):{top:t,right:t,bottom:t,left:t}}function qd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function X_(t,e,n){let{reference:r,floating:i}=t;const s=Ki(e),o=Jy(e),a=Xy(o),l=Br(e),c=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(wa(e)){case"start":m[o]-=h*(n&&c?-1:1);break;case"end":m[o]+=h*(n&&c?-1:1);break}return m}const zV=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=X_(c,r,l),h=r,m={},v=0;for(let _=0;_<a.length;_++){const{name:S,fn:y}=a[_],{x,y:C,data:R,reset:k}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,f=C??f,m={...m,[S]:{...m[S],...R}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:d,y:f}=X_(c,h,l)),_=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function Zl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ur(e,t),v=yC(m),S=a[h?f==="floating"?"reference":"floating":f],y=qd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},k=qd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:C,strategy:l}):x);return{top:(y.top-k.top+v.top)/R.y,bottom:(k.bottom-y.bottom+v.bottom)/R.y,left:(y.left-k.left+v.left)/R.x,right:(k.right-y.right+v.right)/R.x}}const HV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Ur(t,e)||{};if(c==null)return{};const f=yC(d),h={x:n,y:r},m=Jy(i),v=Xy(m),_=await o.getDimensions(c),S=m==="y",y=S?"top":"left",x=S?"bottom":"right",C=S?"clientHeight":"clientWidth",R=s.reference[v]+s.reference[m]-h[m]-s.floating[v],k=h[m]-s.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=M?M[C]:0;(!A||!await(o.isElement==null?void 0:o.isElement(M)))&&(A=a.floating[C]||s.floating[v]);const w=R/2-k/2,b=A/2-_[v]/2-1,I=Wi(f[y],b),N=Wi(f[x],b),V=I,D=A-_[v]-N,H=A/2-_[v]/2+w,se=Ym(V,H,D),re=!l.arrow&&wa(i)!=null&&H!==se&&s.reference[v]/2-(H<V?I:N)-_[v]/2<0,Z=re?H<V?H-V:H-D:0;return{[m]:h[m]+Z,data:{[m]:se,centerOffset:H-se-Z,...re&&{alignmentOffset:Z}},reset:re}}}),WV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:_=!0,...S}=Ur(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Br(i),x=Ki(a),C=Br(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=h||(C||!_?[Wd(a)]:FV(a)),M=v!=="none";!h&&M&&k.push(...BV(a,_,v,R));const A=[a,...k],w=await Zl(e,S),b=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&b.push(w[y]),f){const H=jV(i,o,R);b.push(w[H[0]],w[H[1]])}if(I=[...I,{placement:i,overflows:b}],!b.every(H=>H<=0)){var N,V;const H=(((N=s.flip)==null?void 0:N.index)||0)+1,se=A[H];if(se)return{data:{index:H,overflows:I},reset:{placement:se}};let re=(V=I.filter(Z=>Z.overflows[0]<=0).sort((Z,L)=>Z.overflows[1]-L.overflows[1])[0])==null?void 0:V.placement;if(!re)switch(m){case"bestFit":{var D;const Z=(D=I.filter(L=>{if(M){const z=Ki(L.placement);return z===x||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,Y)=>z+Y,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:D[0];Z&&(re=Z);break}case"initialPlacement":re=a;break}if(i!==re)return{reset:{placement:re}}}return{}}}};function J_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Z_(t){return VV.some(e=>t[e]>=0)}const qV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ur(t,e);switch(r){case"referenceHidden":{const s=await Zl(e,{...i,elementContext:"reference"}),o=J_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Z_(o)}}}case"escaped":{const s=await Zl(e,{...i,altBoundary:!0}),o=J_(s,n.floating);return{data:{escapedOffsets:o,escaped:Z_(o)}}}default:return{}}}}};async function KV(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Br(n),a=wa(n),l=Ki(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=Ur(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}const GV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await KV(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},QV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:y,y:x}=S;return{x:y,y:x}}},...l}=Ur(t,e),c={x:n,y:r},d=await Zl(e,l),f=Ki(Br(i)),h=Yy(f);let m=c[h],v=c[f];if(s){const S=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=m+d[S],C=m-d[y];m=Ym(x,m,C)}if(o){const S=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=v+d[S],C=v-d[y];v=Ym(x,v,C)}const _=a.fn({...e,[h]:m,[f]:v});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[h]:s,[f]:o}}}}}},YV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ur(t,e),d={x:n,y:r},f=Ki(i),h=Yy(f);let m=d[h],v=d[f];const _=Ur(a,e),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const C=h==="y"?"height":"width",R=s.reference[h]-s.floating[C]+S.mainAxis,k=s.reference[h]+s.reference[C]-S.mainAxis;m<R?m=R:m>k&&(m=k)}if(c){var y,x;const C=h==="y"?"width":"height",R=["top","left"].includes(Br(i)),k=s.reference[f]-s.floating[C]+(R&&((y=o.offset)==null?void 0:y[f])||0)+(R?0:S.crossAxis),M=s.reference[f]+s.reference[C]+(R?0:((x=o.offset)==null?void 0:x[f])||0)-(R?S.crossAxis:0);v<k?v=k:v>M&&(v=M)}return{[h]:m,[f]:v}}}},XV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ur(t,e),d=await Zl(e,c),f=Br(i),h=wa(i),m=Ki(i)==="y",{width:v,height:_}=s.floating;let S,y;f==="top"||f==="bottom"?(S=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,S=h==="end"?"top":"bottom");const x=_-d.top-d.bottom,C=v-d.left-d.right,R=Wi(_-d[S],x),k=Wi(v-d[y],C),M=!e.middlewareData.shift;let A=R,w=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(w=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=x),M&&!h){const I=cn(d.left,0),N=cn(d.right,0),V=cn(d.top,0),D=cn(d.bottom,0);m?w=v-2*(I!==0||N!==0?I+N:cn(d.left,d.right)):A=_-2*(V!==0||D!==0?V+D:cn(d.top,d.bottom))}await l({...e,availableWidth:w,availableHeight:A});const b=await o.getDimensions(a.floating);return v!==b.width||_!==b.height?{reset:{rects:!0}}:{}}}};function Bh(){return typeof window<"u"}function _a(t){return vC(t)?(t.nodeName||"").toLowerCase():"#document"}function pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pr(t){var e;return(e=(vC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function vC(t){return Bh()?t instanceof Node||t instanceof pn(t).Node:!1}function Hn(t){return Bh()?t instanceof Element||t instanceof pn(t).Element:!1}function hr(t){return Bh()?t instanceof HTMLElement||t instanceof pn(t).HTMLElement:!1}function ex(t){return!Bh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pn(t).ShadowRoot}function Pc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Wn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function JV(t){return["table","td","th"].includes(_a(t))}function $h(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Zy(t){const e=ev(),n=Hn(t)?Wn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ZV(t){let e=Gi(t);for(;hr(e)&&!ta(e);){if(Zy(e))return e;if($h(e))return null;e=Gi(e)}return null}function ev(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ta(t){return["html","body","#document"].includes(_a(t))}function Wn(t){return pn(t).getComputedStyle(t)}function zh(t){return Hn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gi(t){if(_a(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ex(t)&&t.host||pr(t);return ex(e)?e.host:e}function wC(t){const e=Gi(t);return ta(e)?t.ownerDocument?t.ownerDocument.body:t.body:hr(e)&&Pc(e)?e:wC(e)}function ec(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=wC(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=pn(i);if(s){const a=Jm(o);return e.concat(o,o.visualViewport||[],Pc(i)?i:[],a&&n?ec(a):[])}return e.concat(i,ec(i,[],n))}function Jm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _C(t){const e=Wn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=hr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Hd(n)!==s||Hd(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function tv(t){return Hn(t)?t:t.contextElement}function No(t){const e=tv(t);if(!hr(e))return qi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=_C(e);let o=(s?Hd(n.width):n.width)/r,a=(s?Hd(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const eO=qi(0);function xC(t){const e=pn(t);return!ev()||!e.visualViewport?eO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function tO(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==pn(t)?!1:e}function Os(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=tv(t);let o=qi(1);e&&(r?Hn(r)&&(o=No(r)):o=No(t));const a=tO(s,n,r)?xC(s):qi(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=pn(s),m=r&&Hn(r)?pn(r):r;let v=h,_=Jm(v);for(;_&&r&&m!==v;){const S=No(_),y=_.getBoundingClientRect(),x=Wn(_),C=y.left+(_.clientLeft+parseFloat(x.paddingLeft))*S.x,R=y.top+(_.clientTop+parseFloat(x.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,f*=S.y,l+=C,c+=R,v=pn(_),_=Jm(v)}}return qd({width:d,height:f,x:l,y:c})}function nO(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=pr(r),a=e?$h(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=qi(1);const d=qi(0),f=hr(r);if((f||!f&&!s)&&((_a(r)!=="body"||Pc(o))&&(l=zh(r)),hr(r))){const h=Os(r);c=No(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function rO(t){return Array.from(t.getClientRects())}function Zm(t,e){const n=zh(t).scrollLeft;return e?e.left+n:Os(pr(t)).left+n}function iO(t){const e=pr(t),n=zh(t),r=t.ownerDocument.body,i=cn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=cn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Zm(t);const a=-n.scrollTop;return Wn(r).direction==="rtl"&&(o+=cn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function sO(t,e){const n=pn(t),r=pr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=ev();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function oO(t,e){const n=Os(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=hr(t)?No(t):qi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function tx(t,e,n){let r;if(e==="viewport")r=sO(t,n);else if(e==="document")r=iO(pr(t));else if(Hn(e))r=oO(e,n);else{const i=xC(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return qd(r)}function EC(t,e){const n=Gi(t);return n===e||!Hn(n)||ta(n)?!1:Wn(n).position==="fixed"||EC(n,e)}function aO(t,e){const n=e.get(t);if(n)return n;let r=ec(t,[],!1).filter(a=>Hn(a)&&_a(a)!=="body"),i=null;const s=Wn(t).position==="fixed";let o=s?Gi(t):t;for(;Hn(o)&&!ta(o);){const a=Wn(o),l=Zy(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Pc(o)&&!l&&EC(t,o))?r=r.filter(d=>d!==o):i=a,o=Gi(o)}return e.set(t,r),r}function lO(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?$h(e)?[]:aO(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=tx(e,d,i);return c.top=cn(f.top,c.top),c.right=Wi(f.right,c.right),c.bottom=Wi(f.bottom,c.bottom),c.left=cn(f.left,c.left),c},tx(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function cO(t){const{width:e,height:n}=_C(t);return{width:e,height:n}}function uO(t,e,n){const r=hr(e),i=pr(e),s=n==="fixed",o=Os(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=qi(0);if(r||!r&&!s)if((_a(e)!=="body"||Pc(i))&&(a=zh(e)),r){const m=Os(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&(l.x=Zm(i));let c=0,d=0;if(i&&!r&&!s){const m=i.getBoundingClientRect();d=m.top+a.scrollTop,c=m.left+a.scrollLeft-Zm(i,m)}const f=o.left+a.scrollLeft-l.x-c,h=o.top+a.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function _p(t){return Wn(t).position==="static"}function nx(t,e){if(!hr(t)||Wn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return pr(t)===n&&(n=n.ownerDocument.body),n}function TC(t,e){const n=pn(t);if($h(t))return n;if(!hr(t)){let i=Gi(t);for(;i&&!ta(i);){if(Hn(i)&&!_p(i))return i;i=Gi(i)}return n}let r=nx(t,e);for(;r&&JV(r)&&_p(r);)r=nx(r,e);return r&&ta(r)&&_p(r)&&!Zy(r)?n:r||ZV(t)||n}const dO=async function(t){const e=this.getOffsetParent||TC,n=this.getDimensions,r=await n(t.floating);return{reference:uO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hO(t){return Wn(t).direction==="rtl"}const fO={convertOffsetParentRelativeRectToViewportRelativeRect:nO,getDocumentElement:pr,getClippingRect:lO,getOffsetParent:TC,getElementRects:dO,getClientRects:rO,getDimensions:cO,getScale:No,isElement:Hn,isRTL:hO};function pO(t,e){let n=null,r;const i=pr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const m=Mu(d),v=Mu(i.clientWidth-(c+f)),_=Mu(i.clientHeight-(d+h)),S=Mu(c),x={rootMargin:-m+"px "+-v+"px "+-_+"px "+-S+"px",threshold:cn(0,Wi(1,l))||1};let C=!0;function R(k){const M=k[0].intersectionRatio;if(M!==l){if(!C)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(R,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,x)}n.observe(t)}return o(!0),s}function mO(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=tv(t),d=i||s?[...c?ec(c):[],...ec(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=c&&a?pO(c,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,_=l?Os(t):null;l&&S();function S(){const y=Os(t);_&&(y.x!==_.x||y.y!==_.y||y.width!==_.width||y.height!==_.height)&&n(),_=y,v=requestAnimationFrame(S)}return n(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const gO=GV,yO=QV,vO=WV,wO=XV,_O=qV,rx=HV,xO=YV,EO=(t,e,n)=>{const r=new Map,i={platform:fO,...n},s={...i.platform,_c:r};return zV(t,e,{...i,platform:s})};var od=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Kd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Kd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Kd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function SC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ix(t,e){const n=SC(t);return Math.round(e*n)/n}function xp(t){const e=T.useRef(t);return od(()=>{e.current=t}),e}function TO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=T.useState(r);Kd(h,r)||m(r);const[v,_]=T.useState(null),[S,y]=T.useState(null),x=T.useCallback(L=>{L!==M.current&&(M.current=L,_(L))},[]),C=T.useCallback(L=>{L!==A.current&&(A.current=L,y(L))},[]),R=s||v,k=o||S,M=T.useRef(null),A=T.useRef(null),w=T.useRef(d),b=l!=null,I=xp(l),N=xp(i),V=xp(c),D=T.useCallback(()=>{if(!M.current||!A.current)return;const L={placement:e,strategy:n,middleware:h};N.current&&(L.platform=N.current),EO(M.current,A.current,L).then(z=>{const Y={...z,isPositioned:V.current!==!1};H.current&&!Kd(w.current,Y)&&(w.current=Y,Ic.flushSync(()=>{f(Y)}))})},[h,e,n,N,V]);od(()=>{c===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const H=T.useRef(!1);od(()=>(H.current=!0,()=>{H.current=!1}),[]),od(()=>{if(R&&(M.current=R),k&&(A.current=k),R&&k){if(I.current)return I.current(R,k,D);D()}},[R,k,D,I,b]);const se=T.useMemo(()=>({reference:M,floating:A,setReference:x,setFloating:C}),[x,C]),re=T.useMemo(()=>({reference:R,floating:k}),[R,k]),Z=T.useMemo(()=>{const L={position:n,left:0,top:0};if(!re.floating)return L;const z=ix(re.floating,d.x),Y=ix(re.floating,d.y);return a?{...L,transform:"translate("+z+"px, "+Y+"px)",...SC(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:Y}},[n,a,re.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:D,refs:se,elements:re,floatingStyles:Z}),[d,D,se,re,Z])}const SO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?rx({element:r.current,padding:i}).fn(n):{}:r?rx({element:r,padding:i}).fn(n):{}}}},bO=(t,e)=>({...gO(t),options:[t,e]}),CO=(t,e)=>({...yO(t),options:[t,e]}),AO=(t,e)=>({...xO(t),options:[t,e]}),IO=(t,e)=>({...vO(t),options:[t,e]}),PO=(t,e)=>({...wO(t),options:[t,e]}),RO=(t,e)=>({..._O(t),options:[t,e]}),kO=(t,e)=>({...SO(t),options:[t,e]});var NO="Arrow",bC=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return E.jsx(lt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});bC.displayName=NO;var DO=bC;function MO(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:h,children:m,...v}=f,_=(h==null?void 0:h[t][l])||a,S=T.useMemo(()=>v,Object.values(v));return E.jsx(_.Provider,{value:S,children:m})}function d(f,h){const m=(h==null?void 0:h[t][l])||a,v=T.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,VO(i,...e)]}function VO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function OO(t){const[e,n]=T.useState(void 0);return Hi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var CC="Popper",[AC,IC]=MO(CC),[Y8,PC]=AC(CC),RC="PopperAnchor",kC=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=PC(RC,n),o=T.useRef(null),a=xt(e,o);return T.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:E.jsx(lt.div,{...i,ref:a})});kC.displayName=RC;var nv="PopperContent",[LO,jO]=AC(nv),NC=T.forwardRef((t,e)=>{var Tt,Kn,Gn,nn,gr,Qn;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,..._}=t,S=PC(nv,n),[y,x]=T.useState(null),C=xt(e,Pn=>x(Pn)),[R,k]=T.useState(null),M=OO(R),A=(M==null?void 0:M.width)??0,w=(M==null?void 0:M.height)??0,b=r+(s!=="center"?"-"+s:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],V=N.length>0,D={padding:I,boundary:N.filter(UO),altBoundary:V},{refs:H,floatingStyles:se,placement:re,isPositioned:Z,middlewareData:L}=TO({strategy:"fixed",placement:b,whileElementsMounted:(...Pn)=>mO(...Pn,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[bO({mainAxis:i+w,alignmentAxis:o}),l&&CO({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?AO():void 0,...D}),l&&IO({...D}),PO({...D,apply:({elements:Pn,rects:yr,availableWidth:Xr,availableHeight:Rn})=>{const{width:ka,height:Na}=yr.reference,Je=Pn.floating.style;Je.setProperty("--radix-popper-available-width",`${Xr}px`),Je.setProperty("--radix-popper-available-height",`${Rn}px`),Je.setProperty("--radix-popper-anchor-width",`${ka}px`),Je.setProperty("--radix-popper-anchor-height",`${Na}px`)}}),R&&kO({element:R,padding:a}),BO({arrowWidth:A,arrowHeight:w}),h&&RO({strategy:"referenceHidden",...D})]}),[z,Y]=VC(re),G=gt(v);Hi(()=>{Z&&(G==null||G())},[Z,G]);const ee=(Tt=L.arrow)==null?void 0:Tt.x,ne=(Kn=L.arrow)==null?void 0:Kn.y,ke=((Gn=L.arrow)==null?void 0:Gn.centerOffset)!==0,[rt,_e]=T.useState();return Hi(()=>{y&&_e(window.getComputedStyle(y).zIndex)},[y]),E.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:Z?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:rt,"--radix-popper-transform-origin":[(nn=L.transformOrigin)==null?void 0:nn.x,(gr=L.transformOrigin)==null?void 0:gr.y].join(" "),...((Qn=L.hide)==null?void 0:Qn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(LO,{scope:n,placedSide:z,onArrowChange:k,arrowX:ee,arrowY:ne,shouldHideArrow:ke,children:E.jsx(lt.div,{"data-side":z,"data-align":Y,..._,ref:C,style:{..._.style,animation:Z?void 0:"none"}})})})});NC.displayName=nv;var DC="PopperArrow",FO={top:"bottom",right:"left",bottom:"top",left:"right"},MC=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=jO(DC,r),o=FO[s.placedSide];return E.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:E.jsx(DO,{...i,ref:n,style:{...i.style,display:"block"}})})});MC.displayName=DC;function UO(t){return t!==null}var BO=t=>({name:"transformOrigin",options:t,fn(e){var S,y,x;const{placement:n,rects:r,middlewareData:i}=e,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=VC(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,m=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",_="";return c==="bottom"?(v=o?f:`${h}px`,_=`${-l}px`):c==="top"?(v=o?f:`${h}px`,_=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,_=o?f:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,_=o?f:`${m}px`),{data:{x:v,y:_}}}});function VC(t){const[e,n="center"]=t.split("-");return[e,n]}var $O=kC,zO=NC,HO=MC,[Hh,X8]=By("Tooltip",[IC]),rv=IC(),OC="TooltipProvider",WO=700,sx="tooltip.open",[qO,LC]=Hh(OC),jC=t=>{const{__scopeTooltip:e,delayDuration:n=WO,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=T.useState(!0),l=T.useRef(!1),c=T.useRef(0);return T.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),E.jsx(qO,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:T.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:T.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};jC.displayName=OC;var FC="Tooltip",[J8,Wh]=Hh(FC),eg="TooltipTrigger",KO=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Wh(eg,n),s=LC(eg,n),o=rv(n),a=T.useRef(null),l=xt(e,a,i.onTriggerChange),c=T.useRef(!1),d=T.useRef(!1),f=T.useCallback(()=>c.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),E.jsx($O,{asChild:!0,...o,children:E.jsx(lt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ie(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ie(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ie(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ie(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ie(t.onBlur,i.onClose),onClick:Ie(t.onClick,i.onClose)})})});KO.displayName=eg;var GO="TooltipPortal",[Z8,QO]=Hh(GO,{forceMount:void 0}),na="TooltipContent",UC=T.forwardRef((t,e)=>{const n=QO(na,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Wh(na,t.__scopeTooltip);return E.jsx(Ws,{present:r||o.open,children:o.disableHoverableContent?E.jsx(BC,{side:i,...s,ref:e}):E.jsx(YO,{side:i,...s,ref:e})})}),YO=T.forwardRef((t,e)=>{const n=Wh(na,t.__scopeTooltip),r=LC(na,t.__scopeTooltip),i=T.useRef(null),s=xt(e,i),[o,a]=T.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=T.useCallback(()=>{a(null),f(!1)},[f]),m=T.useCallback((v,_)=>{const S=v.currentTarget,y={x:v.clientX,y:v.clientY},x=eL(y,S.getBoundingClientRect()),C=tL(y,x),R=nL(_.getBoundingClientRect()),k=iL([...C,...R]);a(k),f(!0)},[f]);return T.useEffect(()=>()=>h(),[h]),T.useEffect(()=>{if(l&&d){const v=S=>m(S,d),_=S=>m(S,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",_)}}},[l,d,m,h]),T.useEffect(()=>{if(o){const v=_=>{const S=_.target,y={x:_.clientX,y:_.clientY},x=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),C=!rL(y,o);x?h():C&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,h]),E.jsx(BC,{...t,ref:s})}),[XO,JO]=Hh(FC,{isInside:!1}),BC=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Wh(na,n),c=rv(n),{onClose:d}=l;return T.useEffect(()=>(document.addEventListener(sx,d),()=>document.removeEventListener(sx,d)),[d]),T.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),E.jsx($y,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:E.jsxs(zO,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(kb,{children:r}),E.jsx(XO,{scope:n,isInside:!0,children:E.jsx(HD,{id:l.contentId,role:"tooltip",children:i||r})})]})})});UC.displayName=na;var $C="TooltipArrow",ZO=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=rv(n);return JO($C,n).isInside?null:E.jsx(HO,{...i,...r,ref:e})});ZO.displayName=$C;function eL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function nL(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function rL(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function iL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),sL(e)}function sL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var oL=jC,zC=UC;const aL=oL,lL=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>E.jsx(zC,{ref:r,sideOffset:e,className:Qr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));lL.displayName=zC.displayName;var qh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kh=typeof window>"u"||"Deno"in globalThis;function Vn(){}function cL(t,e){return typeof t=="function"?t(e):t}function uL(t){return typeof t=="number"&&t>=0&&t!==1/0}function dL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ox(t,e){return typeof t=="function"?t(e):t}function hL(t,e){return typeof t=="function"?t(e):t}function ax(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==iv(o,e.options))return!1}else if(!nc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function lx(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(tc(e.options.mutationKey)!==tc(s))return!1}else if(!nc(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function iv(t,e){return((e==null?void 0:e.queryKeyHashFn)||tc)(t)}function tc(t){return JSON.stringify(t,(e,n)=>tg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function nc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!nc(t[n],e[n])):!1}function HC(t,e){if(t===e)return t;const n=cx(t)&&cx(e);if(n||tg(t)&&tg(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=HC(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function cx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tg(t){if(!ux(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ux(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ux(t){return Object.prototype.toString.call(t)==="[object Object]"}function fL(t){return new Promise(e=>{setTimeout(e,t)})}function pL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?HC(t,e):e}function mL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function gL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var sv=Symbol();function WC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===sv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Es,wi,Lo,l1,yL=(l1=class extends qh{constructor(){super();xe(this,Es);xe(this,wi);xe(this,Lo);he(this,Lo,e=>{if(!Kh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,wi)||this.setEventListener(F(this,Lo))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,wi))==null||e.call(this),he(this,wi,void 0))}setEventListener(e){var n;he(this,Lo,e),(n=F(this,wi))==null||n.call(this),he(this,wi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,Es)!==e&&(he(this,Es,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,Es)=="boolean"?F(this,Es):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Es=new WeakMap,wi=new WeakMap,Lo=new WeakMap,l1),qC=new yL,jo,_i,Fo,c1,vL=(c1=class extends qh{constructor(){super();xe(this,jo,!0);xe(this,_i);xe(this,Fo);he(this,Fo,e=>{if(!Kh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,_i)||this.setEventListener(F(this,Fo))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,_i))==null||e.call(this),he(this,_i,void 0))}setEventListener(e){var n;he(this,Fo,e),(n=F(this,_i))==null||n.call(this),he(this,_i,e(this.setOnline.bind(this)))}setOnline(e){F(this,jo)!==e&&(he(this,jo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,jo)}},jo=new WeakMap,_i=new WeakMap,Fo=new WeakMap,c1),Gd=new vL;function wL(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function _L(t){return Math.min(1e3*2**t,3e4)}function KC(t){return(t??"online")==="online"?Gd.isOnline():!0}var GC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ep(t){return t instanceof GC}function QC(t){let e=!1,n=0,r=!1,i;const s=wL(),o=_=>{var S;r||(h(new GC(_)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>qC.isFocused()&&(t.networkMode==="always"||Gd.isOnline())&&t.canRun(),d=()=>KC(t.networkMode)&&t.canRun(),f=_=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,_),i==null||i(),s.resolve(_))},h=_=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,_),i==null||i(),s.reject(_))},m=()=>new Promise(_=>{var S;i=y=>{(r||c())&&_(y)},(S=t.onPause)==null||S.call(t)}).then(()=>{var _;i=void 0,r||(_=t.onContinue)==null||_.call(t)}),v=()=>{if(r)return;let _;const S=n===0?t.initialPromise:void 0;try{_=S??t.fn()}catch(y){_=Promise.reject(y)}Promise.resolve(_).then(f).catch(y=>{var M;if(r)return;const x=t.retry??(Kh?0:3),C=t.retryDelay??_L,R=typeof C=="function"?C(n,y):C,k=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(e||!k){h(y);return}n++,(M=t.onFail)==null||M.call(t,n,y),fL(R).then(()=>c()?void 0:m()).then(()=>{e?h(y):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),s)}}function xL(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Ht=xL(),Ts,u1,YC=(u1=class{constructor(){xe(this,Ts)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uL(this.gcTime)&&he(this,Ts,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Kh?1/0:5*60*1e3))}clearGcTimeout(){F(this,Ts)&&(clearTimeout(F(this,Ts)),he(this,Ts,void 0))}},Ts=new WeakMap,u1),Uo,Bo,xn,kt,xc,Ss,On,Tr,d1,EL=(d1=class extends YC{constructor(n){super();xe(this,On);xe(this,Uo);xe(this,Bo);xe(this,xn);xe(this,kt);xe(this,xc);xe(this,Ss);he(this,Ss,!1),he(this,xc,n.defaultOptions),this.setOptions(n.options),this.observers=[],he(this,xn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,he(this,Uo,SL(this.options)),this.state=n.state??F(this,Uo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,kt))==null?void 0:n.promise}setOptions(n){this.options={...F(this,xc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,xn).remove(this)}setData(n,r){const i=pL(this.state.data,n,this.options);return At(this,On,Tr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){At(this,On,Tr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=F(this,kt))==null?void 0:i.promise;return(s=F(this,kt))==null||s.cancel(n),r?r.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Uo))}isActive(){return this.observers.some(n=>hL(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!dL(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,kt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,kt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,xn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,kt)&&(F(this,Ss)?F(this,kt).cancel({revert:!0}):F(this,kt).cancelRetry()),this.scheduleGc()),F(this,xn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||At(this,On,Tr).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,kt))return F(this,kt).continueRetry(),F(this,kt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(he(this,Ss,!0),i.signal)})},o=()=>{const h=WC(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),he(this,Ss,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),he(this,Bo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&At(this,On,Tr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,v,_,S;Ep(h)&&h.silent||At(this,On,Tr).call(this,{type:"error",error:h}),Ep(h)||((v=(m=F(this,xn).config).onError)==null||v.call(m,h,this),(S=(_=F(this,xn).config).onSettled)==null||S.call(_,this.state.data,h,this)),this.scheduleGc()};return he(this,kt,QC({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var m,v,_,S;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){l(y);return}(v=(m=F(this,xn).config).onSuccess)==null||v.call(m,h,this),(S=(_=F(this,xn).config).onSettled)==null||S.call(_,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{At(this,On,Tr).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{At(this,On,Tr).call(this,{type:"pause"})},onContinue:()=>{At(this,On,Tr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),F(this,kt).start()}},Uo=new WeakMap,Bo=new WeakMap,xn=new WeakMap,kt=new WeakMap,xc=new WeakMap,Ss=new WeakMap,On=new WeakSet,Tr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...TL(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Ep(s)&&s.revert&&F(this,Bo)?{...F(this,Bo),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Ht.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),F(this,xn).notify({query:this,type:"updated",action:n})})},d1);function TL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function SL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var er,h1,bL=(h1=class extends qh{constructor(e={}){super();xe(this,er);this.config=e,he(this,er,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??iv(i,n);let o=this.get(s);return o||(o=new EL({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){F(this,er).has(e.queryHash)||(F(this,er).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,er).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,er).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ht.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,er).get(e)}getAll(){return[...F(this,er).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ax(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ax(e,r)):n}notify(e){Ht.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},er=new WeakMap,h1),tr,$t,bs,nr,ci,f1,CL=(f1=class extends YC{constructor(n){super();xe(this,nr);xe(this,tr);xe(this,$t);xe(this,bs);this.mutationId=n.mutationId,he(this,$t,n.mutationCache),he(this,tr,[]),this.state=n.state||AL(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,tr).includes(n)||(F(this,tr).push(n),this.clearGcTimeout(),F(this,$t).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){he(this,tr,F(this,tr).filter(r=>r!==n)),this.scheduleGc(),F(this,$t).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,tr).length||(this.state.status==="pending"?this.scheduleGc():F(this,$t).remove(this))}continue(){var n;return((n=F(this,bs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,c,d,f,h,m,v,_,S,y,x,C,R,k,M,A,w;he(this,bs,QC({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(b,I)=>{At(this,nr,ci).call(this,{type:"failed",failureCount:b,error:I})},onPause:()=>{At(this,nr,ci).call(this,{type:"pause"})},onContinue:()=>{At(this,nr,ci).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,$t).canRun(this)}));const r=this.state.status==="pending",i=!F(this,bs).canStart();try{if(!r){At(this,nr,ci).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=F(this,$t).config).onMutate)==null?void 0:o.call(s,n,this));const I=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));I!==this.state.context&&At(this,nr,ci).call(this,{type:"pending",context:I,variables:n,isPaused:i})}const b=await F(this,bs).start();return await((d=(c=F(this,$t).config).onSuccess)==null?void 0:d.call(c,b,n,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,b,n,this.state.context)),await((v=(m=F(this,$t).config).onSettled)==null?void 0:v.call(m,b,null,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,b,null,n,this.state.context)),At(this,nr,ci).call(this,{type:"success",data:b}),b}catch(b){try{throw await((x=(y=F(this,$t).config).onError)==null?void 0:x.call(y,b,n,this.state.context,this)),await((R=(C=this.options).onError)==null?void 0:R.call(C,b,n,this.state.context)),await((M=(k=F(this,$t).config).onSettled)==null?void 0:M.call(k,void 0,b,this.state.variables,this.state.context,this)),await((w=(A=this.options).onSettled)==null?void 0:w.call(A,void 0,b,n,this.state.context)),b}finally{At(this,nr,ci).call(this,{type:"error",error:b})}}finally{F(this,$t).runNext(this)}}},tr=new WeakMap,$t=new WeakMap,bs=new WeakMap,nr=new WeakSet,ci=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ht.batch(()=>{F(this,tr).forEach(i=>{i.onMutationUpdate(n)}),F(this,$t).notify({mutation:this,type:"updated",action:n})})},f1);function AL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var on,Ec,p1,IL=(p1=class extends qh{constructor(e={}){super();xe(this,on);xe(this,Ec);this.config=e,he(this,on,new Map),he(this,Ec,Date.now())}build(e,n,r){const i=new CL({mutationCache:this,mutationId:++hu(this,Ec)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Vu(e),r=F(this,on).get(n)??[];r.push(e),F(this,on).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Vu(e);if(F(this,on).has(n)){const i=(r=F(this,on).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?F(this,on).delete(n):F(this,on).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=F(this,on).get(Vu(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=F(this,on).get(Vu(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ht.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...F(this,on).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>lx(n,r))}findAll(e={}){return this.getAll().filter(n=>lx(e,n))}notify(e){Ht.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ht.batch(()=>Promise.all(e.map(n=>n.continue().catch(Vn))))}},on=new WeakMap,Ec=new WeakMap,p1);function Vu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function dx(t){return{onFetch:(e,n)=>{var d,f,h,m,v;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const S=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},y=WC(e.options,e.fetchOptions),x=async(C,R,k)=>{if(_)return Promise.reject();if(R==null&&C.pages.length)return Promise.resolve(C);const M={queryKey:e.queryKey,pageParam:R,direction:k?"backward":"forward",meta:e.options.meta};S(M);const A=await y(M),{maxPages:w}=e.options,b=k?gL:mL;return{pages:b(C.pages,A,w),pageParams:b(C.pageParams,R,w)}};if(i&&s.length){const C=i==="backward",R=C?PL:hx,k={pages:s,pageParams:o},M=R(r,k);a=await x(k,M,C)}else{const C=t??s.length;do{const R=l===0?o[0]??r.initialPageParam:hx(r,a);if(l>0&&R==null)break;a=await x(a,R),l++}while(l<C)}return a};e.options.persister?e.fetchFn=()=>{var _,S;return(S=(_=e.options).persister)==null?void 0:S.call(_,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function hx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function PL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var We,xi,Ei,$o,zo,Ti,Ho,Wo,m1,RL=(m1=class{constructor(t={}){xe(this,We);xe(this,xi);xe(this,Ei);xe(this,$o);xe(this,zo);xe(this,Ti);xe(this,Ho);xe(this,Wo);he(this,We,t.queryCache||new bL),he(this,xi,t.mutationCache||new IL),he(this,Ei,t.defaultOptions||{}),he(this,$o,new Map),he(this,zo,new Map),he(this,Ti,0)}mount(){hu(this,Ti)._++,F(this,Ti)===1&&(he(this,Ho,qC.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,We).onFocus())})),he(this,Wo,Gd.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,We).onOnline())})))}unmount(){var t,e;hu(this,Ti)._--,F(this,Ti)===0&&((t=F(this,Ho))==null||t.call(this),he(this,Ho,void 0),(e=F(this,Wo))==null||e.call(this),he(this,Wo,void 0))}isFetching(t){return F(this,We).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,xi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,We).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=F(this,We).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ox(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return F(this,We).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=F(this,We).get(r.queryHash),s=i==null?void 0:i.state.data,o=cL(e,s);if(o!==void 0)return F(this,We).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ht.batch(()=>F(this,We).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,We).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,We);Ht.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,We),r={type:"active",...t};return Ht.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ht.batch(()=>F(this,We).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Vn).catch(Vn)}invalidateQueries(t={},e={}){return Ht.batch(()=>{if(F(this,We).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ht.batch(()=>F(this,We).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Vn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Vn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,We).build(this,e);return n.isStaleByTime(ox(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vn).catch(Vn)}fetchInfiniteQuery(t){return t.behavior=dx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vn).catch(Vn)}ensureInfiniteQueryData(t){return t.behavior=dx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Gd.isOnline()?F(this,xi).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,We)}getMutationCache(){return F(this,xi)}getDefaultOptions(){return F(this,Ei)}setDefaultOptions(t){he(this,Ei,t)}setQueryDefaults(t,e){F(this,$o).set(tc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,$o).values()];let n={};return e.forEach(r=>{nc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){F(this,zo).set(tc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,zo).values()];let n={};return e.forEach(r=>{nc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,Ei).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=iv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===sv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Ei).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,We).clear(),F(this,xi).clear()}},We=new WeakMap,xi=new WeakMap,Ei=new WeakMap,$o=new WeakMap,zo=new WeakMap,Ti=new WeakMap,Ho=new WeakMap,Wo=new WeakMap,m1),kL=T.createContext(void 0),NL=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.jsx(kL.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}var Ci;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ci||(Ci={}));const fx="popstate";function DL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ng("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:JC(i)}return VL(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ML(){return Math.random().toString(36).substr(2,8)}function px(t,e){return{usr:t.state,key:t.key,idx:e}}function ng(t,e,n,r){return n===void 0&&(n=null),rc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xa(e):e,{state:n,key:e&&e.key||r||ML()})}function JC(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function VL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ci.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(rc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ci.Pop;let S=d(),y=S==null?null:S-c;c=S,l&&l({action:a,location:_.location,delta:y})}function h(S,y){a=Ci.Push;let x=ng(_.location,S,y);c=d()+1;let C=px(x,c),R=_.createHref(x);try{o.pushState(C,"",R)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(R)}s&&l&&l({action:a,location:_.location,delta:1})}function m(S,y){a=Ci.Replace;let x=ng(_.location,S,y);c=d();let C=px(x,c),R=_.createHref(x);o.replaceState(C,"",R),s&&l&&l({action:a,location:_.location,delta:0})}function v(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof S=="string"?S:JC(S);return x=x.replace(/ $/,"%20"),ot(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let _={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fx,f),l=S,()=>{i.removeEventListener(fx,f),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(S){return o.go(S)}};return _}var mx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mx||(mx={}));function OL(t,e,n){return n===void 0&&(n="/"),LL(t,e,n,!1)}function LL(t,e,n,r){let i=typeof e=="string"?xa(e):e,s=tA(i.pathname||"/",n);if(s==null)return null;let o=ZC(t);jL(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=QL(s);a=KL(o[l],c,r)}return a}function ZC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Is([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ot(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ZC(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:WL(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of eA(s.path))i(s,o,l)}),e}function eA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=eA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function jL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FL=/^:[\w-]+$/,UL=3,BL=2,$L=1,zL=10,HL=-2,gx=t=>t==="*";function WL(t,e){let n=t.split("/"),r=n.length;return n.some(gx)&&(r+=HL),e&&(r+=BL),n.filter(i=>!gx(i)).reduce((i,s)=>i+(FL.test(s)?UL:s===""?$L:zL),r)}function qL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function KL(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=yx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=yx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Is([s,f.pathname]),pathnameBase:tj(Is([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Is([s,f.pathnameBase]))}return o}function yx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let _=a[f]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[f];return m&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function GL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),XC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function QL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return XC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xa(t):t;return{pathname:n?n.startsWith("/")?n:XL(n,e):e,search:nj(r),hash:rj(i)}}function XL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ZL(t,e){let n=JL(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ej(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xa(t):(i=rc({},t),ot(!i.pathname||!i.pathname.includes("?"),Tp("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),Tp("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),Tp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=YL(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Is=t=>t.join("/").replace(/\/\/+/g,"/"),tj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ij(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nA=["post","put","patch","delete"];new Set(nA);const sj=["get",...nA];new Set(sj);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ic.apply(this,arguments)}const ov=T.createContext(null),oj=T.createContext(null),Gh=T.createContext(null),Qh=T.createContext(null),Ea=T.createContext({outlet:null,matches:[],isDataRoute:!1}),rA=T.createContext(null);function Yh(){return T.useContext(Qh)!=null}function Rc(){return Yh()||ot(!1),T.useContext(Qh).location}function iA(t){T.useContext(Gh).static||T.useLayoutEffect(t)}function sA(){let{isDataRoute:t}=T.useContext(Ea);return t?wj():aj()}function aj(){Yh()||ot(!1);let t=T.useContext(ov),{basename:e,future:n,navigator:r}=T.useContext(Gh),{matches:i}=T.useContext(Ea),{pathname:s}=Rc(),o=JSON.stringify(ZL(i,n.v7_relativeSplatPath)),a=T.useRef(!1);return iA(()=>{a.current=!0}),T.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=ej(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Is([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function lj(t,e){return cj(t,e)}function cj(t,e,n,r){Yh()||ot(!1);let{navigator:i}=T.useContext(Gh),{matches:s}=T.useContext(Ea),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Rc(),d;if(e){var f;let S=typeof e=="string"?xa(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||ot(!1),d=S}else d=c;let h=d.pathname||"/",m=h;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=OL(t,{pathname:m}),_=pj(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Is([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Is([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&_?T.createElement(Qh.Provider,{value:{location:ic({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ci.Pop}},_):_}function uj(){let t=vj(),e=ij(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const dj=T.createElement(uj,null);class hj extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Ea.Provider,{value:this.props.routeContext},T.createElement(rA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fj(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(ov);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Ea.Provider,{value:e},r)}function pj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||ot(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,_=null,S=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||dj,l&&(c<0&&h===0?(v=!0,S=null):c===h&&(v=!0,S=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),x=()=>{let C;return m?C=_:v?C=S:f.route.Component?C=T.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=d,T.createElement(fj,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?T.createElement(hj,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var oA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oA||{}),Qd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qd||{});function mj(t){let e=T.useContext(ov);return e||ot(!1),e}function gj(t){let e=T.useContext(oj);return e||ot(!1),e}function yj(t){let e=T.useContext(Ea);return e||ot(!1),e}function aA(t){let e=yj(),n=e.matches[e.matches.length-1];return n.route.id||ot(!1),n.route.id}function vj(){var t;let e=T.useContext(rA),n=gj(Qd.UseRouteError),r=aA(Qd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function wj(){let{router:t}=mj(oA.UseNavigateStable),e=aA(Qd.UseNavigateStable),n=T.useRef(!1);return iA(()=>{n.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ic({fromRouteId:e},s)))},[t,e])}function ul(t){ot(!1)}function _j(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ci.Pop,navigator:s,static:o=!1,future:a}=t;Yh()&&ot(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:s,static:o,future:ic({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=xa(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=r,_=T.useMemo(()=>{let S=tA(d,l);return S==null?null:{location:{pathname:S,search:f,hash:h,state:m,key:v},navigationType:i}},[l,d,f,h,m,v,i]);return _==null?null:T.createElement(Gh.Provider,{value:c},T.createElement(Qh.Provider,{children:n,value:_}))}function xj(t){let{children:e,location:n}=t;return lj(rg(e),n)}new Promise(()=>{});function rg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,rg(r.props.children,s));return}r.type!==ul&&ot(!1),!r.props.index||!r.props.children||ot(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=rg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ej="6";try{window.__reactRouterVersion=Ej}catch{}const Tj="startTransition",vx=rN[Tj];function Sj(t){let{basename:e,children:n,future:r,window:i}=t,s=T.useRef();s.current==null&&(s.current=DL({window:i,v5Compat:!0}));let o=s.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=T.useCallback(f=>{c&&vx?vx(()=>l(f)):l(f)},[l,c]);return T.useLayoutEffect(()=>o.listen(d),[o,d]),T.createElement(_j,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var wx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wx||(wx={}));var _x;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_x||(_x={}));var xx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new Cj;const h=s<<2|a>>4;if(r.push(h),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Cj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Aj=function(t){const e=lA(t);return cA.encodeByteArray(e,!0)},Yd=function(t){return Aj(t).replace(/\./g,"")},uA=function(t){try{return cA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=()=>Ij().__FIREBASE_DEFAULTS__,Rj=()=>{if(typeof process>"u"||typeof xx>"u")return;const t=xx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uA(t[1]);return e&&JSON.parse(e)},Xh=()=>{try{return Pj()||Rj()||kj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dA=t=>{var e,n;return(n=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Nj=t=>{const e=dA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hA=()=>{var t;return(t=Xh())===null||t===void 0?void 0:t.config},fA=t=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yd(JSON.stringify(n)),Yd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function Oj(){var t;const e=(t=Xh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Uj(){const t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Bj(){return!Oj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $j(){try{return typeof indexedDB=="object"}catch{return!1}}function zj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="FirebaseError";class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hj,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kc.prototype.create)}}class kc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Wj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yr(i,a,r)}}function Wj(t,e){return t.replace(qj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qj=/\{\$([^}]+)}/g;function Kj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ex(s)&&Ex(o)){if(!Xd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ex(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gj(t,e){const n=new Qj(t,e);return n.subscribe.bind(n)}class Qj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sp),i.error===void 0&&(i.error=Sp),i.complete===void 0&&(i.complete=Sp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class Ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Dj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zj(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jj(t){return t===ms?void 0:t}function Zj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const tF={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},nF=me.INFO,rF={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},iF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class av{constructor(e){this.name=e,this._logLevel=nF,this._logHandler=iF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const sF=(t,e)=>e.some(n=>t instanceof n);let Tx,Sx;function oF(){return Tx||(Tx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aF(){return Sx||(Sx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pA=new WeakMap,ig=new WeakMap,mA=new WeakMap,bp=new WeakMap,lv=new WeakMap;function lF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pA.set(n,t)}).catch(()=>{}),lv.set(e,t),e}function cF(t){if(ig.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ig.set(t,e)}let sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ig.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uF(t){sg=t(sg)}function dF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cp(this),e,...n);return mA.set(r,e.sort?e.sort():[e]),Oi(r)}:aF().includes(t)?function(...e){return t.apply(Cp(this),e),Oi(pA.get(this))}:function(...e){return Oi(t.apply(Cp(this),e))}}function hF(t){return typeof t=="function"?dF(t):(t instanceof IDBTransaction&&cF(t),sF(t,oF())?new Proxy(t,sg):t)}function Oi(t){if(t instanceof IDBRequest)return lF(t);if(bp.has(t))return bp.get(t);const e=hF(t);return e!==t&&(bp.set(t,e),lv.set(e,t)),e}const Cp=t=>lv.get(t);function fF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Oi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Oi(o.result),l.oldVersion,l.newVersion,Oi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const pF=["get","getKey","getAll","getAllKeys","count"],mF=["put","add","delete","clear"],Ap=new Map;function bx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ap.get(e))return Ap.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Ap.set(e,s),s}uF(t=>({...t,get:(e,n,r)=>bx(e,n)||t.get(e,n,r),has:(e,n)=>!!bx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const og="@firebase/app",Cx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new av("@firebase/app"),vF="@firebase/app-compat",wF="@firebase/analytics-compat",_F="@firebase/analytics",xF="@firebase/app-check-compat",EF="@firebase/app-check",TF="@firebase/auth",SF="@firebase/auth-compat",bF="@firebase/database",CF="@firebase/data-connect",AF="@firebase/database-compat",IF="@firebase/functions",PF="@firebase/functions-compat",RF="@firebase/installations",kF="@firebase/installations-compat",NF="@firebase/messaging",DF="@firebase/messaging-compat",MF="@firebase/performance",VF="@firebase/performance-compat",OF="@firebase/remote-config",LF="@firebase/remote-config-compat",jF="@firebase/storage",FF="@firebase/storage-compat",UF="@firebase/firestore",BF="@firebase/vertexai-preview",$F="@firebase/firestore-compat",zF="firebase",HF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",WF={[og]:"fire-core",[vF]:"fire-core-compat",[_F]:"fire-analytics",[wF]:"fire-analytics-compat",[EF]:"fire-app-check",[xF]:"fire-app-check-compat",[TF]:"fire-auth",[SF]:"fire-auth-compat",[bF]:"fire-rtdb",[CF]:"fire-data-connect",[AF]:"fire-rtdb-compat",[IF]:"fire-fn",[PF]:"fire-fn-compat",[RF]:"fire-iid",[kF]:"fire-iid-compat",[NF]:"fire-fcm",[DF]:"fire-fcm-compat",[MF]:"fire-perf",[VF]:"fire-perf-compat",[OF]:"fire-rc",[LF]:"fire-rc-compat",[jF]:"fire-gcs",[FF]:"fire-gcs-compat",[UF]:"fire-fst",[$F]:"fire-fst-compat",[BF]:"fire-vertex","fire-js":"fire-js",[zF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Map,qF=new Map,lg=new Map;function Ax(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ra(t){const e=t.name;if(lg.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,t);for(const n of Jd.values())Ax(n,t);for(const n of qF.values())Ax(n,t);return!0}function cv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ir(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new kc("app","Firebase",KF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=HF;function gA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ag,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Li.create("bad-app-name",{appName:String(i)});if(n||(n=hA()),!n)throw Li.create("no-options");const s=Jd.get(i);if(s){if(Xd(n,s.options)&&Xd(r,s.config))return s;throw Li.create("duplicate-app",{appName:i})}const o=new eF(i);for(const l of lg.values())o.addComponent(l);const a=new GF(n,r,o);return Jd.set(i,a),a}function yA(t=ag){const e=Jd.get(t);if(!e&&t===ag&&hA())return gA();if(!e)throw Li.create("no-app",{appName:t});return e}function ji(t,e,n){var r;let i=(r=WF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(a.join(" "));return}ra(new Ls(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF="firebase-heartbeat-database",YF=1,sc="firebase-heartbeat-store";let Ip=null;function vA(){return Ip||(Ip=fF(QF,YF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),Ip}async function XF(t){try{const n=(await vA()).transaction(sc),r=await n.objectStore(sc).get(wA(t));return await n.done,r}catch(e){if(e instanceof Yr)$r.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function Ix(t,e){try{const r=(await vA()).transaction(sc,"readwrite");await r.objectStore(sc).put(e,wA(t)),await r.done}catch(n){if(n instanceof Yr)$r.warn(n.message);else{const r=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(r.message)}}}function wA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=1024,ZF=30*24*60*60*1e3;class e4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new n4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Px();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ZF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$r.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Px(),{heartbeatsToSend:r,unsentEntries:i}=t4(this._heartbeatsCache.heartbeats),s=Yd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $r.warn(n),""}}}function Px(){return new Date().toISOString().substring(0,10)}function t4(t,e=JF){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Rx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class n4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $j()?zj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ix(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ix(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rx(t){return Yd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){ra(new Ls("platform-logger",e=>new gF(e),"PRIVATE")),ra(new Ls("heartbeat",e=>new e4(e),"PRIVATE")),ji(og,Cx,t),ji(og,Cx,"esm2017"),ji("fire-js","")}r4("");var i4="firebase",s4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(i4,s4,"app");var kx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,_A;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,w){function b(){}b.prototype=w.prototype,A.D=w.prototype,A.prototype=new b,A.prototype.constructor=A,A.C=function(I,N,V){for(var D=Array(arguments.length-2),H=2;H<arguments.length;H++)D[H-2]=arguments[H];return w.prototype[N].apply(I,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,w,b){b||(b=0);var I=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)I[N]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(N=0;16>N;++N)I[N]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=A.g[0],b=A.g[1],N=A.g[2];var V=A.g[3],D=w+(V^b&(N^V))+I[0]+3614090360&4294967295;w=b+(D<<7&4294967295|D>>>25),D=V+(N^w&(b^N))+I[1]+3905402710&4294967295,V=w+(D<<12&4294967295|D>>>20),D=N+(b^V&(w^b))+I[2]+606105819&4294967295,N=V+(D<<17&4294967295|D>>>15),D=b+(w^N&(V^w))+I[3]+3250441966&4294967295,b=N+(D<<22&4294967295|D>>>10),D=w+(V^b&(N^V))+I[4]+4118548399&4294967295,w=b+(D<<7&4294967295|D>>>25),D=V+(N^w&(b^N))+I[5]+1200080426&4294967295,V=w+(D<<12&4294967295|D>>>20),D=N+(b^V&(w^b))+I[6]+2821735955&4294967295,N=V+(D<<17&4294967295|D>>>15),D=b+(w^N&(V^w))+I[7]+4249261313&4294967295,b=N+(D<<22&4294967295|D>>>10),D=w+(V^b&(N^V))+I[8]+1770035416&4294967295,w=b+(D<<7&4294967295|D>>>25),D=V+(N^w&(b^N))+I[9]+2336552879&4294967295,V=w+(D<<12&4294967295|D>>>20),D=N+(b^V&(w^b))+I[10]+4294925233&4294967295,N=V+(D<<17&4294967295|D>>>15),D=b+(w^N&(V^w))+I[11]+2304563134&4294967295,b=N+(D<<22&4294967295|D>>>10),D=w+(V^b&(N^V))+I[12]+1804603682&4294967295,w=b+(D<<7&4294967295|D>>>25),D=V+(N^w&(b^N))+I[13]+4254626195&4294967295,V=w+(D<<12&4294967295|D>>>20),D=N+(b^V&(w^b))+I[14]+2792965006&4294967295,N=V+(D<<17&4294967295|D>>>15),D=b+(w^N&(V^w))+I[15]+1236535329&4294967295,b=N+(D<<22&4294967295|D>>>10),D=w+(N^V&(b^N))+I[1]+4129170786&4294967295,w=b+(D<<5&4294967295|D>>>27),D=V+(b^N&(w^b))+I[6]+3225465664&4294967295,V=w+(D<<9&4294967295|D>>>23),D=N+(w^b&(V^w))+I[11]+643717713&4294967295,N=V+(D<<14&4294967295|D>>>18),D=b+(V^w&(N^V))+I[0]+3921069994&4294967295,b=N+(D<<20&4294967295|D>>>12),D=w+(N^V&(b^N))+I[5]+3593408605&4294967295,w=b+(D<<5&4294967295|D>>>27),D=V+(b^N&(w^b))+I[10]+38016083&4294967295,V=w+(D<<9&4294967295|D>>>23),D=N+(w^b&(V^w))+I[15]+3634488961&4294967295,N=V+(D<<14&4294967295|D>>>18),D=b+(V^w&(N^V))+I[4]+3889429448&4294967295,b=N+(D<<20&4294967295|D>>>12),D=w+(N^V&(b^N))+I[9]+568446438&4294967295,w=b+(D<<5&4294967295|D>>>27),D=V+(b^N&(w^b))+I[14]+3275163606&4294967295,V=w+(D<<9&4294967295|D>>>23),D=N+(w^b&(V^w))+I[3]+4107603335&4294967295,N=V+(D<<14&4294967295|D>>>18),D=b+(V^w&(N^V))+I[8]+1163531501&4294967295,b=N+(D<<20&4294967295|D>>>12),D=w+(N^V&(b^N))+I[13]+2850285829&4294967295,w=b+(D<<5&4294967295|D>>>27),D=V+(b^N&(w^b))+I[2]+4243563512&4294967295,V=w+(D<<9&4294967295|D>>>23),D=N+(w^b&(V^w))+I[7]+1735328473&4294967295,N=V+(D<<14&4294967295|D>>>18),D=b+(V^w&(N^V))+I[12]+2368359562&4294967295,b=N+(D<<20&4294967295|D>>>12),D=w+(b^N^V)+I[5]+4294588738&4294967295,w=b+(D<<4&4294967295|D>>>28),D=V+(w^b^N)+I[8]+2272392833&4294967295,V=w+(D<<11&4294967295|D>>>21),D=N+(V^w^b)+I[11]+1839030562&4294967295,N=V+(D<<16&4294967295|D>>>16),D=b+(N^V^w)+I[14]+4259657740&4294967295,b=N+(D<<23&4294967295|D>>>9),D=w+(b^N^V)+I[1]+2763975236&4294967295,w=b+(D<<4&4294967295|D>>>28),D=V+(w^b^N)+I[4]+1272893353&4294967295,V=w+(D<<11&4294967295|D>>>21),D=N+(V^w^b)+I[7]+4139469664&4294967295,N=V+(D<<16&4294967295|D>>>16),D=b+(N^V^w)+I[10]+3200236656&4294967295,b=N+(D<<23&4294967295|D>>>9),D=w+(b^N^V)+I[13]+681279174&4294967295,w=b+(D<<4&4294967295|D>>>28),D=V+(w^b^N)+I[0]+3936430074&4294967295,V=w+(D<<11&4294967295|D>>>21),D=N+(V^w^b)+I[3]+3572445317&4294967295,N=V+(D<<16&4294967295|D>>>16),D=b+(N^V^w)+I[6]+76029189&4294967295,b=N+(D<<23&4294967295|D>>>9),D=w+(b^N^V)+I[9]+3654602809&4294967295,w=b+(D<<4&4294967295|D>>>28),D=V+(w^b^N)+I[12]+3873151461&4294967295,V=w+(D<<11&4294967295|D>>>21),D=N+(V^w^b)+I[15]+530742520&4294967295,N=V+(D<<16&4294967295|D>>>16),D=b+(N^V^w)+I[2]+3299628645&4294967295,b=N+(D<<23&4294967295|D>>>9),D=w+(N^(b|~V))+I[0]+4096336452&4294967295,w=b+(D<<6&4294967295|D>>>26),D=V+(b^(w|~N))+I[7]+1126891415&4294967295,V=w+(D<<10&4294967295|D>>>22),D=N+(w^(V|~b))+I[14]+2878612391&4294967295,N=V+(D<<15&4294967295|D>>>17),D=b+(V^(N|~w))+I[5]+4237533241&4294967295,b=N+(D<<21&4294967295|D>>>11),D=w+(N^(b|~V))+I[12]+1700485571&4294967295,w=b+(D<<6&4294967295|D>>>26),D=V+(b^(w|~N))+I[3]+2399980690&4294967295,V=w+(D<<10&4294967295|D>>>22),D=N+(w^(V|~b))+I[10]+4293915773&4294967295,N=V+(D<<15&4294967295|D>>>17),D=b+(V^(N|~w))+I[1]+2240044497&4294967295,b=N+(D<<21&4294967295|D>>>11),D=w+(N^(b|~V))+I[8]+1873313359&4294967295,w=b+(D<<6&4294967295|D>>>26),D=V+(b^(w|~N))+I[15]+4264355552&4294967295,V=w+(D<<10&4294967295|D>>>22),D=N+(w^(V|~b))+I[6]+2734768916&4294967295,N=V+(D<<15&4294967295|D>>>17),D=b+(V^(N|~w))+I[13]+1309151649&4294967295,b=N+(D<<21&4294967295|D>>>11),D=w+(N^(b|~V))+I[4]+4149444226&4294967295,w=b+(D<<6&4294967295|D>>>26),D=V+(b^(w|~N))+I[11]+3174756917&4294967295,V=w+(D<<10&4294967295|D>>>22),D=N+(w^(V|~b))+I[2]+718787259&4294967295,N=V+(D<<15&4294967295|D>>>17),D=b+(V^(N|~w))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+w&4294967295,A.g[1]=A.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+V&4294967295}r.prototype.u=function(A,w){w===void 0&&(w=A.length);for(var b=w-this.blockSize,I=this.B,N=this.h,V=0;V<w;){if(N==0)for(;V<=b;)i(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<w;)if(I[N++]=A.charCodeAt(V++),N==this.blockSize){i(this,I),N=0;break}}else for(;V<w;)if(I[N++]=A[V++],N==this.blockSize){i(this,I),N=0;break}}this.h=N,this.o+=w},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var w=1;w<A.length-8;++w)A[w]=0;var b=8*this.o;for(w=A.length-8;w<A.length;++w)A[w]=b&255,b/=256;for(this.u(A),A=Array(16),w=b=0;4>w;++w)for(var I=0;32>I;I+=8)A[b++]=this.g[w]>>>I&255;return A};function s(A,w){var b=a;return Object.prototype.hasOwnProperty.call(b,A)?b[A]:b[A]=w(A)}function o(A,w){this.h=w;for(var b=[],I=!0,N=A.length-1;0<=N;N--){var V=A[N]|0;I&&V==w||(b[N]=V,I=!1)}this.g=b}var a={};function l(A){return-128<=A&&128>A?s(A,function(w){return new o([w|0],0>w?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return S(c(-A));for(var w=[],b=1,I=0;A>=b;I++)w[I]=A/b|0,b*=4294967296;return new o(w,0)}function d(A,w){if(A.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A.charAt(0)=="-")return S(d(A.substring(1),w));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(w,8)),I=f,N=0;N<A.length;N+=8){var V=Math.min(8,A.length-N),D=parseInt(A.substring(N,N+V),w);8>V?(V=c(Math.pow(w,V)),I=I.j(V).add(c(D))):(I=I.j(b),I=I.add(c(D)))}return I}var f=l(0),h=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-S(this).m();for(var A=0,w=1,b=0;b<this.g.length;b++){var I=this.i(b);A+=(0<=I?I:4294967296+I)*w,w*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(v(this))return"0";if(_(this))return"-"+S(this).toString(A);for(var w=c(Math.pow(A,6)),b=this,I="";;){var N=R(b,w).g;b=y(b,N.j(w));var V=((0<b.g.length?b.g[0]:b.h)>>>0).toString(A);if(b=N,v(b))return V+I;for(;6>V.length;)V="0"+V;I=V+I}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function v(A){if(A.h!=0)return!1;for(var w=0;w<A.g.length;w++)if(A.g[w]!=0)return!1;return!0}function _(A){return A.h==-1}t.l=function(A){return A=y(this,A),_(A)?-1:v(A)?0:1};function S(A){for(var w=A.g.length,b=[],I=0;I<w;I++)b[I]=~A.g[I];return new o(b,~A.h).add(h)}t.abs=function(){return _(this)?S(this):this},t.add=function(A){for(var w=Math.max(this.g.length,A.g.length),b=[],I=0,N=0;N<=w;N++){var V=I+(this.i(N)&65535)+(A.i(N)&65535),D=(V>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);I=D>>>16,V&=65535,D&=65535,b[N]=D<<16|V}return new o(b,b[b.length-1]&-2147483648?-1:0)};function y(A,w){return A.add(S(w))}t.j=function(A){if(v(this)||v(A))return f;if(_(this))return _(A)?S(this).j(S(A)):S(S(this).j(A));if(_(A))return S(this.j(S(A)));if(0>this.l(m)&&0>A.l(m))return c(this.m()*A.m());for(var w=this.g.length+A.g.length,b=[],I=0;I<2*w;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<A.g.length;N++){var V=this.i(I)>>>16,D=this.i(I)&65535,H=A.i(N)>>>16,se=A.i(N)&65535;b[2*I+2*N]+=D*se,x(b,2*I+2*N),b[2*I+2*N+1]+=V*se,x(b,2*I+2*N+1),b[2*I+2*N+1]+=D*H,x(b,2*I+2*N+1),b[2*I+2*N+2]+=V*H,x(b,2*I+2*N+2)}for(I=0;I<w;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=w;I<2*w;I++)b[I]=0;return new o(b,0)};function x(A,w){for(;(A[w]&65535)!=A[w];)A[w+1]+=A[w]>>>16,A[w]&=65535,w++}function C(A,w){this.g=A,this.h=w}function R(A,w){if(v(w))throw Error("division by zero");if(v(A))return new C(f,f);if(_(A))return w=R(S(A),w),new C(S(w.g),S(w.h));if(_(w))return w=R(A,S(w)),new C(S(w.g),w.h);if(30<A.g.length){if(_(A)||_(w))throw Error("slowDivide_ only works with positive integers.");for(var b=h,I=w;0>=I.l(A);)b=k(b),I=k(I);var N=M(b,1),V=M(I,1);for(I=M(I,2),b=M(b,2);!v(I);){var D=V.add(I);0>=D.l(A)&&(N=N.add(b),V=D),I=M(I,1),b=M(b,1)}return w=y(A,N.j(w)),new C(N,w)}for(N=f;0<=A.l(w);){for(b=Math.max(1,Math.floor(A.m()/w.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),V=c(b),D=V.j(w);_(D)||0<D.l(A);)b-=I,V=c(b),D=V.j(w);v(V)&&(V=h),N=N.add(V),A=y(A,D)}return new C(N,A)}t.A=function(A){return R(this,A).h},t.and=function(A){for(var w=Math.max(this.g.length,A.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)&A.i(I);return new o(b,this.h&A.h)},t.or=function(A){for(var w=Math.max(this.g.length,A.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)|A.i(I);return new o(b,this.h|A.h)},t.xor=function(A){for(var w=Math.max(this.g.length,A.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)^A.i(I);return new o(b,this.h^A.h)};function k(A){for(var w=A.g.length+1,b=[],I=0;I<w;I++)b[I]=A.i(I)<<1|A.i(I-1)>>>31;return new o(b,A.h)}function M(A,w){var b=w>>5;w%=32;for(var I=A.g.length-b,N=[],V=0;V<I;V++)N[V]=0<w?A.i(V+b)>>>w|A.i(V+b+1)<<32-w:A.i(V+b);return new o(N,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_A=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ps=o}).apply(typeof kx<"u"?kx:typeof self<"u"?self:typeof window<"u"?window:{});var Ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xA,dl,EA,ad,cg,TA,SA,bA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ou=="object"&&Ou];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var g=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var O=u[P];if(!(O in g))break e;g=g[O]}u=u[u.length-1],P=g[u],p=p(P),p!=P&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var g=0,P=!1,O={next:function(){if(!P&&g<u.length){var j=g++;return{value:p(j,u[j]),done:!1}}return P=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,g){return u.call.apply(u.bind,arguments)}function f(u,p,g){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,P),u.apply(p,O)}}return function(){return u.apply(p,arguments)}}function h(u,p,g){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var P=g.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function v(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(P,O,j){for(var W=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)W[Ae-2]=arguments[Ae];return p.prototype[O].apply(P,W)}}function _(u){const p=u.length;if(0<p){const g=Array(p);for(let P=0;P<p;P++)g[P]=u[P];return g}return[]}function S(u,p){for(let g=1;g<arguments.length;g++){const P=arguments[g];if(l(P)){const O=u.length||0,j=P.length||0;u.length=O+j;for(let W=0;W<j;W++)u[O+W]=P[W]}else u.push(P)}}class y{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(u){return/^[\s\xa0]*$/.test(u)}function C(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var k=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function M(u,p,g){for(const P in u)p.call(g,u[P],P,u)}function A(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function w(u){const p={};for(const g in u)p[g]=u[g];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,p){let g,P;for(let O=1;O<arguments.length;O++){P=arguments[O];for(g in P)u[g]=P[g];for(let j=0;j<b.length;j++)g=b[j],Object.prototype.hasOwnProperty.call(P,g)&&(u[g]=P[g])}}function N(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function V(u){a.setTimeout(()=>{throw u},0)}function D(){var u=z;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class H{constructor(){this.h=this.g=null}add(p,g){const P=se.get();P.set(p,g),this.h?this.h.next=P:this.g=P,this.h=P}}var se=new y(()=>new re,u=>u.reset());class re{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,L=!1,z=new H,Y=()=>{const u=a.Promise.resolve(void 0);Z=()=>{u.then(G)}};var G=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(g){V(g)}var p=se;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}L=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function rt(u,p){if(ne.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(k){e:{try{R(p.nodeName);var O=!0;break e}catch{}O=!1}O||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_e[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&rt.aa.h.call(this)}}v(rt,ne);var _e={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),Kn=0;function Gn(u,p,g,P,O){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!P,this.ha=O,this.key=++Kn,this.da=this.fa=!1}function nn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gr(u){this.src=u,this.g={},this.h=0}gr.prototype.add=function(u,p,g,P,O){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var W=Pn(u,p,P,O);return-1<W?(p=u[W],g||(p.fa=!1)):(p=new Gn(p,this.src,j,!!P,O),p.fa=g,u.push(p)),p};function Qn(u,p){var g=p.type;if(g in u.g){var P=u.g[g],O=Array.prototype.indexOf.call(P,p,void 0),j;(j=0<=O)&&Array.prototype.splice.call(P,O,1),j&&(nn(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Pn(u,p,g,P){for(var O=0;O<u.length;++O){var j=u[O];if(!j.da&&j.listener==p&&j.capture==!!g&&j.ha==P)return O}return-1}var yr="closure_lm_"+(1e6*Math.random()|0),Xr={};function Rn(u,p,g,P,O){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Rn(u,p[j],g,P,O);return null}return g=Ma(g),u&&u[Tt]?u.K(p,g,c(P)?!!P.capture:!!P,O):ka(u,p,g,!1,P,O)}function ka(u,p,g,P,O,j){if(!p)throw Error("Invalid event type");var W=c(O)?!!O.capture:!!O,Ae=Jr(u);if(Ae||(u[yr]=Ae=new gr(u)),g=Ae.add(p,g,P,W,j),g.proxy)return g;if(P=Na(),g.proxy=P,P.src=u,P.listener=g,u.addEventListener)ke||(O=W),O===void 0&&(O=!1),u.addEventListener(p.toString(),P,O);else if(u.attachEvent)u.attachEvent(Qc(p.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Na(){function u(g){return p.call(u.src,u.listener,g)}const p=If;return u}function Je(u,p,g,P,O){if(Array.isArray(p))for(var j=0;j<p.length;j++)Je(u,p[j],g,P,O);else P=c(P)?!!P.capture:!!P,g=Ma(g),u&&u[Tt]?(u=u.i,p=String(p).toString(),p in u.g&&(j=u.g[p],g=Pn(j,g,P,O),-1<g&&(nn(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete u.g[p],u.h--)))):u&&(u=Jr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Pn(p,g,P,O)),(g=-1<u?p[u]:null)&&Yn(g))}function Yn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Tt])Qn(p.i,u);else{var g=u.type,P=u.proxy;p.removeEventListener?p.removeEventListener(g,P,u.capture):p.detachEvent?p.detachEvent(Qc(g),P):p.addListener&&p.removeListener&&p.removeListener(P),(g=Jr(p))?(Qn(g,u),g.h==0&&(g.src=null,p[yr]=null)):nn(u)}}}function Qc(u){return u in Xr?Xr[u]:Xr[u]="on"+u}function If(u,p){if(u.da)u=!0;else{p=new rt(p,this);var g=u.listener,P=u.ha||u.src;u.fa&&Yn(u),u=g.call(P,p)}return u}function Jr(u){return u=u[yr],u instanceof gr?u:null}var Da="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ma(u){return typeof u=="function"?u:(u[Da]||(u[Da]=function(p){return u.handleEvent(p)}),u[Da])}function Ze(){ee.call(this),this.i=new gr(this),this.M=this,this.F=null}v(Ze,ee),Ze.prototype[Tt]=!0,Ze.prototype.removeEventListener=function(u,p,g,P){Je(this,u,p,g,P)};function ze(u,p){var g,P=u.F;if(P)for(g=[];P;P=P.F)g.push(P);if(u=u.M,P=p.type||p,typeof p=="string")p=new ne(p,u);else if(p instanceof ne)p.target=p.target||u;else{var O=p;p=new ne(P,u),I(p,O)}if(O=!0,g)for(var j=g.length-1;0<=j;j--){var W=p.g=g[j];O=as(W,P,!0,p)&&O}if(W=p.g=u,O=as(W,P,!0,p)&&O,O=as(W,P,!1,p)&&O,g)for(j=0;j<g.length;j++)W=p.g=g[j],O=as(W,P,!1,p)&&O}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],P=0;P<g.length;P++)nn(g[P]);delete u.g[p],u.h--}}this.F=null},Ze.prototype.K=function(u,p,g,P){return this.i.add(String(u),p,!1,g,P)},Ze.prototype.L=function(u,p,g,P){return this.i.add(String(u),p,!0,g,P)};function as(u,p,g,P){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var O=!0,j=0;j<p.length;++j){var W=p[j];if(W&&!W.da&&W.capture==g){var Ae=W.listener,ht=W.ha||W.src;W.fa&&Qn(u.i,W),O=Ae.call(ht,P)!==!1&&O}}return O&&!P.defaultPrevented}function vr(u,p,g){if(typeof u=="function")g&&(u=h(u,g));else if(u&&typeof u.handleEvent=="function")u=h(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Va(u){u.g=vr(()=>{u.g=null,u.i&&(u.i=!1,Va(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Pf extends ee{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Va(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(u){ee.call(this),this.h=u,this.g={}}v(Zr,ee);var Oa=[];function Yc(u){M(u.g,function(p,g){this.g.hasOwnProperty(g)&&Yn(p)},u),u.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),Yc(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=a.JSON.stringify,Xn=a.JSON.parse,Rf=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function le(){}le.prototype.h=null;function be(u){return u.h||(u.h=u.i())}function Ee(){}var St={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qt(){ne.call(this,"d")}v(Qt,ne);function ei(){ne.call(this,"c")}v(ei,ne);var wr={},F0=null;function Xc(){return F0=F0||new Ze}wr.La="serverreachability";function U0(u){ne.call(this,wr.La,u)}v(U0,ne);function La(u){const p=Xc();ze(p,new U0(p))}wr.STAT_EVENT="statevent";function B0(u,p){ne.call(this,wr.STAT_EVENT,u),this.stat=p}v(B0,ne);function Bt(u){const p=Xc();ze(p,new B0(p,u))}wr.Ma="timingevent";function $0(u,p){ne.call(this,wr.Ma,u),this.size=p}v($0,ne);function ja(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Fa(){this.g=!0}Fa.prototype.xa=function(){this.g=!1};function vk(u,p,g,P,O,j){u.info(function(){if(u.g)if(j)for(var W="",Ae=j.split("&"),ht=0;ht<Ae.length;ht++){var ve=Ae[ht].split("=");if(1<ve.length){var bt=ve[0];ve=ve[1];var Ct=bt.split("_");W=2<=Ct.length&&Ct[1]=="type"?W+(bt+"="+ve+"&"):W+(bt+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+P+") [attempt "+O+"]: "+p+`
`+g+`
`+W})}function wk(u,p,g,P,O,j,W){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+O+"]: "+p+`
`+g+`
`+j+" "+W})}function Xs(u,p,g,P){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+xk(u,g)+(P?" "+P:"")})}function _k(u,p){u.info(function(){return"TIMEOUT: "+p})}Fa.prototype.info=function(){};function xk(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var P=g[u];if(!(2>P.length)){var O=P[1];if(Array.isArray(O)&&!(1>O.length)){var j=O[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<O.length;W++)O[W]=""}}}}return ls(g)}catch{return p}}var Jc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},z0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kf;function Zc(){}v(Zc,le),Zc.prototype.g=function(){return new XMLHttpRequest},Zc.prototype.i=function(){return{}},kf=new Zc;function ti(u,p,g,P){this.j=u,this.i=p,this.l=g,this.R=P||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new H0}function H0(){this.i=null,this.g="",this.h=!1}var W0={},Nf={};function Df(u,p,g){u.L=1,u.v=ru(_r(p)),u.m=g,u.P=!0,q0(u,null)}function q0(u,p){u.F=Date.now(),eu(u),u.A=_r(u.v);var g=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),ow(g.i,"t",P),u.C=0,g=u.j.J,u.h=new H0,u.g=Sw(u.j,g?p:null,!u.m),0<u.O&&(u.M=new Pf(h(u.Y,u,u.g),u.O)),p=u.U,g=u.g,P=u.ca;var O="readystatechange";Array.isArray(O)||(O&&(Oa[0]=O.toString()),O=Oa);for(var j=0;j<O.length;j++){var W=Rn(g,O[j],P||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),La(),vk(u.i,u.u,u.A,u.l,u.R,u.m)}ti.prototype.ca=function(u){u=u.target;const p=this.M;p&&xr(u)==3?p.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)e:{const Ct=xr(this.g);var p=this.g.Ba();const eo=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||fw(this.g)))){this.J||Ct!=4||p==7||(p==8||0>=eo?La(3):La(2)),Mf(this);var g=this.g.Z();this.X=g;t:if(K0(this)){var P=fw(this.g);u="";var O=P.length,j=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cs(this),Ua(this);var W="";break t}this.h.i=new a.TextDecoder}for(p=0;p<O;p++)this.h.h=!0,u+=this.h.i.decode(P[p],{stream:!(j&&p==O-1)});P.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,wk(this.i,this.u,this.A,this.l,this.R,Ct,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,ht=this.g;if((Ae=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Ae)){var ve=Ae;break t}}ve=null}if(g=ve)Xs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vf(this,g);else{this.o=!1,this.s=3,Bt(12),cs(this),Ua(this);break e}}if(this.P){g=!0;let kn;for(;!this.J&&this.C<W.length;)if(kn=Ek(this,W),kn==Nf){Ct==4&&(this.s=4,Bt(14),g=!1),Xs(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==W0){this.s=4,Bt(15),Xs(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else Xs(this.i,this.l,kn,null),Vf(this,kn);if(K0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||W.length!=0||this.h.h||(this.s=1,Bt(16),g=!1),this.o=this.o&&g,!g)Xs(this.i,this.l,W,"[Invalid Chunked Response]"),cs(this),Ua(this);else if(0<W.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Bf(bt),bt.M=!0,Bt(11))}}else Xs(this.i,this.l,W,null),Vf(this,W);Ct==4&&cs(this),this.o&&!this.J&&(Ct==4?_w(this.j,this):(this.o=!1,eu(this)))}else Fk(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),cs(this),Ua(this)}}}catch{}finally{}};function K0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ek(u,p){var g=u.C,P=p.indexOf(`
`,g);return P==-1?Nf:(g=Number(p.substring(g,P)),isNaN(g)?W0:(P+=1,P+g>p.length?Nf:(p=p.slice(P,P+g),u.C=P+g,p)))}ti.prototype.cancel=function(){this.J=!0,cs(this)};function eu(u){u.S=Date.now()+u.I,G0(u,u.I)}function G0(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ja(h(u.ba,u),p)}function Mf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ti.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_k(this.i,this.A),this.L!=2&&(La(),Bt(17)),cs(this),this.s=2,Ua(this)):G0(this,this.S-u)};function Ua(u){u.j.G==0||u.J||_w(u.j,u)}function cs(u){Mf(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Yc(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Vf(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||Of(g.h,u))){if(!u.K&&Of(g.h,u)&&g.G==3){try{var P=g.Da.g.parse(p)}catch{P=null}if(Array.isArray(P)&&P.length==3){var O=P;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)cu(g),au(g);else break e;Uf(g),Bt(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=ja(h(g.Za,g),6e3));if(1>=X0(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ds(g,11)}else if((u.K||g.g==u)&&cu(g),!x(p))for(O=g.Da.g.parse(p),p=0;p<O.length;p++){let ve=O[p];if(g.T=ve[0],ve=ve[1],g.G==2)if(ve[0]=="c"){g.K=ve[1],g.ia=ve[2];const bt=ve[3];bt!=null&&(g.la=bt,g.j.info("VER="+g.la));const Ct=ve[4];Ct!=null&&(g.Aa=Ct,g.j.info("SVER="+g.Aa));const eo=ve[5];eo!=null&&typeof eo=="number"&&0<eo&&(P=1.5*eo,g.L=P,g.j.info("backChannelRequestTimeoutMs_="+P)),P=g;const kn=u.g;if(kn){const du=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(du){var j=P.h;j.g||du.indexOf("spdy")==-1&&du.indexOf("quic")==-1&&du.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Lf(j,j.h),j.h=null))}if(P.D){const $f=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;$f&&(P.ya=$f,Ne(P.I,P.D,$f))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),P=g;var W=u;if(P.qa=Tw(P,P.J?P.ia:null,P.W),W.K){J0(P.h,W);var Ae=W,ht=P.L;ht&&(Ae.I=ht),Ae.B&&(Mf(Ae),eu(Ae)),P.g=W}else vw(P);0<g.i.length&&lu(g)}else ve[0]!="stop"&&ve[0]!="close"||ds(g,7);else g.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ds(g,7):Ff(g):ve[0]!="noop"&&g.l&&g.l.ta(ve),g.v=0)}}La(4)}catch{}}var Tk=class{constructor(u,p){this.g=u,this.map=p}};function Q0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Y0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function X0(u){return u.h?1:u.g?u.g.size:0}function Of(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Lf(u,p){u.g?u.g.add(p):u.h=p}function J0(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Q0.prototype.cancel=function(){if(this.i=Z0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Z0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return _(u.i)}function Sk(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],g=u.length,P=0;P<g;P++)p.push(u[P]);return p}p=[],g=0;for(P in u)p[g++]=u[P];return p}function bk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const P in u)p[g++]=P;return p}}}function ew(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=bk(u),P=Sk(u),O=P.length,j=0;j<O;j++)p.call(void 0,P[j],g&&g[j],u)}var tw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ck(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var P=u[g].indexOf("="),O=null;if(0<=P){var j=u[g].substring(0,P);O=u[g].substring(P+1)}else j=u[g];p(j,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function us(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof us){this.h=u.h,tu(this,u.j),this.o=u.o,this.g=u.g,nu(this,u.s),this.l=u.l;var p=u.i,g=new za;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),nw(this,g),this.m=u.m}else u&&(p=String(u).match(tw))?(this.h=!1,tu(this,p[1]||"",!0),this.o=Ba(p[2]||""),this.g=Ba(p[3]||"",!0),nu(this,p[4]),this.l=Ba(p[5]||"",!0),nw(this,p[6]||"",!0),this.m=Ba(p[7]||"")):(this.h=!1,this.i=new za(null,this.h))}us.prototype.toString=function(){var u=[],p=this.j;p&&u.push($a(p,rw,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push($a(p,rw,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push($a(g,g.charAt(0)=="/"?Pk:Ik,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",$a(g,kk)),u.join("")};function _r(u){return new us(u)}function tu(u,p,g){u.j=g?Ba(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function nu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function nw(u,p,g){p instanceof za?(u.i=p,Nk(u.i,u.h)):(g||(p=$a(p,Rk)),u.i=new za(p,u.h))}function Ne(u,p,g){u.i.set(p,g)}function ru(u){return Ne(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ba(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $a(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,Ak),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ak(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var rw=/[#\/\?@]/g,Ik=/[#\?:]/g,Pk=/[#\?]/g,Rk=/[#\?@]/g,kk=/#/g;function za(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function ni(u){u.g||(u.g=new Map,u.h=0,u.i&&Ck(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=za.prototype,t.add=function(u,p){ni(this),this.i=null,u=Js(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function iw(u,p){ni(u),p=Js(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function sw(u,p){return ni(u),p=Js(u,p),u.g.has(p)}t.forEach=function(u,p){ni(this),this.g.forEach(function(g,P){g.forEach(function(O){u.call(p,O,P,this)},this)},this)},t.na=function(){ni(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let P=0;P<p.length;P++){const O=u[P];for(let j=0;j<O.length;j++)g.push(p[P])}return g},t.V=function(u){ni(this);let p=[];if(typeof u=="string")sw(this,u)&&(p=p.concat(this.g.get(Js(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return ni(this),this.i=null,u=Js(this,u),sw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function ow(u,p,g){iw(u,p),0<g.length&&(u.i=null,u.g.set(Js(u,p),_(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var P=p[g];const j=encodeURIComponent(String(P)),W=this.V(P);for(P=0;P<W.length;P++){var O=j;W[P]!==""&&(O+="="+encodeURIComponent(String(W[P]))),u.push(O)}}return this.i=u.join("&")};function Js(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Nk(u,p){p&&!u.j&&(ni(u),u.i=null,u.g.forEach(function(g,P){var O=P.toLowerCase();P!=O&&(iw(this,P),ow(this,O,g))},u)),u.j=p}function Dk(u,p){const g=new Fa;if(a.Image){const P=new Image;P.onload=m(ri,g,"TestLoadImage: loaded",!0,p,P),P.onerror=m(ri,g,"TestLoadImage: error",!1,p,P),P.onabort=m(ri,g,"TestLoadImage: abort",!1,p,P),P.ontimeout=m(ri,g,"TestLoadImage: timeout",!1,p,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else p(!1)}function Mk(u,p){const g=new Fa,P=new AbortController,O=setTimeout(()=>{P.abort(),ri(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:P.signal}).then(j=>{clearTimeout(O),j.ok?ri(g,"TestPingServer: ok",!0,p):ri(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(O),ri(g,"TestPingServer: error",!1,p)})}function ri(u,p,g,P,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),P(g)}catch{}}function Vk(){this.g=new Rf}function Ok(u,p,g){const P=g||"";try{ew(u,function(O,j){let W=O;c(O)&&(W=ls(O)),p.push(P+j+"="+encodeURIComponent(W))})}catch(O){throw p.push(P+"type="+encodeURIComponent("_badmap")),O}}function iu(u){this.l=u.Ub||null,this.j=u.eb||!1}v(iu,le),iu.prototype.g=function(){return new su(this.l,this.j)},iu.prototype.i=function(u){return function(){return u}}({});function su(u,p){Ze.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(su,Ze),t=su.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Wa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wa(this)),this.g&&(this.readyState=3,Wa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;aw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function aw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ha(this):Wa(this),this.readyState==3&&aw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ha(this))},t.Qa=function(u){this.g&&(this.response=u,Ha(this))},t.ga=function(){this.g&&Ha(this)};function Ha(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wa(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function Wa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function lw(u){let p="";return M(u,function(g,P){p+=P,p+=":",p+=g,p+=`\r
`}),p}function jf(u,p,g){e:{for(P in g){var P=!1;break e}P=!0}P||(g=lw(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Ne(u,p,g))}function He(u){Ze.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(He,Ze);var Lk=/^https?$/i,jk=["POST","PUT"];t=He.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kf.g(),this.v=this.o?be(this.o):be(kf),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(j){cw(this,j);return}if(u=g||"",g=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var O in P)g.set(O,P[O]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const j of P.keys())g.set(j,P.get(j));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),O=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jk,p,void 0))||P||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of g)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hw(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){cw(this,j)}};function cw(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,uw(u),ou(u)}function uw(u){u.A||(u.A=!0,ze(u,"complete"),ze(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ze(this,"complete"),ze(this,"abort"),ou(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ou(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dw(this):this.bb())},t.bb=function(){dw(this)};function dw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||xr(u)!=4||u.Z()!=2)){if(u.u&&xr(u)==4)vr(u.Ea,0,u);else if(ze(u,"readystatechange"),xr(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var P;if(P=W===0){var O=String(u.D).match(tw)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),P=!Lk.test(O?O.toLowerCase():"")}g=P}if(g)ze(u,"complete"),ze(u,"success");else{u.m=6;try{var j=2<xr(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",uw(u)}}finally{ou(u)}}}}function ou(u,p){if(u.g){hw(u);const g=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||ze(u,"ready");try{g.onreadystatechange=P}catch{}}}function hw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function xr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Xn(p)}};function fw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fk(u){const p={};u=(u.g&&2<=xr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(x(u[P]))continue;var g=N(u[P]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=p[O]||[];p[O]=j,j.push(g)}A(p,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function pw(u){this.Aa=0,this.i=[],this.j=new Fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,u),this.cb=qa("retryDelaySeedMs",1e4,u),this.Wa=qa("forwardChannelMaxRetries",2,u),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Q0(u&&u.concurrentRequestLimit),this.Da=new Vk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pw.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,P){Bt(0),this.W=u,this.H=p||{},g&&P!==void 0&&(this.H.OSID=g,this.H.OAID=P),this.F=this.X,this.I=Tw(this,null,this.W),lu(this)};function Ff(u){if(mw(u),u.G==3){var p=u.U++,g=_r(u.I);if(Ne(g,"SID",u.K),Ne(g,"RID",p),Ne(g,"TYPE","terminate"),Ka(u,g),p=new ti(u,u.j,p),p.L=2,p.v=ru(_r(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=Sw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),eu(p)}Ew(u)}function au(u){u.g&&(Bf(u),u.g.cancel(),u.g=null)}function mw(u){au(u),u.u&&(a.clearTimeout(u.u),u.u=null),cu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function lu(u){if(!Y0(u.h)&&!u.s){u.s=!0;var p=u.Ga;Z||Y(),L||(Z(),L=!0),z.add(p,u),u.B=0}}function Uk(u,p){return X0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ja(h(u.Ga,u,p),xw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const O=new ti(this,this.j,u);let j=this.o;if(this.S&&(j?(j=w(j),I(j,this.S)):j=this.S),this.m!==null||this.O||(O.H=j,j=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var P=this.i[g];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(p+=P,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=yw(this,O,p),g=_r(this.I),Ne(g,"RID",u),Ne(g,"CVER",22),this.D&&Ne(g,"X-HTTP-Session-Id",this.D),Ka(this,g),j&&(this.O?p="headers="+encodeURIComponent(String(lw(j)))+"&"+p:this.m&&jf(g,this.m,j)),Lf(this.h,O),this.Ua&&Ne(g,"TYPE","init"),this.P?(Ne(g,"$req",p),Ne(g,"SID","null"),O.T=!0,Df(O,g,null)):Df(O,g,p),this.G=2}}else this.G==3&&(u?gw(this,u):this.i.length==0||Y0(this.h)||gw(this))};function gw(u,p){var g;p?g=p.l:g=u.U++;const P=_r(u.I);Ne(P,"SID",u.K),Ne(P,"RID",g),Ne(P,"AID",u.T),Ka(u,P),u.m&&u.o&&jf(P,u.m,u.o),g=new ti(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=yw(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Lf(u.h,g),Df(g,P,p)}function Ka(u,p){u.H&&M(u.H,function(g,P){Ne(p,P,g)}),u.l&&ew({},function(g,P){Ne(p,P,g)})}function yw(u,p,g){g=Math.min(u.i.length,g);var P=u.l?h(u.l.Na,u.l,u):null;e:{var O=u.i;let j=-1;for(;;){const W=["count="+g];j==-1?0<g?(j=O[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Ae=!0;for(let ht=0;ht<g;ht++){let ve=O[ht].g;const bt=O[ht].map;if(ve-=j,0>ve)j=Math.max(0,O[ht].g-100),Ae=!1;else try{Ok(bt,W,"req"+ve+"_")}catch{P&&P(bt)}}if(Ae){P=W.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,P}function vw(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Z||Y(),L||(Z(),L=!0),z.add(p,u),u.v=0}}function Uf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ja(h(u.Fa,u),xw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,ww(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ja(h(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),au(this),ww(this))};function Bf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function ww(u){u.g=new ti(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=_r(u.qa);Ne(p,"RID","rpc"),Ne(p,"SID",u.K),Ne(p,"AID",u.T),Ne(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ne(p,"TO",u.ja),Ne(p,"TYPE","xmlhttp"),Ka(u,p),u.m&&u.o&&jf(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=ru(_r(p)),g.m=null,g.P=!0,q0(g,u)}t.Za=function(){this.C!=null&&(this.C=null,au(this),Uf(this),Bt(19))};function cu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function _w(u,p){var g=null;if(u.g==p){cu(u),Bf(u),u.g=null;var P=2}else if(Of(u.h,p))g=p.D,J0(u.h,p),P=1;else return;if(u.G!=0){if(p.o)if(P==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var O=u.B;P=Xc(),ze(P,new $0(P,g)),lu(u)}else vw(u);else if(O=p.s,O==3||O==0&&0<p.X||!(P==1&&Uk(u,p)||P==2&&Uf(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),O){case 1:ds(u,5);break;case 4:ds(u,10);break;case 3:ds(u,6);break;default:ds(u,2)}}}function xw(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function ds(u,p){if(u.j.info("Error code "+p),p==2){var g=h(u.fb,u),P=u.Xa;const O=!P;P=new us(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tu(P,"https"),ru(P),O?Dk(P.toString(),g):Mk(P.toString(),g)}else Bt(2);u.G=0,u.l&&u.l.sa(p),Ew(u),mw(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Ew(u){if(u.G=0,u.ka=[],u.l){const p=Z0(u.h);(p.length!=0||u.i.length!=0)&&(S(u.ka,p),S(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function Tw(u,p,g){var P=g instanceof us?_r(g):new us(g);if(P.g!="")p&&(P.g=p+"."+P.g),nu(P,P.s);else{var O=a.location;P=O.protocol,p=p?p+"."+O.hostname:O.hostname,O=+O.port;var j=new us(null);P&&tu(j,P),p&&(j.g=p),O&&nu(j,O),g&&(j.l=g),P=j}return g=u.D,p=u.ya,g&&p&&Ne(P,g,p),Ne(P,"VER",u.la),Ka(u,P),P}function Sw(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new He(new iu({eb:g})):new He(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bw(){}t=bw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uu(){}uu.prototype.g=function(u,p){return new rn(u,p)};function rn(u,p){Ze.call(this),this.g=new pw(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!x(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Zs(this)}v(rn,Ze),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ff(this.g)},rn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=ls(u),u=g);p.i.push(new Tk(p.Ya++,u)),p.G==3&&lu(p)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ff(this.g),delete this.g,rn.aa.N.call(this)};function Cw(u){Qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(Cw,Qt);function Aw(){ei.call(this),this.status=1}v(Aw,ei);function Zs(u){this.g=u}v(Zs,bw),Zs.prototype.ua=function(){ze(this.g,"a")},Zs.prototype.ta=function(u){ze(this.g,new Cw(u))},Zs.prototype.sa=function(u){ze(this.g,new Aw)},Zs.prototype.ra=function(){ze(this.g,"b")},uu.prototype.createWebChannel=uu.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,bA=function(){return new uu},SA=function(){return Xc()},TA=wr,cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jc.NO_ERROR=0,Jc.TIMEOUT=8,Jc.HTTP_ERROR=6,ad=Jc,z0.COMPLETE="complete",EA=z0,Ee.EventType=St,St.OPEN="a",St.CLOSE="b",St.ERROR="c",St.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,dl=Ee,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,xA=He}).apply(typeof Ou<"u"?Ou:typeof self<"u"?self:typeof window<"u"?window:{});const Nx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new av("@firebase/firestore");function il(){return js.logLevel}function J(t,...e){if(js.logLevel<=me.DEBUG){const n=e.map(uv);js.debug(`Firestore (${Sa}): ${t}`,...n)}}function zr(t,...e){if(js.logLevel<=me.ERROR){const n=e.map(uv);js.error(`Firestore (${Sa}): ${t}`,...n)}}function ia(t,...e){if(js.logLevel<=me.WARN){const n=e.map(uv);js.warn(`Firestore (${Sa}): ${t}`,...n)}}function uv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+t;throw zr(e),new Error(e)}function Se(t,e){t||ae()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class a4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class l4{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new CA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new Dt(e)}}class c4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class u4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new c4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Se(this.o===void 0);const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new d4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=f4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function sa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new at(0,0))}static max(){return new ce(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends oc{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const p4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends oc{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return p4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ve.fromString(e))}static fromName(e){return new te(Ve.fromString(e).popFirst(5))}static empty(){return new te(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ve(e.slice()))}}function m4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Qi(i,te.empty(),e)}function g4(t){return new Qi(t.readTime,t.key,-1)}class Qi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qi(ce.min(),te.empty(),-1)}static max(){return new Qi(ce.max(),te.empty(),-1)}}function y4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==v4)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function _4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dv.oe=-1;function Jh(t){return t==null}function Zd(t){return t===0&&1/t==-1/0}function x4(t){return typeof t=="number"&&Number.isInteger(t)&&!Zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??mt.RED,this.left=i??mt.EMPTY,this.right=s??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mx(this.data.getIterator())}getIteratorFrom(e){return new Mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class Mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new dn([])}unionWith(e){let n=new wt(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new PA("Invalid base64 string: "+s):s}}(e);return new Et(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const E4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(t){if(Se(!!t),typeof t=="string"){let e=0;const n=E4.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fv(t){const e=t.mapValue.fields.__previous_value__;return hv(e)?fv(e):e}function ac(t){const e=Yi(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class lc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hv(t)?4:b4(t)?9007199254740991:S4(t)?10:11:ae()}function fr(t,e){if(t===e)return!0;const n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ac(t).isEqual(ac(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Yi(i.timestampValue),a=Yi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Fs(i.bytesValue).isEqual(Fs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ye(i.doubleValue),a=Ye(s.doubleValue);return o===a?Zd(o)===Zd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return sa(t.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Dx(o)!==Dx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fr(o[l],a[l])))return!1;return!0}(t,e);default:return ae()}}function cc(t,e){return(t.values||[]).find(n=>fr(n,e))!==void 0}function oa(t,e){if(t===e)return 0;const n=Us(t),r=Us(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ye(s.integerValue||s.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Vx(t.timestampValue,e.timestampValue);case 4:return Vx(ac(t),ac(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Fs(s),l=Fs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=we(a[c],l[c]);if(d!==0)return d}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=we(Ye(s.latitude),Ye(o.latitude));return a!==0?a:we(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ox(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},h=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,_=we(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:Ox(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ju.mapValue&&o===ju.mapValue)return 0;if(s===ju.mapValue)return 1;if(o===ju.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=we(l[f],d[f]);if(h!==0)return h;const m=oa(a[l[f]],c[d[f]]);if(m!==0)return m}return we(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ae()}}function Vx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Yi(t),r=Yi(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function Ox(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=oa(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function aa(t){return ug(t)}function ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Yi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ug(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ug(n.fields[o])}`;return i+"}"}(t.mapValue):ae()}function Lx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dg(t){return!!t&&"integerValue"in t}function pv(t){return!!t&&"arrayValue"in t}function jx(t){return!!t&&"nullValue"in t}function Fx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ld(t){return!!t&&"mapValue"in t}function S4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Al(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Al(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Al(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ld(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Al(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ld(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xt(Al(this.value))}}function RA(t){const e=[];return qs(t.fields,(n,r)=>{const i=new yt([n]);if(ld(r)){const s=RA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Vt(e,0,ce.min(),ce.min(),ce.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new Vt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Vt(e,2,n,ce.min(),ce.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,ce.min(),ce.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.position=e,this.inclusive=n}}function Ux(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=oa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n="asc"){this.field=e,this.dir=n}}function C4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{}class nt extends kA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new I4(e,n,r):n==="array-contains"?new k4(e,r):n==="in"?new N4(e,r):n==="not-in"?new D4(e,r):n==="array-contains-any"?new M4(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new P4(e,r):new R4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(oa(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends kA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new qn(e,n)}matches(e){return NA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function NA(t){return t.op==="and"}function DA(t){return A4(t)&&NA(t)}function A4(t){for(const e of t.filters)if(e instanceof qn)return!1;return!0}function hg(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+aa(t.value);if(DA(t))return t.filters.map(e=>hg(e)).join(",");{const e=t.filters.map(n=>hg(n)).join(",");return`${t.op}(${e})`}}function MA(t,e){return t instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&fr(r.value,i.value)}(t,e):t instanceof qn?function(r,i){return i instanceof qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&MA(o,i.filters[a]),!0):!1}(t,e):void ae()}function VA(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${aa(n.value)}`}(t):t instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(VA).join(" ,")+"}"}(t):"Filter"}class I4 extends nt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class P4 extends nt{constructor(e,n){super(e,"in",n),this.keys=OA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class R4 extends nt{constructor(e,n){super(e,"not-in",n),this.keys=OA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class k4 extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pv(n)&&cc(n.arrayValue,this.value)}}class N4 extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cc(this.value.arrayValue,n)}}class D4 extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cc(this.value.arrayValue,n)}}class M4 extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function $x(t,e=null,n=[],r=[],i=null,s=null,o=null){return new V4(t,e,n,r,i,s,o)}function mv(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>aa(r)).join(",")),e.ue=n}return e.ue}function gv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bx(t.startAt,e.startAt)&&Bx(t.endAt,e.endAt)}function fg(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function O4(t,e,n,r,i,s,o,a){return new Vc(t,e,n,r,i,s,o,a)}function Zh(t){return new Vc(t)}function zx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LA(t){return t.collectionGroup!==null}function Il(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new wt(yt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new th(s,r))}),n.has(yt.keyField().canonicalString())||e.ce.push(new th(yt.keyField(),r))}return e.ce}function or(t){const e=ue(t);return e.le||(e.le=L4(e,Il(t))),e.le}function L4(t,e){if(t.limitType==="F")return $x(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new th(i.field,s)});const n=t.endAt?new eh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new eh(t.startAt.position,t.startAt.inclusive):null;return $x(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pg(t,e){const n=t.filters.concat([e]);return new Vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nh(t,e,n){return new Vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ef(t,e){return gv(or(t),or(e))&&t.limitType===e.limitType}function jA(t){return`${mv(or(t))}|lt:${t.limitType}`}function no(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VA(i)).join(", ")}]`),Jh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>aa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>aa(i)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function tf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Il(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Ux(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Il(r),i)||r.endAt&&!function(o,a,l){const c=Ux(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Il(r),i))}(t,e)}function j4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FA(t){return(e,n)=>{let r=!1;for(const i of Il(t)){const s=F4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function F4(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?oa(l,c):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return IA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new $e(te.comparator);function Hr(){return U4}const UA=new $e(te.comparator);function hl(...t){let e=UA;for(const n of t)e=e.insert(n.key,n);return e}function BA(t){let e=UA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _s(){return Pl()}function $A(){return Pl()}function Pl(){return new ba(t=>t.toString(),(t,e)=>t.isEqual(e))}const B4=new $e(te.comparator),$4=new wt(te.comparator);function pe(...t){let e=$4;for(const n of t)e=e.add(n);return e}const z4=new wt(we);function H4(){return z4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function zA(t){return{integerValue:""+t}}function W4(t,e){return x4(e)?zA(e):yv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function q4(t,e,n){return t instanceof uc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&hv(s)&&(s=fv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof dc?WA(t,e):t instanceof hc?qA(t,e):function(i,s){const o=HA(i,s),a=Hx(o)+Hx(i.Pe);return dg(o)&&dg(i.Pe)?zA(a):yv(i.serializer,a)}(t,e)}function K4(t,e,n){return t instanceof dc?WA(t,e):t instanceof hc?qA(t,e):n}function HA(t,e){return t instanceof rh?function(r){return dg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class uc extends nf{}class dc extends nf{constructor(e){super(),this.elements=e}}function WA(t,e){const n=KA(e);for(const r of t.elements)n.some(i=>fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class hc extends nf{constructor(e){super(),this.elements=e}}function qA(t,e){let n=KA(e);for(const r of t.elements)n=n.filter(i=>!fr(i,r));return{arrayValue:{values:n}}}class rh extends nf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Hx(t){return Ye(t.integerValue||t.doubleValue)}function KA(t){return pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.field=e,this.transform=n}}function Q4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof dc&&i instanceof dc||r instanceof hc&&i instanceof hc?sa(r.elements,i.elements,fr):r instanceof rh&&i instanceof rh?fr(r.Pe,i.Pe):r instanceof uc&&i instanceof uc}(t.transform,e.transform)}class Y4{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rf{}function GA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YA(t.key,Bn.none()):new Oc(t.key,t.data,Bn.none());{const n=t.data,r=Xt.empty();let i=new wt(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new is(t.key,r,new dn(i.toArray()),Bn.none())}}function X4(t,e,n){t instanceof Oc?function(i,s,o){const a=i.value.clone(),l=qx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof is?function(i,s,o){if(!cd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=qx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(QA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Rl(t,e,n,r){return t instanceof Oc?function(s,o,a,l){if(!cd(s.precondition,o))return a;const c=s.value.clone(),d=Kx(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof is?function(s,o,a,l){if(!cd(s.precondition,o))return a;const c=Kx(s.fieldTransforms,l,o),d=o.data;return d.setAll(QA(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return cd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function J4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=HA(r.transform,i||null);s!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,s))}return n||null}function Wx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sa(r,i,(s,o)=>Q4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oc extends rf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class is extends rf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function QA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qx(t,e,n){const r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,K4(o,a,n[i]))}return r}function Kx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,q4(s,o,e))}return r}class YA extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z4 extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&X4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$A();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=GA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(n,r)=>Wx(n,r))&&sa(this.baseMutations,e.baseMutations,(n,r)=>Wx(n,r))}}class vv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return B4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new vv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,ge;function rU(t){switch(t){default:return ae();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function XA(t){if(t===void 0)return zr("GRPC error has no .code"),U.UNKNOWN;switch(t){case et.OK:return U.OK;case et.CANCELLED:return U.CANCELLED;case et.UNKNOWN:return U.UNKNOWN;case et.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case et.INTERNAL:return U.INTERNAL;case et.UNAVAILABLE:return U.UNAVAILABLE;case et.UNAUTHENTICATED:return U.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case et.NOT_FOUND:return U.NOT_FOUND;case et.ALREADY_EXISTS:return U.ALREADY_EXISTS;case et.PERMISSION_DENIED:return U.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case et.ABORTED:return U.ABORTED;case et.OUT_OF_RANGE:return U.OUT_OF_RANGE;case et.UNIMPLEMENTED:return U.UNIMPLEMENTED;case et.DATA_LOSS:return U.DATA_LOSS;default:return ae()}}(ge=et||(et={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=new Ps([4294967295,4294967295],0);function Gx(t){const e=iU().encode(t),n=new _A;return n.update(e),new Uint8Array(n.digest())}function Qx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ps([n,r],0),new Ps([i,s],0)]}class wv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(r<0)throw new fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ps.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ps.fromNumber(r)));return i.compare(sU)===1&&(i=new Ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Gx(e),[r,i]=Qx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new wv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Gx(e),[r,i]=Qx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sf(ce.min(),i,new $e(we),Hr(),pe())}}class Lc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lc(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class JA{constructor(e,n){this.targetId=e,this.me=n}}class ZA{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Yx{constructor(){this.fe=0,this.ge=Jx(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new Lc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Jx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oU{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=Xx(),this.Qe=new $e(we)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(fg(s))if(r===0){const o=new te(s.path);this.Ue(n,o,Vt.newNoDocument(o,ce.min()))}else Se(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Fs(r).toUint8Array()}catch(l){if(l instanceof PA)return ia("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new wv(o,i,s)}catch(l){return ia(l instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&fg(a.target)){const l=new te(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Vt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=pe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new sf(e,n,this.Qe,this.ke,r);return this.ke=Hr(),this.qe=Xx(),this.Qe=new $e(we),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Yx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new wt(we),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Yx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Xx(){return new $e(te.comparator)}function Jx(){return new $e(te.comparator)}const aU={asc:"ASCENDING",desc:"DESCENDING"},lU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cU={and:"AND",or:"OR"};class uU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mg(t,e){return t.useProto3Json||Jh(e)?e:{value:e}}function ih(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dU(t,e){return ih(t,e.toTimestamp())}function ar(t){return Se(!!t),ce.fromTimestamp(function(n){const r=Yi(n);return new at(r.seconds,r.nanos)}(t))}function _v(t,e){return gg(t,e).canonicalString()}function gg(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tI(t){const e=Ve.fromString(t);return Se(oI(e)),e}function yg(t,e){return _v(t.databaseId,e.path)}function Pp(t,e){const n=tI(e);if(n.get(1)!==t.databaseId.projectId)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(rI(n))}function nI(t,e){return _v(t.databaseId,e)}function hU(t){const e=tI(t);return e.length===4?Ve.emptyPath():rI(e)}function vg(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rI(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Zx(t,e,n){return{name:yg(t,e),fields:n.value.mapValue.fields}}function fU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Se(d===void 0||typeof d=="string"),Et.fromBase64String(d||"")):(Se(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Et.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:XA(c.code);return new X(d,c.message||"")}(o);n=new ZA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pp(t,r.document.name),s=ar(r.document.updateTime),o=r.document.createTime?ar(r.document.createTime):ce.min(),a=new Xt({mapValue:{fields:r.document.fields}}),l=Vt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new ud(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Pp(t,r.document),s=r.readTime?ar(r.readTime):ce.min(),o=Vt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ud([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Pp(t,r.document),s=r.removedTargetIds||[];n=new ud([],s,i,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nU(i,s),a=r.targetId;n=new JA(a,o)}}return n}function pU(t,e){let n;if(e instanceof Oc)n={update:Zx(t,e.key,e.value)};else if(e instanceof YA)n={delete:yg(t,e.key)};else if(e instanceof is)n={update:Zx(t,e.key,e.data),updateMask:TU(e.fieldMask)};else{if(!(e instanceof Z4))return ae();n={verify:yg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof uc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof dc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:dU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(t,e.precondition)),n}function mU(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ar(i.updateTime):ar(s);return o.isEqual(ce.min())&&(o=ar(s)),new Y4(o,i.transformResults||[])}(n,e))):[]}function gU(t,e){return{documents:[nI(t,e.path)]}}function yU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nI(t,i);const s=function(c){if(c.length!==0)return sI(qn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:ro(h.field),direction:_U(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=mg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function vU(t){let e=hU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=iI(f);return h instanceof qn&&DA(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(v){return new th(io(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Jh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new eh(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new eh(m,h)}(n.endAt)),O4(e,i,o,s,a,"F",l,c)}function wU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=io(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=io(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=io(n.unaryFilter.field);return nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=io(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return nt.create(io(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(r=>iI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function _U(t){return aU[t]}function xU(t){return lU[t]}function EU(t){return cU[t]}function ro(t){return{fieldPath:t.canonicalString()}}function io(t){return yt.fromServerFormat(t.fieldPath)}function sI(t){return t instanceof nt?function(n){if(n.op==="=="){if(Fx(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(jx(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fx(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(jx(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:xU(n.op),value:n.value}}}(t):t instanceof qn?function(n){const r=n.getFilters().map(i=>sI(i));return r.length===1?r[0]:{compositeFilter:{op:EU(n.op),filters:r}}}(t):ae()}function TU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=Et.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.ct=e}}function bU(t){const e=vU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.un=new AU}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Qi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class AU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wt(Ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wt(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new la(0)}static kn(){return new la(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.changes=new ba(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Rl(r.mutation,i,dn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=_s();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=hl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hr();const o=Pl(),a=function(){return Pl()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof is)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Rl(d.mutation,c,d.mutation.getFieldMask(),at.now())):o.set(c.key,dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new PU(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Pl();let i=new $e((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||dn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||pe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=$A();d.forEach(h=>{if(!s.has(h)){const m=GA(n.get(h),r.get(h));m!==null&&f.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(_s());let a=-1,l=s;return o.next(c=>B.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,pe())).next(d=>({batchId:a,changes:BA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=hl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=hl();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,l=>{const c=function(f,h){return new Vc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Vt.newInvalidDocument(d)))});let a=hl();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Rl(d.mutation,c,dn.empty(),at.now()),tf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ar(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:bU(i.bundledQuery),readTime:ar(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.overlays=new $e(te.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_s();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=_s(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $e((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=_s(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=_s(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return B.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tU(n,r));let s=this.Ir.get(n);s===void 0&&(s=pe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(){this.Tr=new wt(ct.Er),this.dr=new wt(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new te(new Ve([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new te(new Ve([])),r=new ct(n,e),i=new ct(n,e+1);let s=pe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new wt(ct.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eU(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(we);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new ct(new te(s),0);let a=new wt(we);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),B.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ct(n,0),i=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.Mr=e,this.docs=function(){return new $e(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Vt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hr();const o=n.path,a=new te(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||y4(g4(d),r)<=0||(i.has(d.key)||tf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new OU(this)}getSize(e){return B.resolve(this.size)}}class OU extends IU{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.persistence=e,this.Nr=new ba(n=>mv(n),gv),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xv,this.targetCount=0,this.kr=la.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new la(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,n){this.qr={},this.overlays={},this.Qr=new dv(0),this.Kr=!1,this.Kr=!0,this.$r=new DU,this.referenceDelegate=e(this),this.Ur=new LU(this),this.indexManager=new CU,this.remoteDocumentCache=function(i){return new VU(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new SU(n),this.Gr=new kU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new MU(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new FU(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class FU extends w4{constructor(e){super(),this.currentSequenceNumber=e}}class Ev{constructor(e){this.persistence=e,this.Jr=new xv,this.Yr=null}static Zr(e){return new Ev(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const i=te.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Tv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Bj()?8:_4(Ft())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new UU;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(il()<=me.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(il()<=me.DEBUG&&J("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(il()<=me.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):B.resolve())}Yi(e,n){if(zx(n))return B.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nh(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,nh(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return zx(n)||i.isEqual(ce.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?B.resolve(null):(il()<=me.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),no(n)),this.rs(e,o,n,m4(i,-1)).next(a=>a))})}ts(e,n){let r=new wt(FA(e));return n.forEach((i,s)=>{tf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return il()<=me.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",no(n)),this.Ji.getDocumentsMatchingQuery(e,n,Qi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new $e(we),this._s=new ba(s=>mv(s),gv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function zU(t,e,n,r){return new $U(t,e,n,r)}async function aI(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=pe();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function HU(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,h=f.keys();let m=B.resolve();return h.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(_=>{const S=c.docVersions.get(v);Se(S!==null),_.version.compareTo(S)<0&&(f.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lI(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function WU(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Et.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(_,S,y){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=Hr(),c=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(qU(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(ce.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function qU(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function KU(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GU(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ai(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function wg(t,e,n){const r=ue(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Mc(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function eE(t,e,n){const r=ue(t);let i=ce.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=ue(l),h=f._s.get(d);return h!==void 0?B.resolve(f.os.get(h)):f.Ur.getTargetData(c,d)}(r,o,or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:pe())).next(a=>(QU(r,j4(e),a),{documents:a,Ts:s})))}function QU(t,e,n){let r=t.us.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class tE{constructor(){this.activeTargetIds=H4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YU{constructor(){this.so=new tE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new tE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu=null;function Rp(){return Fu===null?Fu=function(){return 268435456+Math.round(2147483648*Math.random())}():Fu++,"0x"+Fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class e5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Rp(),l=this.xo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(d=>(J("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw ia("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=JU[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Rp();return new Promise((o,a)=>{const l=new xA;l.setWithCredentials(!0),l.listenOnce(EA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ad.NO_ERROR:const d=l.getResponseJson();J(Rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case ad.TIMEOUT:J(Rt,`RPC '${e}' ${s} timed out`),a(new X(U.DEADLINE_EXCEEDED,"Request time out"));break;case ad.HTTP_ERROR:const f=l.getStatus();if(J(Rt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const v=function(S){const y=S.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(m.status);a(new X(v,m.message))}else a(new X(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(U.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{J(Rt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);J(Rt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Rp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bA(),a=SA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");J(Rt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let h=!1,m=!1;const v=new ZU({Io:S=>{m?J(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(h||(J(Rt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),J(Rt,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},To:()=>f.close()}),_=(S,y,x)=>{S.listen(y,C=>{try{x(C)}catch(R){setTimeout(()=>{throw R},0)}})};return _(f,dl.EventType.OPEN,()=>{m||(J(Rt,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),_(f,dl.EventType.CLOSE,()=>{m||(m=!0,J(Rt,`RPC '${e}' stream ${i} transport closed`),v.So())}),_(f,dl.EventType.ERROR,S=>{m||(m=!0,ia(Rt,`RPC '${e}' stream ${i} transport errored:`,S),v.So(new X(U.UNAVAILABLE,"The operation could not be completed")))}),_(f,dl.EventType.MESSAGE,S=>{var y;if(!m){const x=S.data[0];Se(!!x);const C=x,R=C.error||((y=C[0])===null||y===void 0?void 0:y.error);if(R){J(Rt,`RPC '${e}' stream ${i} received error:`,R);const k=R.status;let M=function(b){const I=et[b];if(I!==void 0)return XA(I)}(k),A=R.message;M===void 0&&(M=U.INTERNAL,A="Unknown error status: "+k+" with message "+R.message),m=!0,v.So(new X(M,A)),f.close()}else J(Rt,`RPC '${e}' stream ${i} received:`,x),v.bo(x)}}),_(a,TA.STAT_EVENT,S=>{S.stat===cg.PROXY?J(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===cg.NOPROXY&&J(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t){return new uU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new X(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t5 extends uI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=fU(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?ar(o.readTime):ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=vg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=fg(l)?{documents:gU(s,l)}:{query:yU(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eI(s,o.resumeToken);const c=mg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=ih(s,o.snapshotVersion.toTimestamp());const c=mg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=wU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=vg(this.serializer),n.removeTarget=e,this.a_(n)}}class n5 extends uI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=mU(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=vg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pU(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,gg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(U.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,gg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class i5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zr(n),this.D_=!1):J("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ks(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ue(l);c.L_.add(4),await jc(c),c.q_.set("Unknown"),c.L_.delete(4),await af(c)}(this))})}),this.q_=new i5(r,i)}}async function af(t){if(Ks(t))for(const e of t.B_)await e(!0)}async function jc(t){for(const e of t.B_)await e(!1)}function dI(t,e){const n=ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Av(n)?Cv(n):Ca(n).r_()&&bv(n,e))}function Sv(t,e){const n=ue(t),r=Ca(n);n.N_.delete(e),r.r_()&&hI(n,e),n.N_.size===0&&(r.r_()?r.o_():Ks(n)&&n.q_.set("Unknown"))}function bv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ca(t).A_(e)}function hI(t,e){t.Q_.xe(e),Ca(t).R_(e)}function Cv(t){t.Q_=new oU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ca(t).start(),t.q_.v_()}function Av(t){return Ks(t)&&!Ca(t).n_()&&t.N_.size>0}function Ks(t){return ue(t).L_.size===0}function fI(t){t.Q_=void 0}async function o5(t){t.q_.set("Online")}async function a5(t){t.N_.forEach((e,n)=>{bv(t,e)})}async function l5(t,e){fI(t),Av(t)?(t.q_.M_(e),Cv(t)):t.q_.set("Unknown")}async function c5(t,e,n){if(t.q_.set("Online"),e instanceof ZA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(t,r)}else if(e instanceof ud?t.Q_.Ke(e):e instanceof JA?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ce.min()))try{const r=await lI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Et.EMPTY_BYTE_STRING,d.snapshotVersion)),hI(s,l);const f=new Ai(d.target,l,c,d.sequenceNumber);bv(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await sh(t,r)}}async function sh(t,e,n){if(!Mc(e))throw e;t.L_.add(1),await jc(t),t.q_.set("Offline"),n||(n=()=>lI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await af(t)})}function pI(t,e){return e().catch(n=>sh(t,n,e))}async function lf(t){const e=ue(t),n=Xi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;u5(e);)try{const i=await KU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,d5(e,i)}catch(i){await sh(e,i)}mI(e)&&gI(e)}function u5(t){return Ks(t)&&t.O_.length<10}function d5(t,e){t.O_.push(e);const n=Xi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function mI(t){return Ks(t)&&!Xi(t).n_()&&t.O_.length>0}function gI(t){Xi(t).start()}async function h5(t){Xi(t).p_()}async function f5(t){const e=Xi(t);for(const n of t.O_)e.m_(n.mutations)}async function p5(t,e,n){const r=t.O_.shift(),i=vv.from(r,e,n);await pI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lf(t)}async function m5(t,e){e&&Xi(t).V_&&await async function(r,i){if(function(o){return rU(o)&&o!==U.ABORTED}(i.code)){const s=r.O_.shift();Xi(r).s_(),await pI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await lf(r)}}(t,e),mI(t)&&gI(t)}async function rE(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Ks(n);n.L_.add(3),await jc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await af(n)}async function g5(t,e){const n=ue(t);e?(n.L_.delete(2),await af(n)):e||(n.L_.add(2),await jc(n),n.q_.set("Unknown"))}function Ca(t){return t.K_||(t.K_=function(n,r,i){const s=ue(n);return s.w_(),new t5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:o5.bind(null,t),Ro:a5.bind(null,t),mo:l5.bind(null,t),d_:c5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Av(t)?Cv(t):t.q_.set("Unknown")):(await t.K_.stop(),fI(t))})),t.K_}function Xi(t){return t.U_||(t.U_=function(n,r,i){const s=ue(n);return s.w_(),new n5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:h5.bind(null,t),mo:m5.bind(null,t),f_:f5.bind(null,t),g_:p5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await lf(t)):(await t.U_.stop(),t.O_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Iv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pv(t,e){if(zr("AsyncQueue",`${e}: ${t}`),Mc(t))return new X(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=hl(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new Do(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Do;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.W_=new $e(te.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ca{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ca(e,n,Do.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class v5{constructor(){this.queries=sE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ue(n),s=i.queries;i.queries=sE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new X(U.ABORTED,"Firestore shutting down"))}}function sE(){return new ba(t=>jA(t),ef)}async function yI(t,e){const n=ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new y5,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Pv(o,`Initialization of query '${no(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Rv(n)}async function vI(t,e){const n=ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function w5(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Rv(n)}function _5(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Rv(t){t.Y_.forEach(e=>{e.next()})}var _g,oE;(oE=_g||(_g={})).ea="default",oE.Cache="cache";class wI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==_g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.key=e}}class xI{constructor(e){this.key=e}}class x5{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=FA(e),this.Ra=new Do(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new iE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=tf(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;h&&m?h.data.isEqual(m.data)?v!==_&&(r.track({type:3,doc:m}),S=!0):this.ga(h,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),S=!0):h&&!m&&(r.track({type:1,doc:h}),S=!0,(l||c)&&(a=!0)),S&&(m?(o=o.add(m),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(m,v){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return _(m)-_(v)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new ca(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new iE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new xI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new _I(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ca.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class E5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class T5{constructor(e){this.key=e,this.va=!1}}class S5{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ba(a=>jA(a),ef),this.Ma=new Map,this.xa=new Set,this.Oa=new $e(te.comparator),this.Na=new Map,this.La=new xv,this.Ba={},this.ka=new Map,this.qa=la.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function b5(t,e,n=!0){const r=AI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await EI(r,e,n,!0),i}async function C5(t,e){const n=AI(t);await EI(n,e,!0,!1)}async function EI(t,e,n,r){const i=await GU(t.localStore,or(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await A5(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&dI(t.remoteStore,i),a}async function A5(t,e,n,r,i){t.Ka=(f,h,m)=>async function(_,S,y,x){let C=S.view.ma(y);C.ns&&(C=await eE(_.localStore,S.query,!1).then(({documents:A})=>S.view.ma(A,C)));const R=x&&x.targetChanges.get(S.targetId),k=x&&x.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(C,_.isPrimaryClient,R,k);return lE(_,S.targetId,M.wa),M.snapshot}(t,f,h,m);const s=await eE(t.localStore,e,!0),o=new x5(e,s.Ts),a=o.ma(s.documents),l=Lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);lE(t,n,c.wa);const d=new E5(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function I5(t,e,n){const r=ue(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!ef(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sv(r.remoteStore,i.targetId),xg(r,i.targetId)}).catch(Dc)):(xg(r,i.targetId),await wg(r.localStore,i.targetId,!0))}async function P5(t,e){const n=ue(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sv(n.remoteStore,r.targetId))}async function R5(t,e,n){const r=L5(t);try{const i=await function(o,a){const l=ue(o),c=at.now(),d=a.reduce((m,v)=>m.add(v.key),pe());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Hr(),_=pe();return l.cs.getEntries(m,d).next(S=>{v=S,v.forEach((y,x)=>{x.isValidDocument()||(_=_.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(S=>{f=S;const y=[];for(const x of a){const C=J4(x,f.get(x.key).overlayedDocument);C!=null&&y.push(new is(x.key,C,RA(C.value.mapValue),Bn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,y,a)}).next(S=>{h=S;const y=S.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(m,S.batchId,y)})}).then(()=>({batchId:h.batchId,changes:BA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new $e(we)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Fc(r,i.changes),await lf(r.remoteStore)}catch(i){const s=Pv(i,"Failed to persist write");n.reject(s)}}async function TI(t,e){const n=ue(t);try{const r=await WU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Se(o.va):i.removedDocuments.size>0&&(Se(o.va),o.va=!1))}),await Fc(n,r,e)}catch(r){await Dc(r)}}function aE(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(a)&&(c=!0)}),c&&Rv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k5(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new $e(te.comparator);o=o.insert(s,Vt.newNoDocument(s,ce.min()));const a=pe().add(s),l=new sf(ce.min(),new Map,new $e(we),o,a);await TI(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),kv(r)}else await wg(r.localStore,e,!1).then(()=>xg(r,e,n)).catch(Dc)}async function N5(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await HU(n.localStore,e);bI(n,r,null),SI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fc(n,i)}catch(i){await Dc(i)}}async function D5(t,e,n){const r=ue(t);try{const i=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Se(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);bI(r,e,n),SI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fc(r,i)}catch(i){await Dc(i)}}function SI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function bI(t,e,n){const r=ue(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function xg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||CI(t,r)})}function CI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Sv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),kv(t))}function lE(t,e,n){for(const r of n)r instanceof _I?(t.La.addReference(r.key,e),M5(t,r)):r instanceof xI?(J("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||CI(t,r.key)):ae()}function M5(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(J("SyncEngine","New document in limbo: "+n),t.xa.add(r),kv(t))}function kv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new te(Ve.fromString(e)),r=t.qa.next();t.Na.set(r,new T5(n)),t.Oa=t.Oa.insert(n,r),dI(t.remoteStore,new Ai(or(Zh(n.path)),r,"TargetPurposeLimboResolution",dv.oe))}}async function Fc(t,e,n){const r=ue(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Tv.Wi(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const d=ue(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,h=>B.forEach(h.$i,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>B.forEach(h.Ui,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Mc(f))throw f;J("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=d.os.get(h),v=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(h,_)}}}(r.localStore,s))}async function V5(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await aI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new X(U.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fc(n,r.hs)}}function O5(t,e){const n=ue(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function AI(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k5.bind(null,e),e.Ca.d_=w5.bind(null,e.eventManager),e.Ca.$a=_5.bind(null,e.eventManager),e}function L5(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D5.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return zU(this.persistence,new BU,e.initialUser,this.serializer)}Ga(e){return new jU(Ev.Zr,this.serializer)}Wa(e){return new YU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class Eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V5.bind(null,this.syncEngine),await g5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new v5}()}createDatastore(e){const n=of(e.databaseInfo.databaseId),r=function(s){return new e5(s)}(e.databaseInfo);return function(s,o,a,l){return new r5(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new s5(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>aE(this.syncEngine,n,0),function(){return nE.D()?new nE:new XU}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new S5(i,s,o,a,l,c);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ue(i);J("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await jc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Eg.provider={build:()=>new Eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=AA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{J("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Np(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F5(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rE(e.remoteStore,i)),t._onlineComponents=e}async function F5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await Np(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await Np(t,new oh)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await Np(t,new oh);return t._offlineComponents}async function PI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await cE(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await cE(t,new Eg))),t._onlineComponents}function U5(t){return PI(t).then(e=>e.syncEngine)}async function Tg(t){const e=await PI(t),n=e.eventManager;return n.onListen=b5.bind(null,e.syncEngine),n.onUnlisten=I5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P5.bind(null,e.syncEngine),n}function B5(t,e,n={}){const r=new Fi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new II({next:h=>{d.Za(),o.enqueueAndForget(()=>vI(s,f));const m=h.docs.has(a);!m&&h.fromCache?c.reject(new X(U.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new X(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new wI(Zh(a.path),d,{includeMetadataChanges:!0,_a:!0});return yI(s,f)}(await Tg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t,e,n){if(!n)throw new X(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $5(t,e,n,r){if(e===!0&&r===!0)throw new X(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dE(t){if(!te.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hE(t){if(te.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function $n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cf(t);throw new X(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o4;switch(r.type){case"firstParty":return new u4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uE.get(n);r&&(J("ComponentProvider","Removing Datastore"),uE.delete(n),r.terminate())}(this),Promise.resolve()}}function z5(t,e,n,r={}){var i;const s=(t=$n(t,uf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Dt.MOCK_USER;else{a=Mj(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new X(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Dt(c)}t._authCredentials=new a4(new CA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class Lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}}class Ui extends Gs{constructor(e,n,r){super(e,n,Zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new te(e))}withConverter(e){return new Ui(this.firestore,e,this._path)}}function df(t,e,...n){if(t=Ut(t),kI("collection","path",e),t instanceof uf){const r=Ve.fromString(e,...n);return hE(r),new Ui(t,null,r)}{if(!(t instanceof Lt||t instanceof Ui))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return hE(r),new Ui(t.firestore,null,r)}}function Uc(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=AA.newId()),kI("doc","path",e),t instanceof uf){const r=Ve.fromString(e,...n);return dE(r),new Lt(t,null,new te(r))}{if(!(t instanceof Lt||t instanceof Ui))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return dE(r),new Lt(t.firestore,t instanceof Ui?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new cI(this,"async_queue_retry"),this.Vu=()=>{const r=kp();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=kp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=kp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Fi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Mc(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Iv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ae()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function mE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Bs extends uf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pE(e),this._firestoreClient=void 0,await e}}}function H5(t,e){const n=typeof t=="object"?t:yA(),r=typeof t=="string"?t:"(default)",i=cv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Nj("firestore");s&&z5(i,...s)}return i}function Nv(t){if(t._terminated)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||W5(t),t._firestoreClient}function W5(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new T4(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,RI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new j5(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(Et.fromBase64String(e))}catch(n){throw new X(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ua(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=/^__.*__$/;class K5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(e,this.data,n,this.fieldTransforms)}}class NI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class Vv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Vv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ah(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(DI(this.Cu)&&q5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class G5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||of(e)}Qu(e,n,r,i=!1){return new Vv({Cu:e,methodName:n,qu:r,path:yt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pf(t){const e=t._freezeSettings(),n=of(t._databaseId);return new G5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MI(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Lv("Data must be an object, but it was:",o,r);const a=VI(r,o);let l,c;if(s.merge)l=new dn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=Sg(e,f,n);if(!o.contains(h))throw new X(U.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);LI(d,h)||d.push(h)}l=new dn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new K5(new Xt(a),l,c)}class mf extends ff{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}class Ov extends ff{_toFieldTransform(e){return new G4(e.path,new uc)}isEqual(e){return e instanceof Ov}}function Q5(t,e,n,r){const i=t.Qu(1,e,n);Lv("Data must be an object, but it was:",i,r);const s=[],o=Xt.empty();qs(r,(l,c)=>{const d=jv(e,l,n);c=Ut(c);const f=i.Nu(d);if(c instanceof mf)s.push(d);else{const h=Bc(c,f);h!=null&&(s.push(d),o.set(d,h))}});const a=new dn(s);return new NI(o,a,i.fieldTransforms)}function Y5(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Sg(e,r,n)],l=[i];if(s.length%2!=0)throw new X(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Sg(e,s[h])),l.push(s[h+1]);const c=[],d=Xt.empty();for(let h=a.length-1;h>=0;--h)if(!LI(c,a[h])){const m=a[h];let v=l[h];v=Ut(v);const _=o.Nu(m);if(v instanceof mf)c.push(m);else{const S=Bc(v,_);S!=null&&(c.push(m),d.set(m,S))}}const f=new dn(c);return new NI(d,f,o.fieldTransforms)}function X5(t,e,n,r=!1){return Bc(n,t.Qu(r?4:3,e))}function Bc(t,e){if(OI(t=Ut(t)))return Lv("Unsupported field value:",e,t),VI(t,e);if(t instanceof ff)return function(r,i){if(!DI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Bc(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return W4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:ih(i.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(i.serializer,s)}}if(r instanceof Dv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ua)return{bytesValue:eI(i.serializer,r._byteString)};if(r instanceof Lt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:_v(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return yv(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${cf(r)}`)}(t,e)}function VI(t,e){const n={};return IA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(t,(r,i)=>{const s=Bc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function OI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Dv||t instanceof ua||t instanceof Lt||t instanceof ff||t instanceof Mv)}function Lv(t,e,n){if(!OI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=cf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Sg(t,e,n){if((e=Ut(e))instanceof hf)return e._internalPath;if(typeof e=="string")return jv(t,e);throw ah("Field path arguments must be of type string or ",t,!1,void 0,n)}const J5=new RegExp("[~\\*/\\[\\]]");function jv(t,e,n){if(e.search(J5)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hf(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ah(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(U.INVALID_ARGUMENT,a+t+l)}function LI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z5 extends jI{data(){return super.data()}}function Fv(t,e){return typeof e=="string"?jv(t,e):e instanceof hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uv{}class FI extends Uv{}function t3(t,e,...n){let r=[];e instanceof Uv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Bv).length,a=s.filter(l=>l instanceof gf).length;if(o>1||o>0&&a>0)throw new X(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class gf extends FI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gf(e,n,r)}_apply(e){const n=this._parse(e);return UI(e._query,n),new Gs(e.firestore,e.converter,pg(e._query,n))}_parse(e){const n=pf(e.firestore);return function(s,o,a,l,c,d,f){let h;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){yE(f,d);const m=[];for(const v of f)m.push(gE(l,s,v));h={arrayValue:{values:m}}}else h=gE(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||yE(f,d),h=X5(a,o,f,d==="in"||d==="not-in");return nt.create(c,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function n3(t,e,n){const r=e,i=Fv("where",t);return gf._create(i,r,n)}class Bv extends Uv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)UI(o,l),o=pg(o,l)}(e._query,n),new Gs(e.firestore,e.converter,pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $v extends FI{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new $v(e,n,r)}_apply(e){return new Gs(e.firestore,e.converter,nh(e._query,this._limit,this._limitType))}}function r3(t){return $v._create("limit",t,"F")}function gE(t,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new X(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LA(e)&&n.indexOf("/")!==-1)throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!te.isDocumentKey(r))throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lx(t,new te(r))}if(n instanceof Lt)return Lx(t,n._key);throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(n)}.`)}function yE(t,e){if(!Array.isArray(t)||t.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class i3{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ye(o.doubleValue));return new Mv(s)}convertGeoPoint(e){return new Dv(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Se(oI(r));const i=new lc(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $I extends jI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dd extends $I{data(e={}){return super.data(e)}}class s3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dd(this._firestore,this._userDataWriter,r.key,r,new pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new dd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new dd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:o3(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function o3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t){t=$n(t,Lt);const e=$n(t.firestore,Bs);return B5(Nv(e),t._key).then(n=>qI(e,t,n))}class zI extends i3{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function a3(t,e,n){t=$n(t,Lt);const r=$n(t.firestore,Bs),i=BI(t.converter,e,n);return Hv(r,[MI(pf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Bn.none())])}function l3(t,e,n,...r){t=$n(t,Lt);const i=$n(t.firestore,Bs),s=pf(i);let o;return o=typeof(e=Ut(e))=="string"||e instanceof hf?Y5(s,"updateDoc",t._key,e,n,r):Q5(s,"updateDoc",t._key,e),Hv(i,[o.toMutation(t._key,Bn.exists(!0))])}function HI(t,e){const n=$n(t.firestore,Bs),r=Uc(t),i=BI(t.converter,e);return Hv(n,[MI(pf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function WI(t,...e){var n,r,i;t=Ut(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||mE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(mE(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(t instanceof Lt)c=$n(t.firestore,Bs),d=Zh(t._key.path),l={next:f=>{e[o]&&e[o](qI(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=$n(t,Gs);c=$n(f.firestore,Bs),d=f._query;const h=new zI(c);l={next:m=>{e[o]&&e[o](new s3(c,h,f,m))},error:e[o+1],complete:e[o+2]},e3(t._query)}return function(h,m,v,_){const S=new II(_),y=new wI(m,S,v);return h.asyncQueue.enqueueAndForget(async()=>yI(await Tg(h),y)),()=>{S.Za(),h.asyncQueue.enqueueAndForget(async()=>vI(await Tg(h),y))}}(Nv(c),d,a,l)}function Hv(t,e){return function(r,i){const s=new Fi;return r.asyncQueue.enqueueAndForget(async()=>R5(await U5(r),i,s)),s.promise}(Nv(t),e)}function qI(t,e,n){const r=n.docs.get(e._key),i=new zI(t);return new $I(t,i,e._key,r,new pl(n.hasPendingWrites,n.fromCache),e.converter)}function Wv(){return new Ov("serverTimestamp")}(function(e,n=!0){(function(i){Sa=i})(Ta),ra(new Ls("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Bs(new l4(r.getProvider("auth-internal")),new h4(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ji(Nx,"4.7.3",e),ji(Nx,"4.7.3","esm2017")})();function qv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function KI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c3=KI,GI=new kc("auth","Firebase",KI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new av("@firebase/auth");function u3(t,...e){lh.logLevel<=me.WARN&&lh.warn(`Auth (${Ta}): ${t}`,...e)}function hd(t,...e){lh.logLevel<=me.ERROR&&lh.error(`Auth (${Ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,...e){throw Kv(t,...e)}function lr(t,...e){return Kv(t,...e)}function QI(t,e,n){const r=Object.assign(Object.assign({},c3()),{[e]:n});return new kc("auth","Firebase",r).create(e,{appName:t.name})}function Bi(t){return QI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GI.create(t,...e)}function oe(t,e,...n){if(!t)throw Kv(e,...n)}function Pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hd(e),new Error(e)}function qr(t,e){t||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function d3(){return vE()==="http:"||vE()==="https:"}function vE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d3()||jj()||"connection"in navigator)?navigator.onLine:!0}function f3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=Vj()||Fj()}get(){return h3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t,e){qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new $c(3e4,6e4);function yf(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Aa(t,e,n,r,i={}){return XI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Nc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return Lj()||(c.referrerPolicy="no-referrer"),YI.fetch()(ZI(t,t.config.apiHost,n,a),c)})}async function XI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},p3),e);try{const i=new g3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Uu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Uu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Uu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw QI(t,d,c);Wr(t,d)}}catch(i){if(i instanceof Yr)throw i;Wr(t,"network-request-failed",{message:String(i)})}}async function JI(t,e,n,r,i={}){const s=await Aa(t,e,n,r,i);return"mfaPendingCredential"in s&&Wr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ZI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Gv(t.config,i):`${t.config.apiScheme}://${i}`}class g3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),m3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e){return Aa(t,"POST","/v1/accounts:delete",e)}async function eP(t,e){return Aa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function v3(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),i=Qv(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:kl(Dp(i.auth_time)),issuedAtTime:kl(Dp(i.iat)),expirationTime:kl(Dp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Dp(t){return Number(t)*1e3}function Qv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hd("JWT malformed, contained fewer than 3 sections"),null;try{const i=uA(n);return i?JSON.parse(i):(hd("Failed to decode base64 JWT payload"),null)}catch(i){return hd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wE(t){const e=Qv(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yr&&w3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function w3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fc(t,eP(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tP(s.providerUserInfo):[],a=E3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Cg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function x3(t){const e=Ut(t);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tP(t){return t.map(e=>{var{providerId:n}=e,r=qv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(t,e){const n=await XI(t,{},async()=>{const r=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ZI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function S3(t,e){return Aa(t,"POST","/v2/accounts:revokeToken",yf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=wE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await T3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Mo;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=qv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Cg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await fc(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return v3(this,e)}reload(){return x3(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ir(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await fc(this,y3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:R,isAnonymous:k,providerData:M,stsTokenManager:A}=n;oe(C&&A,e,"internal-error");const w=Mo.fromJSON(this.name,A);oe(typeof C=="string",e,"internal-error"),ai(f,e.name),ai(h,e.name),oe(typeof R=="boolean",e,"internal-error"),oe(typeof k=="boolean",e,"internal-error"),ai(m,e.name),ai(v,e.name),ai(_,e.name),ai(S,e.name),ai(y,e.name),ai(x,e.name);const b=new Rr({uid:C,auth:e,email:h,emailVerified:R,displayName:f,isAnonymous:k,photoURL:v,phoneNumber:m,tenantId:_,stsTokenManager:w,createdAt:y,lastLoginAt:x});return M&&Array.isArray(M)&&(b.providerData=M.map(I=>Object.assign({},I))),S&&(b._redirectEventId=S),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Mo;i.updateFromServerResponse(n);const s=new Rr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ch(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?tP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Mo;a.updateFromIdToken(r);const l=new Rr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Cg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;function kr(t){qr(t instanceof Function,"Expected a class definition");let e=_E.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_E.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nP.type="NONE";const xE=nP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t,e,n){return`firebase:${t}:${e}:${n}`}class Vo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fd(this.userKey,i.apiKey,s),this.fullPersistenceKey=fd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vo(kr(xE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||kr(xE);const o=fd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=Rr._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Vo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Vo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lP(e))return"Blackberry";if(cP(e))return"Webos";if(iP(e))return"Safari";if((e.includes("chrome/")||sP(e))&&!e.includes("edge/"))return"Chrome";if(aP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rP(t=Ft()){return/firefox\//i.test(t)}function iP(t=Ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sP(t=Ft()){return/crios\//i.test(t)}function oP(t=Ft()){return/iemobile/i.test(t)}function aP(t=Ft()){return/android/i.test(t)}function lP(t=Ft()){return/blackberry/i.test(t)}function cP(t=Ft()){return/webos/i.test(t)}function Yv(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function b3(t=Ft()){var e;return Yv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C3(){return Uj()&&document.documentMode===10}function uP(t=Ft()){return Yv(t)||aP(t)||cP(t)||lP(t)||/windows phone/i.test(t)||oP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e=[]){let n;switch(t){case"Browser":n=EE(Ft());break;case"Worker":n=`${EE(Ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(t,e={}){return Aa(t,"GET","/v2/passwordPolicy",yf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=6;class R3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:P3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TE(this),this.idTokenSubscription=new TE(this),this.beforeStateQueue=new A3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eP(this,{idToken:e}),r=await Rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ir(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ir(this.app))return Promise.reject(Bi(this));const n=e?Ut(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ir(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ir(this.app)?Promise.reject(Bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I3(this),n=new R3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await S3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&kr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&u3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vf(t){return Ut(t)}class TE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gj(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N3(t){Xv=t}function D3(t){return Xv.loadJS(t)}function M3(){return Xv.gapiScript}function V3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e){const n=cv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xd(s,e??{}))return i;Wr(i,"already-initialized")}return n.initialize({options:e})}function L3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function j3(t,e,n){const r=vf(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=hP(e),{host:o,port:a}=F3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),U3()}function hP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function F3(t){const e=hP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:SE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:SE(o)}}}function SE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function U3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e){return JI(t,"POST","/v1/accounts:signInWithIdp",yf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="http://localhost";class $s extends fP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=qv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new $s(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:B3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends pP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends zc{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gi.credential(n,r)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends zc{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends zc{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vi.credential(n,r)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(t,e){return JI(t,"POST","/v1/accounts:signUp",yf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Rr._fromIdTokenResponse(e,r,i),o=bE(r);return new Ji({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bE(r);return new Ji({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(t){var e;if(Ir(t.app))return Promise.reject(Bi(t));const n=vf(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ji({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await $3(n,{returnSecureToken:!0}),i=await Ji._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends Yr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new uh(e,n,r,i)}}function mP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(t,s,e,r):s})}async function H3(t,e,n=!1){const r=await fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ji._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3(t,e,n=!1){const{auth:r}=t;if(Ir(r.app))return Promise.reject(Bi(r));const i="reauthenticate";try{const s=await fc(t,mP(r,i,e,t),n);oe(s.idToken,r,"internal-error");const o=Qv(s.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Ji._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t,e,n=!1){if(Ir(t.app))return Promise.reject(Bi(t));const r="signIn",i=await mP(t,r,e),s=await Ji._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function K3(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function G3(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=1e3,Y3=10;class yP extends gP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);C3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Y3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Q3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yP.type="LOCAL";const X3=yP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP extends gP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vP.type="SESSION";const wP=vP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await J3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Jv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return window}function eB(t){cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function tB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rB(){return _P()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="firebaseLocalStorageDb",iB=1,hh="firebaseLocalStorage",EP="fbase_key";class Hc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _f(t,e){return t.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function sB(){const t=indexedDB.deleteDatabase(xP);return new Hc(t).toPromise()}function Ag(){const t=indexedDB.open(xP,iB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hh,{keyPath:EP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await sB(),e(await Ag()))})})}async function CE(t,e,n){const r=_f(t,!0).put({[EP]:e,value:n});return new Hc(r).toPromise()}async function oB(t,e){const n=_f(t,!1).get(e),r=await new Hc(n).toPromise();return r===void 0?null:r.value}function AE(t,e){const n=_f(t,!0).delete(e);return new Hc(n).toPromise()}const aB=800,lB=3;class TP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ag(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _P()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(rB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tB(),!this.activeServiceWorker)return;this.sender=new Z3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ag();return await CE(e,dh,"1"),await AE(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=_f(i,!1).getAll();return new Hc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TP.type="LOCAL";const cB=TP;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t,e){return e?kr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv extends fP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dB(t){return q3(t.auth,new Zv(t),t.bypassAuthState)}function hB(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),W3(n,new Zv(t),t.bypassAuthState)}async function fB(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),H3(n,new Zv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dB;case"linkViaPopup":case"linkViaRedirect":return fB;case"reauthViaPopup":case"reauthViaRedirect":return hB;default:Wr(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=new $c(2e3,1e4);class vo extends SP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=Jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pB.get())};e()}}vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="pendingRedirect",pd=new Map;class gB extends SP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pd.get(this.auth._key());if(!e){try{const r=await yB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pd.set(this.auth._key(),e)}return this.bypassAuthState||pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yB(t,e){const n=_B(e),r=wB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vB(t,e){pd.set(t._key(),e)}function wB(t){return kr(t._redirectPersistence)}function _B(t){return fd(mB,t.config.apiKey,t.name)}async function xB(t,e,n=!1){if(Ir(t.app))return Promise.reject(Bi(t));const r=vf(t),i=uB(r,e),o=await new gB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=10*60*1e3;class TB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EB&&this.cachedEventUids.clear(),this.cachedEventUids.has(IE(e))}saveEventToCache(e){this.cachedEventUids.add(IE(e)),this.lastProcessedEventTime=Date.now()}}function IE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB(t,e={}){return Aa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AB=/^https?/;async function IB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bB(t);for(const n of e)try{if(PB(n))return}catch{}Wr(t,"unauthorized-domain")}function PB(t){const e=bg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!AB.test(n))return!1;if(CB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=new $c(3e4,6e4);function PE(){const t=cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kB(t){return new Promise((e,n)=>{var r,i,s;function o(){PE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PE(),n(lr(t,"network-request-failed"))},timeout:RB.get()})}if(!((i=(r=cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=cr().gapi)===null||s===void 0)&&s.load)o();else{const a=V3("iframefcb");return cr()[a]=()=>{gapi.load?o():n(lr(t,"network-request-failed"))},D3(`${M3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw md=null,e})}let md=null;function NB(t){return md=md||kB(t),md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=new $c(5e3,15e3),MB="__/auth/iframe",VB="emulator/auth/iframe",OB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jB(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gv(e,VB):`https://${t.config.authDomain}/${MB}`,r={apiKey:e.apiKey,appName:t.name,v:Ta},i=LB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Nc(r).slice(1)}`}async function FB(t){const e=await NB(t),n=cr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:jB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=lr(t,"network-request-failed"),a=cr().setTimeout(()=>{s(o)},DB.get());function l(){cr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BB=500,$B=600,zB="_blank",HB="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WB(t,e,n,r=BB,i=$B){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},UB),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ft().toLowerCase();n&&(a=sP(c)?zB:n),rP(c)&&(e=e||HB,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(b3(c)&&a!=="_self")return qB(e||"",a),new RE(null);const f=window.open(e||"",a,d);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new RE(f)}function qB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB="__/auth/handler",GB="emulator/auth/handler",QB=encodeURIComponent("fac");async function kE(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ta,eventId:i};if(e instanceof pP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Kj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof zc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${QB}=${encodeURIComponent(l)}`:"";return`${YB(t)}?${Nc(a).slice(1)}${c}`}function YB({config:t}){return t.emulator?Gv(t,GB):`https://${t.authDomain}/${KB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="webStorageSupport";class XB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wP,this._completeRedirectFn=xB,this._overrideRedirectResult=vB}async _openPopup(e,n,r,i){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await kE(e,n,r,bg(),i);return WB(e,o,Jv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await kE(e,n,r,bg(),i);return eB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FB(e),r=new TB(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mp,{type:Mp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Mp];o!==void 0&&n(!!o),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uP()||iP()||Yv()}}const JB=XB;var NE="@firebase/auth",DE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t9(t){ra(new Ls("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dP(t)},c=new k3(r,i,s,l);return L3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ra(new Ls("auth-internal",e=>{const n=vf(e.getProvider("auth").getImmediate());return(r=>new ZB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(NE,DE,e9(t)),ji(NE,DE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=5*60,r9=fA("authIdTokenMaxAge")||n9;let ME=null;const i9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r9)return;const i=n==null?void 0:n.token;ME!==i&&(ME=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s9(t=yA()){const e=cv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=O3(t,{popupRedirectResolver:JB,persistence:[cB,X3,wP]}),r=fA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=i9(s.toString());G3(n,o,()=>o(n.currentUser)),K3(n,a=>o(a))}}const i=dA("auth");return i&&j3(n,`http://${i}`),n}function o9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}N3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",o9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t9("Browser");const a9={apiKey:"AIzaSyAApGpFANSTBHR26HHz2AtGlysJlH7qRTY",authDomain:"save-community-message.firebaseapp.com",projectId:"save-community-message",storageBucket:"save-community-message.firebasestorage.app",messagingSenderId:"189525167804",appId:"1:189525167804:web:462c4cea15af4d807b0ab9",measurementId:"G-KHYCWTWE2V"},CP=gA(a9),ss=H5(CP),hn=s9(CP),Nr=async()=>{try{if(!hn.currentUser){const t=await z3(hn);return console.log("Anonymous user signed in successfully:",t.user.uid),t.user}return hn.currentUser}catch(t){return console.error("Error signing in anonymously:",t),null}};async function l9(t){try{if(hn.currentUser||await Nr(),!hn.currentUser)return console.error("Failed to authenticate user for saving community"),{success:!1};console.log("Saving community:",t);const e=df(ss,"communities"),n=await HI(e,{...t,createdAt:Wv(),createdBy:hn.currentUser.uid||"anonymous"});return console.log("Community saved successfully with ID:",n.id),{success:!0,id:n.id}}catch(e){return console.error("Error saving community:",e),{success:!1}}}function c9(t){const e=df(ss,"communities");return WI(e,n=>{const r=n.docs.map(i=>{const s=i.data();return{id:i.id,name:s.name,creationDate:s.createdAt?new Date(s.createdAt.toDate()):new Date,members:s.members||1,code:s.code}});t(r)})}async function li(t){try{if(hn.currentUser||await Nr(),!hn.currentUser)return console.error("Failed to authenticate user"),{success:!1};const e=Uc(ss,"users",t.username||hn.currentUser.uid);return await a3(e,{...t,firebaseUid:hn.currentUser.uid,updatedAt:Wv()},{merge:!0}),console.log("User saved with ID:",e.id),{success:!0,id:e.id}}catch(e){return console.error("Error saving user:",e),{success:!1}}}async function u9(t){try{const e=Uc(ss,"users",t);return(await zv(e)).exists()}catch(e){return console.error("Error checking username:",e),!1}}async function Vp(t){try{const e=Uc(ss,"users",t),n=await zv(e);if(n.exists()){const r=n.data();return{id:n.id,name:r.name,username:r.username,communityCode:r.communityCode,lastSongAdded:r.lastSongAdded,isGuest:r.isGuest}}return null}catch(e){return console.error("Error getting user:",e),null}}async function VE(t,e){try{const n=Uc(ss,"communities",t),r=await zv(n);if(r.exists()){const s=r.data().members||1;return await l3(n,{members:e?s+1:Math.max(1,s-1)}),!0}return!1}catch(n){return console.error("Error updating community member count:",n),!1}}async function AP(t,e){try{if(hn.currentUser||await Nr(),!hn.currentUser)return console.error("Failed to authenticate user for saving song"),{success:!1};console.log("Saving song to community:",e),console.log("Song data:",t);const n=df(ss,"songs"),r=await HI(n,{...t,communityCode:e,addedAt:Wv(),userId:hn.currentUser.uid||"anonymous"});return console.log("Song saved successfully with ID:",r.id),{success:!0}}catch(n){return console.error("Error saving song:",n),{success:!1}}}function IP(t,e){console.log("Subscribing to songs for community:",t);const n=df(ss,"songs"),r=t3(n,n3("communityCode","==",t),r3(100));return WI(r,i=>{const s=i.docs.map(o=>{const a=o.data();return{id:o.id,...a,addedAt:a.addedAt?new Date(a.addedAt.toDate()).toISOString():new Date().toISOString()}}).sort((o,a)=>new Date(a.addedAt).getTime()-new Date(o.addedAt).getTime());console.log(`Retrieved ${s.length} songs for community ${t}`),e(s)})}const PP=T.createContext(void 0),OE=(t,e)=>`https://www.youtube.com/results?search_query=${encodeURIComponent(`${t} ${e}`)}`,d9=[{id:"1",title:"Bohemian Rhapsody",artist:"Queen",albumArt:"https://i.scdn.co/image/ab67616d0000b2734e04404b0571ffb8f0cd5bae",spotifyUri:"spotify:track:3z8h0TU7ReDPLIbEnNQ0hF",spotifyId:"3z8h0TU7ReDPLIbEnNQ0hF",addedBy:"RockFan42",addedById:"user1",addedAt:new Date(2023,9,10,12,0).toISOString(),mood:"Energetic",youtubeUrl:"https://www.youtube.com/results?search_query=Bohemian+Rhapsody+Queen"},{id:"2",title:"Blinding Lights",artist:"The Weeknd",albumArt:"https://i.scdn.co/image/ab67616d0000b273b5d75a39b1e6d7d7acd715d2",spotifyUri:"spotify:track:0VjIjW4GlUZAMYd2vXMi3b",spotifyId:"0VjIjW4GlUZAMYd2vXMi3b",addedBy:"SynthWave",addedById:"user2",addedAt:new Date(2023,9,12,12,0).toISOString(),mood:"Energetic",youtubeUrl:"https://www.youtube.com/results?search_query=Blinding+Lights+The+Weeknd"},{id:"3",title:"Dreams",artist:"Fleetwood Mac",albumArt:"https://i.scdn.co/image/ab67616d0000b273548f7ec52da7313de0c5e4a0",spotifyUri:"spotify:track:0ofHAoxe9vBkTCp2UQIavz",spotifyId:"0ofHAoxe9vBkTCp2UQIavz",addedBy:"VinylCollector",addedById:"user3",addedAt:new Date(2023,9,15,12,0).toISOString(),mood:"Chill",youtubeUrl:"https://www.youtube.com/results?search_query=Dreams+Fleetwood+Mac"}],h9=t=>{const e=t.slice(0,4).toUpperCase().replace(/\s+/g,""),n=Math.floor(Math.random()*9e3)+1e3;return`${e}${n}`},f9=({children:t})=>{const[e,n]=T.useState([]),[r,i]=T.useState(d9),[s,o]=T.useState(null),[a,l]=T.useState(null),[c,d]=T.useState(!1);T.useEffect(()=>{Nr()},[]),T.useEffect(()=>{const R=c9(k=>{console.log("Received communities from Firestore:",k),n(k)});return()=>R()},[]),T.useEffect(()=>{if(!(s!=null&&s.code))return;const R=IP(s.code,k=>{console.log("Received songs for community:",s.code,k),k.length>0&&i(k)});return()=>R()},[s]),T.useEffect(()=>{const R=localStorage.getItem("currentCommunity"),k=localStorage.getItem("currentUser");R&&o(JSON.parse(R)),k&&l(JSON.parse(k))},[]),T.useEffect(()=>{s?localStorage.setItem("currentCommunity",JSON.stringify(s)):localStorage.removeItem("currentCommunity"),a?localStorage.setItem("currentUser",JSON.stringify(a)):localStorage.removeItem("currentUser")},[s,a]);const f=()=>{if(!a)return!1;if(!a.lastSongAdded)return!0;const R=new Date(a.lastSongAdded);return(new Date().getTime()-R.getTime())/(1e3*60*60)>=24},h=async(R,k)=>{d(!0);try{await Nr();const M=h9(R),{success:A,id:w}=await l9({name:R,creationDate:new Date,members:1,code:M});if(!A||!w)throw new Error("Failed to create community");console.log("Community created in Firebase with ID:",w);const b={id:w,name:R,creationDate:new Date,members:1,code:M},I=await m(k);let N;if(I){const V=await Vp(k);V?N={...V,communityCode:b.code}:N={id:Date.now().toString(),username:k,name:k,communityCode:b.code,isGuest:!0}}else N={id:Date.now().toString(),username:k,name:k,communityCode:b.code,isGuest:!0};await li(N),console.log("User saved to Firebase:",N),o(b),l(N)}catch(M){throw console.error("Error creating community:",M),M}finally{d(!1)}},m=async R=>{try{return await u9(R)}catch(k){return console.error("Error checking username:",k),!1}},v=async(R,k)=>{d(!0);try{await Nr();const M=e.find(I=>I.id===R);if(!M)throw new Error("Community not found");const A=await m(k);let w,b=!0;if(A){const I=await Vp(k);I?(b=I.communityCode!==M.code,w={...I,communityCode:M.code},await li(w)):(w={id:Date.now().toString(),username:k,name:k,communityCode:M.code,isGuest:!0},await li(w))}else w={id:Date.now().toString(),username:k,name:k,communityCode:M.code,isGuest:!0},await li(w);if(b){await VE(R,!0);const I={...M,members:M.members+1};n(N=>N.map(V=>V.id===R?I:V)),o(I)}else o(M);l(w)}finally{d(!1)}},_=async(R,k)=>{d(!0);try{await Nr();const M=e.find(I=>I.code===R);if(!M)throw new Error("Invalid community code");const A=await m(k);let w,b=!0;if(A){const I=await Vp(k);I?(b=I.communityCode!==M.code,w={...I,communityCode:M.code},await li(w)):(w={id:Date.now().toString(),username:k,name:k,communityCode:M.code,isGuest:!0},await li(w))}else w={id:Date.now().toString(),username:k,name:k,communityCode:M.code,isGuest:!0},await li(w);if(b){await VE(M.id,!0);const I={...M,members:M.members+1};n(N=>N.map(V=>V.id===M.id?I:V)),o(I)}else o(M);l(w)}finally{d(!1)}},S=async(R,k,M,A,w)=>{if(!s||!a)throw new Error("User not in a community");if(!f())throw new Error("You can only add one song every 24 hours");d(!0);try{const b=OE(k,M),I={title:k,artist:M,albumArt:A,spotifyUri:R,spotifyId:R.split(":").pop()||"",addedBy:a.username||"",addedById:a.id||"",mood:w,youtubeUrl:b,communityCode:a.communityCode};await AP(I,a.communityCode);const N={...a,lastSongAdded:new Date().toISOString()};await li(N),l(N)}finally{d(!1)}},y=R=>`${window.location.origin}/onboarding?join=${R}`,x=async R=>{try{const k=y(R);return await navigator.clipboard.writeText(k),!0}catch(k){return console.error("Failed to copy link:",k),!1}},C=async R=>{try{return await navigator.clipboard.writeText(R),!0}catch(k){return console.error("Failed to copy code:",k),!1}};return E.jsx(PP.Provider,{value:{communities:e,songs:r,currentCommunity:s,currentUser:a,isLoading:c,canAddSong:f(),setCurrentCommunity:o,setCurrentUser:l,createCommunity:h,joinCommunity:v,joinCommunityByCode:_,addSong:S,generateYoutubeUrl:OE,generateShareableLink:y,copyShareableLinkToClipboard:x,copyCodeToClipboard:C,checkUsernameExists:m},children:t})},Qs=()=>{const t=T.useContext(PP);if(t===void 0)throw new Error("useMusicCommunity must be used within a MusicCommunityProvider");return t},e0=T.createContext({});function t0(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const xf=T.createContext(null),n0=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class p9 extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m9({children:t,isPresent:e,anchorX:n}){const r=T.useId(),i=T.useRef(null),s=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=T.useContext(n0);return T.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:f}=s.current;if(e||!i.current||!a||!l)return;const h=n==="left"?`left: ${d}`:`right: ${f}`;i.current.dataset.motionPopId=r;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),E.jsx(p9,{isPresent:e,childRef:i,sizeRef:s,children:T.cloneElement(t,{ref:i})})}const g9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=t0(y9),c=T.useId(),d=T.useCallback(h=>{l.set(h,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),f=T.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),s?[Math.random(),d]:[n,d]);return T.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[n]),T.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=E.jsx(m9,{isPresent:n,anchorX:a,children:t})),E.jsx(xf.Provider,{value:f,children:t})};function y9(){return new Map}function RP(t=!0){const e=T.useContext(xf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=T.useId();T.useEffect(()=>{if(t)return i(s)},[t]);const o=T.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Bu=t=>t.key||"";function LE(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const r0=typeof window<"u",kP=r0?T.useLayoutEffect:T.useEffect,Ia=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=RP(o),d=T.useMemo(()=>LE(t),[t]),f=o&&!l?[]:d.map(Bu),h=T.useRef(!0),m=T.useRef(d),v=t0(()=>new Map),[_,S]=T.useState(d),[y,x]=T.useState(d);kP(()=>{h.current=!1,m.current=d;for(let k=0;k<y.length;k++){const M=Bu(y[k]);f.includes(M)?v.delete(M):v.get(M)!==!0&&v.set(M,!1)}},[y,f.length,f.join("-")]);const C=[];if(d!==_){let k=[...d];for(let M=0;M<y.length;M++){const A=y[M],w=Bu(A);f.includes(w)||(k.splice(M,0,A),C.push(A))}return s==="wait"&&C.length&&(k=C),x(LE(k)),S(d),null}const{forceRender:R}=T.useContext(e0);return E.jsx(E.Fragment,{children:y.map(k=>{const M=Bu(k),A=o&&!l?!1:d===y||f.includes(M),w=()=>{if(v.has(M))v.set(M,!0);else return;let b=!0;v.forEach(I=>{I||(b=!1)}),b&&(R==null||R(),x(m.current),o&&(c==null||c()),r&&r())};return E.jsx(g9,{isPresent:A,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:A?void 0:w,anchorX:a,children:k},M)})})},mn=t=>t;let Ig=mn;function i0(t){let e;return()=>(e===void 0&&(e=t()),e)}const da=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Mr=t=>t*1e3,Vr=t=>t/1e3,v9={skipAnimations:!1,useManualTiming:!1},$u=["read","resolveKeyframes","update","preRender","render","postRender"],jE={value:null,addProjectionMetrics:null};function w9(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(d.schedule(f),t()),l++,f(a)}const d={schedule:(f,h=!1,m=!1)=>{const _=m&&i?n:r;return h&&o.add(f),_.has(f)||_.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&jE.value&&jE.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const _9=40;function NP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=$u.reduce((y,x)=>(y[x]=w9(s,e?x:void 0),y),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:f,postRender:h}=o,m=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,_9),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},v=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:$u.reduce((y,x)=>{const C=o[x];return y[x]=(R,k=!1,M=!1)=>(n||v(),C.schedule(R,k,M)),y},{}),cancel:y=>{for(let x=0;x<$u.length;x++)o[$u[x]].cancel(y)},state:i,steps:o}}const{schedule:Re,cancel:Zi,state:pt,steps:Op}=NP(typeof requestAnimationFrame<"u"?requestAnimationFrame:mn,!0),DP=T.createContext({strict:!1}),FE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ha={};for(const t in FE)ha[t]={isEnabled:e=>FE[t].some(n=>!!e[n])};function x9(t){for(const e in t)ha[e]={...ha[e],...t[e]}}const E9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||E9.has(t)}let MP=t=>!fh(t);function T9(t){t&&(MP=e=>e.startsWith("on")?!fh(e):t(e))}try{T9(require("@emotion/is-prop-valid").default)}catch{}function S9(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(MP(i)||n===!0&&fh(i)||!e&&!fh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function b9(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Ef=T.createContext({});function Tf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pc(t){return typeof t=="string"||Array.isArray(t)}const s0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],o0=["initial",...s0];function Sf(t){return Tf(t.animate)||o0.some(e=>pc(t[e]))}function VP(t){return!!(Sf(t)||t.variants)}function C9(t,e){if(Sf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pc(n)?n:void 0,animate:pc(r)?r:void 0}}return t.inherit!==!1?e:{}}function A9(t){const{initial:e,animate:n}=C9(t,T.useContext(Ef));return T.useMemo(()=>({initial:e,animate:n}),[UE(e),UE(n)])}function UE(t){return Array.isArray(t)?t.join(" "):t}const I9=Symbol.for("motionComponentSymbol");function wo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function P9(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):wo(n)&&(n.current=r))},[e])}const a0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R9="framerAppearId",OP="data-"+a0(R9),{schedule:l0,cancel:sW}=NP(queueMicrotask,!1),LP=T.createContext({});function k9(t,e,n,r,i){var s,o;const{visualElement:a}=T.useContext(Ef),l=T.useContext(DP),c=T.useContext(xf),d=T.useContext(n0).reducedMotion,f=T.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,m=T.useContext(LP);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&N9(f.current,n,i,m);const v=T.useRef(!1);T.useInsertionEffect(()=>{h&&v.current&&h.update(n,c)});const _=n[OP],S=T.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return kP(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),l0.render(h.render),S.current&&h.animationState&&h.animationState.animateChanges())}),T.useEffect(()=>{h&&(!S.current&&h.animationState&&h.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,_)}),S.current=!1))}),h}function N9(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:jP(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&wo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function jP(t){if(t)return t.options.allowProjection!==!1?t.projection:jP(t.parent)}function D9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&x9(t);function a(c,d){let f;const h={...T.useContext(n0),...c,layoutId:M9(c)},{isStatic:m}=h,v=A9(c),_=r(c,m);if(!m&&r0){V9();const S=O9(h);f=S.MeasureLayout,v.visualElement=k9(i,_,h,e,S.ProjectionNode)}return E.jsxs(Ef.Provider,{value:v,children:[f&&v.visualElement?E.jsx(f,{visualElement:v.visualElement,...h}):null,n(i,c,P9(_,v.visualElement,d),_,m,v.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=T.forwardRef(a);return l[I9]=i,l}function M9({layoutId:t}){const e=T.useContext(e0).id;return e&&t!==void 0?e+"-"+t:t}function V9(t,e){T.useContext(DP).strict}function O9(t){const{drag:e,layout:n}=ha;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const FP=t=>e=>typeof e=="string"&&e.startsWith(t),c0=FP("--"),L9=FP("var(--"),u0=t=>L9(t)?j9.test(t.split("/*")[0].trim()):!1,j9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mc={};function F9(t){for(const e in t)mc[e]=t[e],c0(e)&&(mc[e].isCSSVariable=!0)}const Pa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ys=new Set(Pa);function UP(t,{layout:e,layoutId:n}){return Ys.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mc[t]||t==="opacity")}const Ot=t=>!!(t&&t.getVelocity),BP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Kr=(t,e,n)=>n>e?e:n<t?t:n,Ra={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gc={...Ra,transform:t=>Kr(0,1,t)},zu={...Ra,default:1},Wc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ui=Wc("deg"),ur=Wc("%"),ie=Wc("px"),U9=Wc("vh"),B9=Wc("vw"),BE={...ur,parse:t=>ur.parse(t)/100,transform:t=>ur.transform(t*100)},$9={borderWidth:ie,borderTopWidth:ie,borderRightWidth:ie,borderBottomWidth:ie,borderLeftWidth:ie,borderRadius:ie,radius:ie,borderTopLeftRadius:ie,borderTopRightRadius:ie,borderBottomRightRadius:ie,borderBottomLeftRadius:ie,width:ie,maxWidth:ie,height:ie,maxHeight:ie,top:ie,right:ie,bottom:ie,left:ie,padding:ie,paddingTop:ie,paddingRight:ie,paddingBottom:ie,paddingLeft:ie,margin:ie,marginTop:ie,marginRight:ie,marginBottom:ie,marginLeft:ie,backgroundPositionX:ie,backgroundPositionY:ie},z9={rotate:ui,rotateX:ui,rotateY:ui,rotateZ:ui,scale:zu,scaleX:zu,scaleY:zu,scaleZ:zu,skew:ui,skewX:ui,skewY:ui,distance:ie,translateX:ie,translateY:ie,translateZ:ie,x:ie,y:ie,z:ie,perspective:ie,transformPerspective:ie,opacity:gc,originX:BE,originY:BE,originZ:ie},$E={...Ra,transform:Math.round},d0={...$9,...z9,zIndex:$E,size:ie,fillOpacity:gc,strokeOpacity:gc,numOctaves:$E},H9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W9=Pa.length;function q9(t,e,n){let r="",i=!0;for(let s=0;s<W9;s++){const o=Pa[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=BP(a,d0[o]);if(!l){i=!1;const d=H9[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function h0(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Ys.has(l)){o=!0;continue}else if(c0(l)){i[l]=c;continue}else{const d=BP(c,d0[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=q9(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const f0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $P(t,e,n){for(const r in e)!Ot(e[r])&&!UP(r,n)&&(t[r]=e[r])}function K9({transformTemplate:t},e){return T.useMemo(()=>{const n=f0();return h0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function G9(t,e){const n=t.style||{},r={};return $P(r,n,t),Object.assign(r,K9(t,e)),r}function Q9(t,e){const n={},r=G9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Y9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p0(t){return typeof t!="string"||t.includes("-")?!1:!!(Y9.indexOf(t)>-1||/[A-Z]/u.test(t))}const X9={offset:"stroke-dashoffset",array:"stroke-dasharray"},J9={offset:"strokeDashoffset",array:"strokeDasharray"};function Z9(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?X9:J9;t[s.offset]=ie.transform(-r);const o=ie.transform(e),a=ie.transform(n);t[s.array]=`${o} ${a}`}function zE(t,e,n){return typeof t=="string"?t:ie.transform(e+n*t)}function e$(t,e,n){const r=zE(e,t.x,t.width),i=zE(n,t.y,t.height);return`${r} ${i}`}function m0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f){if(h0(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m,dimensions:v}=t;h.transform&&(v&&(m.transform=h.transform),delete h.transform),v&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=e$(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&Z9(h,o,a,l,!1)}const zP=()=>({...f0(),attrs:{}}),g0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function t$(t,e,n,r){const i=T.useMemo(()=>{const s=zP();return m0(s,e,g0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};$P(s,t.style,t),i.style={...s,...i.style}}return i}function n$(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(p0(n)?t$:Q9)(r,s,o,n),c=S9(r,typeof n=="string",t),d=n!==T.Fragment?{...c,...l,ref:i}:{},{children:f}=r,h=T.useMemo(()=>Ot(f)?f.get():f,[f]);return T.createElement(n,{...d,children:h})}}function HE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function y0(t,e,n,r){if(typeof e=="function"){const[i,s]=HE(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=HE(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const Pg=t=>Array.isArray(t),r$=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),i$=t=>Pg(t)?t[t.length-1]||0:t;function gd(t){const e=Ot(t)?t.get():t;return r$(e)?e.toValue():e}function s$({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:o$(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const HP=t=>(e,n)=>{const r=T.useContext(Ef),i=T.useContext(xf),s=()=>s$(t,e,r,i);return n?s():t0(s)};function o$(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=gd(s[h]);let{initial:o,animate:a}=t;const l=Sf(t),c=VP(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!Tf(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const v=y0(t,h[m]);if(v){const{transitionEnd:_,transition:S,...y}=v;for(const x in y){let C=y[x];if(Array.isArray(C)){const R=d?C.length-1:0;C=C[R]}C!==null&&(i[x]=C)}for(const x in _)i[x]=_[x]}}}return i}function v0(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Ot(i[o])||e.style&&Ot(e.style[o])||UP(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}const a$={useVisualState:HP({scrapeMotionValuesFromProps:v0,createRenderState:f0})};function WP(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function qP(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const KP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GP(t,e,n,r){qP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(KP.has(i)?i:a0(i),e.attrs[i])}function QP(t,e,n){const r=v0(t,e,n);for(const i in t)if(Ot(t[i])||Ot(e[i])){const s=Pa.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const WE=["x","y","width","height","cx","cy","r"],l$={useVisualState:HP({scrapeMotionValuesFromProps:QP,createRenderState:zP,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(Ys.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<WE.length;a++){const l=WE[a];t[l]!==e[l]&&(o=!0)}o&&Re.read(()=>{WP(n,r),Re.render(()=>{m0(r,i,g0(n.tagName),t.transformTemplate),GP(n,r)})})}})};function c$(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...p0(r)?l$:a$,preloadedFeatures:t,useRender:n$(i),createVisualElement:e,Component:r};return D9(o)}}function yc(t,e,n){const r=t.getProps();return y0(r,e,n!==void 0?n:r.custom,t)}const u$=i0(()=>window.ScrollTimeline!==void 0);class d${constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(u$()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class h$ extends d${then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function w0(t,e){return t?t[e]||t.default||t:void 0}const Rg=2e4;function YP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Rg;)e+=n,r=t.next(e);return e>=Rg?1/0:e}function _0(t){return typeof t=="function"}function qE(t,e){t.timeline=e,t.onfinish=null}const x0=t=>Array.isArray(t)&&typeof t[0]=="number",f$={linearEasing:void 0};function p$(t,e){const n=i0(t);return()=>{var r;return(r=f$[e])!==null&&r!==void 0?r:n()}}const ph=p$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),XP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(da(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function JP(t){return!!(typeof t=="function"&&ph()||!t||typeof t=="string"&&(t in kg||ph())||x0(t)||Array.isArray(t)&&t.every(JP))}const ml=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,kg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ml([0,.65,.55,1]),circOut:ml([.55,0,1,.45]),backIn:ml([.31,.01,.66,-.59]),backOut:ml([.33,1.53,.69,.99])};function ZP(t,e){if(t)return typeof t=="function"&&ph()?XP(t,e):x0(t)?ml(t):Array.isArray(t)?t.map(n=>ZP(n,e)||kg.easeOut):kg[t]}const Dn={x:!1,y:!1};function eR(){return Dn.x||Dn.y}function m$(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function tR(t,e){const n=m$(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function KE(t){return!(t.pointerType==="touch"||eR())}function g$(t,e,n={}){const[r,i,s]=tR(t,n),o=a=>{if(!KE(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=f=>{KE(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}function Nl(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const nR=(t,e)=>e?t===e?!0:nR(t,e.parentElement):!1,E0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,y$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function v$(t){return y$.has(t.tagName)||t.tabIndex!==-1}const gl=new WeakSet;function GE(t){return e=>{e.key==="Enter"&&t(e)}}function Lp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const w$=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=GE(()=>{if(gl.has(n))return;Lp(n,"down");const i=GE(()=>{Lp(n,"up")}),s=()=>Lp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function QE(t){return E0(t)&&!eR()}function _$(t,e,n={}){const[r,i,s]=tR(t,n),o=a=>{const l=a.currentTarget;if(!l||!QE(a)||gl.has(l))return;gl.add(l),Nl(a,"set");const c=e(l,a),d=(m,v)=>{l.removeEventListener("pointerup",f),l.removeEventListener("pointercancel",h),Nl(m,"release"),!(!QE(m)||!gl.has(l))&&(gl.delete(l),typeof c=="function"&&c(m,{success:v}))},f=m=>{(m.isTrusted?x$(m,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?d(m,!1):d(m,!(l instanceof Element)||nR(l,m.target))},h=m=>{d(m,!1)};l.addEventListener("pointerup",f,i),l.addEventListener("pointercancel",h,i),l.addEventListener("lostpointercapture",h,i)};return r.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!v$(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",o,i),l&&a.addEventListener("focus",c=>w$(c,i),i)}),s}function x$(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function E$(t){return t==="x"||t==="y"?Dn[t]?null:(Dn[t]=!0,()=>{Dn[t]=!1}):Dn.x||Dn.y?null:(Dn.x=Dn.y=!0,()=>{Dn.x=Dn.y=!1})}const rR=new Set(["width","height","top","left","right","bottom",...Pa]);let yd;function T$(){yd=void 0}const dr={now:()=>(yd===void 0&&dr.set(pt.isProcessing||v9.useManualTiming?pt.timestamp:performance.now()),yd),set:t=>{yd=t,queueMicrotask(T$)}};function T0(t,e){t.indexOf(e)===-1&&t.push(e)}function S0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class b0{constructor(){this.subscriptions=[]}add(e){return T0(this.subscriptions,e),()=>S0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function iR(t,e){return e?t*(1e3/e):0}const YE=30,S$=t=>!isNaN(parseFloat(t));class b${constructor(e,n={}){this.version="12.4.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=dr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=dr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=S$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new b0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>YE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,YE);return iR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vc(t,e){return new b$(t,e)}function C$(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vc(n))}function A$(t,e){const n=yc(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=i$(s[o]);C$(t,o,a)}}function I$(t){return!!(Ot(t)&&t.add)}function Ng(t,e){const n=t.getValue("willChange");if(I$(n))return n.add(e)}function sR(t){return t.props[OP]}const oR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,P$=1e-7,R$=12;function k$(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=oR(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>P$&&++a<R$);return o}function qc(t,e,n,r){if(t===e&&n===r)return mn;const i=s=>k$(s,0,1,t,n);return s=>s===0||s===1?s:oR(i(s),e,r)}const aR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lR=t=>e=>1-t(1-e),cR=qc(.33,1.53,.69,.99),C0=lR(cR),uR=aR(C0),dR=t=>(t*=2)<1?.5*C0(t):.5*(2-Math.pow(2,-10*(t-1))),A0=t=>1-Math.sin(Math.acos(t)),hR=lR(A0),fR=aR(A0),pR=t=>/^0[^.\s]+$/u.test(t);function N$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pR(t):!0}const Dl=t=>Math.round(t*1e5)/1e5,I0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function D$(t){return t==null}const M$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,P0=(t,e)=>n=>!!(typeof n=="string"&&M$.test(n)&&n.startsWith(t)||e&&!D$(n)&&Object.prototype.hasOwnProperty.call(n,e)),mR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(I0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},V$=t=>Kr(0,255,t),jp={...Ra,transform:t=>Math.round(V$(t))},xs={test:P0("rgb","red"),parse:mR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+jp.transform(t)+", "+jp.transform(e)+", "+jp.transform(n)+", "+Dl(gc.transform(r))+")"};function O$(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Dg={test:P0("#"),parse:O$,transform:xs.transform},_o={test:P0("hsl","hue"),parse:mR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ur.transform(Dl(e))+", "+ur.transform(Dl(n))+", "+Dl(gc.transform(r))+")"},Nt={test:t=>xs.test(t)||Dg.test(t)||_o.test(t),parse:t=>xs.test(t)?xs.parse(t):_o.test(t)?_o.parse(t):Dg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xs.transform(t):_o.transform(t)},L$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function j$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(I0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(L$))===null||n===void 0?void 0:n.length)||0)>0}const gR="number",yR="color",F$="var",U$="var(",XE="${}",B$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(B$,l=>(Nt.test(l)?(r.color.push(s),i.push(yR),n.push(Nt.parse(l))):l.startsWith(U$)?(r.var.push(s),i.push(F$),n.push(l)):(r.number.push(s),i.push(gR),n.push(parseFloat(l))),++s,XE)).split(XE);return{values:n,split:a,indexes:r,types:i}}function vR(t){return wc(t).values}function wR(t){const{split:e,types:n}=wc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===gR?s+=Dl(i[o]):a===yR?s+=Nt.transform(i[o]):s+=i[o]}return s}}const $$=t=>typeof t=="number"?0:t;function z$(t){const e=vR(t);return wR(t)(e.map($$))}const es={test:j$,parse:vR,createTransformer:wR,getAnimatableNone:z$},H$=new Set(["brightness","contrast","saturate","opacity"]);function W$(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(I0)||[];if(!r)return t;const i=n.replace(r,"");let s=H$.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const q$=/\b([a-z-]*)\(.*?\)/gu,Mg={...es,getAnimatableNone:t=>{const e=t.match(q$);return e?e.map(W$).join(" "):t}},K$={...d0,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Mg,WebkitFilter:Mg},R0=t=>K$[t];function _R(t,e){let n=R0(t);return n!==Mg&&(n=es),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const G$=new Set(["auto","none","0"]);function Q$(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!G$.has(s)&&wc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=_R(n,i)}const JE=t=>t===Ra||t===ie,ZE=(t,e)=>parseFloat(t.split(", ")[e]),eT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return ZE(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?ZE(s[1],t):0}},Y$=new Set(["x","y","z"]),X$=Pa.filter(t=>!Y$.has(t));function J$(t){const e=[];return X$.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const fa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:eT(4,13),y:eT(5,14)};fa.translateX=fa.x;fa.translateY=fa.y;const Rs=new Set;let Vg=!1,Og=!1;function xR(){if(Og){const t=Array.from(Rs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=J$(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Og=!1,Vg=!1,Rs.forEach(t=>t.complete()),Rs.clear()}function ER(){Rs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Og=!0)})}function Z$(){ER(),xR()}class k0{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Rs.add(this),Vg||(Vg=!0,Re.read(ER),Re.resolveKeyframes(xR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Rs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Rs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const TR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ez=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tz(t){const e=ez.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function SR(t,e,n=1){const[r,i]=tz(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return TR(o)?parseFloat(o):o}return u0(i)?SR(i,e,n+1):i}const bR=t=>e=>e.test(t),nz={test:t=>t==="auto",parse:t=>t},CR=[Ra,ie,ur,ui,B9,U9,nz],tT=t=>CR.find(bR(t));class AR extends k0{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),u0(c))){const d=SR(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!rR.has(r)||e.length!==2)return;const[i,s]=e,o=tT(i),a=tT(s);if(o!==a)if(JE(o)&&JE(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)N$(e[i])&&r.push(i);r.length&&Q$(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=fa[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const nT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(es.test(t)||t==="0")&&!t.startsWith("url("));function rz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function iz(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=nT(i,e),a=nT(s,e);return!o||!a?!1:rz(t)||(n==="spring"||_0(n))&&r}const sz=t=>t!==null;function bf(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(sz),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const oz=40;class IR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=dr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>oz?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Z$(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=dr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!iz(e,r,i,s))if(o)this.options.duration=0;else{l&&l(bf(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Fe=(t,e,n)=>t+(e-t)*n;function Fp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function az({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Fp(l,a,t+1/3),s=Fp(l,a,t),o=Fp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function mh(t,e){return n=>n>0?e:t}const Up=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},lz=[Dg,xs,_o],cz=t=>lz.find(e=>e.test(t));function rT(t){const e=cz(t);if(!e)return!1;let n=e.parse(t);return e===_o&&(n=az(n)),n}const iT=(t,e)=>{const n=rT(t),r=rT(e);if(!n||!r)return mh(t,e);const i={...n};return s=>(i.red=Up(n.red,r.red,s),i.green=Up(n.green,r.green,s),i.blue=Up(n.blue,r.blue,s),i.alpha=Fe(n.alpha,r.alpha,s),xs.transform(i))},uz=(t,e)=>n=>e(t(n)),Kc=(...t)=>t.reduce(uz),Lg=new Set(["none","hidden"]);function dz(t,e){return Lg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function hz(t,e){return n=>Fe(t,e,n)}function N0(t){return typeof t=="number"?hz:typeof t=="string"?u0(t)?mh:Nt.test(t)?iT:mz:Array.isArray(t)?PR:typeof t=="object"?Nt.test(t)?iT:fz:mh}function PR(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>N0(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function fz(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=N0(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function pz(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const mz=(t,e)=>{const n=es.createTransformer(e),r=wc(t),i=wc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Lg.has(t)&&!i.values.length||Lg.has(e)&&!r.values.length?dz(t,e):Kc(PR(pz(r,i),i.values),n):mh(t,e)};function RR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Fe(t,e,n):N0(t)(t,e)}const gz=5;function kR(t,e,n){const r=Math.max(e-gz,0);return iR(n-t(r),e-r)}const qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bp=.001;function yz({duration:t=qe.duration,bounce:e=qe.bounce,velocity:n=qe.velocity,mass:r=qe.mass}){let i,s,o=1-e;o=Kr(qe.minDamping,qe.maxDamping,o),t=Kr(qe.minDuration,qe.maxDuration,Vr(t)),o<1?(i=c=>{const d=c*o,f=d*t,h=d-n,m=jg(c,o),v=Math.exp(-f);return Bp-h/m*v},s=c=>{const f=c*o*t,h=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-f),_=jg(Math.pow(c,2),o);return(-i(c)+Bp>0?-1:1)*((h-m)*v)/_}):(i=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-Bp+d*f},s=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=wz(i,s,a);if(t=Mr(t),isNaN(l))return{stiffness:qe.stiffness,damping:qe.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const vz=12;function wz(t,e,n){let r=n;for(let i=1;i<vz;i++)r=r-t(r)/e(r);return r}function jg(t,e){return t*Math.sqrt(1-e*e)}const _z=["duration","bounce"],xz=["stiffness","damping","mass"];function sT(t,e){return e.some(n=>t[n]!==void 0)}function Ez(t){let e={velocity:qe.velocity,stiffness:qe.stiffness,damping:qe.damping,mass:qe.mass,isResolvedFromDuration:!1,...t};if(!sT(t,xz)&&sT(t,_z))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Kr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:qe.mass,stiffness:i,damping:s}}else{const n=yz(t);e={...e,...n,mass:qe.mass},e.isResolvedFromDuration=!0}return e}function NR(t=qe.visualDuration,e=qe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=Ez({...n,velocity:-Vr(n.velocity||0)}),v=h||0,_=c/(2*Math.sqrt(l*d)),S=o-s,y=Vr(Math.sqrt(l/d)),x=Math.abs(S)<5;r||(r=x?qe.restSpeed.granular:qe.restSpeed.default),i||(i=x?qe.restDelta.granular:qe.restDelta.default);let C;if(_<1){const k=jg(y,_);C=M=>{const A=Math.exp(-_*y*M);return o-A*((v+_*y*S)/k*Math.sin(k*M)+S*Math.cos(k*M))}}else if(_===1)C=k=>o-Math.exp(-y*k)*(S+(v+y*S)*k);else{const k=y*Math.sqrt(_*_-1);C=M=>{const A=Math.exp(-_*y*M),w=Math.min(k*M,300);return o-A*((v+_*y*S)*Math.sinh(w)+k*S*Math.cosh(w))/k}}const R={calculatedDuration:m&&f||null,next:k=>{const M=C(k);if(m)a.done=k>=f;else{let A=0;_<1&&(A=k===0?Mr(v):kR(C,k,M));const w=Math.abs(A)<=r,b=Math.abs(o-M)<=i;a.done=w&&b}return a.value=a.done?o:M,a},toString:()=>{const k=Math.min(YP(R),Rg),M=XP(A=>R.next(k*A).value,k,30);return k+"ms "+M}};return R}function oT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},m=w=>a!==void 0&&w<a||l!==void 0&&w>l,v=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let _=n*e;const S=f+_,y=o===void 0?S:o(S);y!==S&&(_=y-f);const x=w=>-_*Math.exp(-w/r),C=w=>y+x(w),R=w=>{const b=x(w),I=C(w);h.done=Math.abs(b)<=c,h.value=h.done?y:I};let k,M;const A=w=>{m(h.value)&&(k=w,M=NR({keyframes:[h.value,v(h.value)],velocity:kR(C,w,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return A(0),{calculatedDuration:null,next:w=>{let b=!1;return!M&&k===void 0&&(b=!0,R(w),A(w)),k!==void 0&&w>=k?M.next(w-k):(!b&&R(w),h)}}}const Tz=qc(.42,0,1,1),Sz=qc(0,0,.58,1),DR=qc(.42,0,.58,1),bz=t=>Array.isArray(t)&&typeof t[0]!="number",aT={linear:mn,easeIn:Tz,easeInOut:DR,easeOut:Sz,circIn:A0,circInOut:fR,circOut:hR,backIn:C0,backInOut:uR,backOut:cR,anticipate:dR},lT=t=>{if(x0(t)){Ig(t.length===4);const[e,n,r,i]=t;return qc(e,n,r,i)}else if(typeof t=="string")return Ig(aT[t]!==void 0),aT[t];return t};function Cz(t,e,n){const r=[],i=n||RR,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||mn:e;a=Kc(l,a)}r.push(a)}return r}function Az(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Ig(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Cz(e,r,i),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=da(t[f],t[f+1],d);return a[f](h)};return n?d=>c(Kr(t[0],t[s-1],d)):c}function Iz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=da(0,e,r);t.push(Fe(n,1,i))}}function Pz(t){const e=[0];return Iz(e,t.length-1),e}function Rz(t,e){return t.map(n=>n*e)}function kz(t,e){return t.map(()=>e||DR).splice(0,t.length-1)}function gh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=bz(r)?r.map(lT):lT(r),s={done:!1,value:e[0]},o=Rz(n&&n.length===e.length?n:Pz(e),t),a=Az(o,e,{ease:Array.isArray(i)?i:kz(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const Nz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Re.update(e,!0),stop:()=>Zi(e),now:()=>pt.isProcessing?pt.timestamp:dr.now()}},Dz={decay:oT,inertia:oT,tween:gh,keyframes:gh,spring:NR},Mz=t=>t/100;class D0 extends IR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||k0,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=_0(n)?n:Dz[n]||gh;let l,c;a!==gh&&typeof e[0]!="number"&&(l=Kc(Mz,RR(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=YP(d));const{calculatedDuration:f}=d,h=f+i,m=h*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:m,repeatType:v,repeatDelay:_,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),x=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let C=this.currentTime,R=s;if(m){const w=Math.min(this.currentTime,d)/f;let b=Math.floor(w),I=w%1;!I&&w>=1&&(I=1),I===1&&b--,b=Math.min(b,m+1),!!(b%2)&&(v==="reverse"?(I=1-I,_&&(I-=_/f)):v==="mirror"&&(R=o)),C=Kr(0,1,I)*f}const k=x?{done:!1,value:l[0]}:R.next(C);a&&(k.value=a(k.value));let{done:M}=k;!x&&c!==null&&(M=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return A&&i!==void 0&&(k.value=bf(l,this.options,i)),S&&S(k.value),A&&this.finish(),k}get duration(){const{resolved:e}=this;return e?Vr(e.calculatedDuration):0}get time(){return Vr(this.currentTime)}set time(e){e=Mr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Nz,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Vz=new Set(["opacity","clipPath","filter","transform"]);function Oz(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=ZP(a,i);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Lz=i0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yh=10,jz=2e4;function Fz(t){return _0(t.type)||t.type==="spring"||!JP(t.ease)}function Uz(t,e){const n=new D0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<jz;)r=n.sample(s),i.push(r.value),s+=yh;return{times:void 0,keyframes:i,duration:s-yh,ease:"linear"}}const MR={anticipate:dR,backInOut:uR,circInOut:fR};function Bz(t){return t in MR}class cT extends IR{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new AR(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&ph()&&Bz(s)&&(s=MR[s]),Fz(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:v,..._}=this.options,S=Uz(e,_);e=S.keyframes,e.length===1&&(e[1]=e[0]),r=S.duration,i=S.times,s=S.ease,o="keyframes"}const d=Oz(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(qE(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;a.set(bf(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Vr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Vr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Mr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return mn;const{animation:r}=n;qE(r,e)}return mn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:f,element:h,...m}=this.options,v=new D0({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),_=Mr(this.time);c.setWithVelocity(v.sample(_-yh).value,v.sample(_).value,yh)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Lz()&&r&&Vz.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const $z={type:"spring",stiffness:500,damping:25,restSpeed:10},zz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Hz={type:"keyframes",duration:.8},Wz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qz=(t,{keyframes:e})=>e.length>2?Hz:Ys.has(t)?t.startsWith("scale")?zz(e[1]):$z:Wz;function Kz({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const M0=(t,e,n,r={},i,s)=>o=>{const a=w0(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Mr(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Kz(a)||(d={...d,...qz(t,d)}),d.duration&&(d.duration=Mr(d.duration)),d.repeatDelay&&(d.repeatDelay=Mr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const h=bf(d.keyframes,a);if(h!==void 0)return Re.update(()=>{d.onUpdate(h),d.onComplete()}),new h$([])}return!s&&cT.supports(d)?new cT(d):new D0(d)};function Gz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function VR(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),m=l[f];if(m===void 0||d&&Gz(d,f))continue;const v={delay:n,...w0(o||{},f)};let _=!1;if(window.MotionHandoffAnimation){const y=sR(t);if(y){const x=window.MotionHandoffAnimation(y,f,Re);x!==null&&(v.startTime=x,_=!0)}}Ng(t,f),h.start(M0(f,h,m,t.shouldReduceMotion&&rR.has(f)?{type:!1}:v,t,_));const S=h.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{Re.update(()=>{a&&A$(t,a)})}),c}function Fg(t,e,n={}){var r;const i=yc(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(VR(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return Qz(t,e,d+c,f,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function Qz(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Yz).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(Fg(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Yz(t,e){return t.sortNodePosition(e)}function Xz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Fg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Fg(t,e,n);else{const i=typeof e=="function"?yc(t,e,n.custom):e;r=Promise.all(VR(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function OR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Jz=o0.length;function LR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?LR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Jz;n++){const r=o0[n],i=t.props[r];(pc(i)||i===!1)&&(e[r]=i)}return e}const Zz=[...s0].reverse(),e6=s0.length;function t6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Xz(t,n,r)))}function n6(t){let e=t6(t),n=uT(),r=!0;const i=l=>(c,d)=>{var f;const h=yc(t,d,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:v,..._}=h;c={...c,..._,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=LR(t.parent)||{},f=[],h=new Set;let m={},v=1/0;for(let S=0;S<e6;S++){const y=Zz[S],x=n[y],C=c[y]!==void 0?c[y]:d[y],R=pc(C),k=y===l?x.isActive:null;k===!1&&(v=S);let M=C===d[y]&&C!==c[y]&&R;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),x.protectedKeys={...m},!x.isActive&&k===null||!C&&!x.prevProp||Tf(C)||typeof C=="boolean")continue;const A=r6(x.prevProp,C);let w=A||y===l&&x.isActive&&!M&&R||S>v&&R,b=!1;const I=Array.isArray(C)?C:[C];let N=I.reduce(i(y),{});k===!1&&(N={});const{prevResolvedValues:V={}}=x,D={...V,...N},H=Z=>{w=!0,h.has(Z)&&(b=!0,h.delete(Z)),x.needsAnimating[Z]=!0;const L=t.getValue(Z);L&&(L.liveStyle=!1)};for(const Z in D){const L=N[Z],z=V[Z];if(m.hasOwnProperty(Z))continue;let Y=!1;Pg(L)&&Pg(z)?Y=!OR(L,z):Y=L!==z,Y?L!=null?H(Z):h.add(Z):L!==void 0&&h.has(Z)?H(Z):x.protectedKeys[Z]=!0}x.prevProp=C,x.prevResolvedValues=N,x.isActive&&(m={...m,...N}),r&&t.blockInitialAnimation&&(w=!1),w&&(!(M&&A)||b)&&f.push(...I.map(Z=>({animation:Z,options:{type:y}})))}if(h.size){const S={};if(typeof c.initial!="boolean"){const y=yc(t,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(S.transition=y.transition)}h.forEach(y=>{const x=t.getBaseTarget(y),C=t.getValue(y);C&&(C.liveStyle=!0),S[y]=x??null}),f.push({animation:S})}let _=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(f):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=o(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=uT(),r=!0}}}function r6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!OR(e,t):!1}function hs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uT(){return{animate:hs(!0),whileInView:hs(),whileHover:hs(),whileTap:hs(),whileDrag:hs(),whileFocus:hs(),exit:hs()}}class os{constructor(e){this.isMounted=!1,this.node=e}update(){}}class i6 extends os{constructor(e){super(e),e.animationState||(e.animationState=n6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Tf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let s6=0;class o6 extends os{constructor(){super(...arguments),this.id=s6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const a6={animation:{Feature:i6},exit:{Feature:o6}};function _c(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Gc(t){return{point:{x:t.pageX,y:t.pageY}}}const l6=t=>e=>E0(e)&&t(e,Gc(e));function xo(t,e,n,r){return _c(t,e,l6(n),r)}function jR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function c6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function u6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const FR=1e-4,d6=1-FR,h6=1+FR,UR=.01,f6=0-UR,p6=0+UR;function Wt(t){return t.max-t.min}function m6(t,e,n){return Math.abs(t-e)<=n}function dT(t,e,n,r=.5){t.origin=r,t.originPoint=Fe(e.min,e.max,t.origin),t.scale=Wt(n)/Wt(e),t.translate=Fe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=d6&&t.scale<=h6||isNaN(t.scale))&&(t.scale=1),(t.translate>=f6&&t.translate<=p6||isNaN(t.translate))&&(t.translate=0)}function Ml(t,e,n,r){dT(t.x,e.x,n.x,r?r.originX:void 0),dT(t.y,e.y,n.y,r?r.originY:void 0)}function hT(t,e,n){t.min=n.min+e.min,t.max=t.min+Wt(e)}function g6(t,e,n){hT(t.x,e.x,n.x),hT(t.y,e.y,n.y)}function fT(t,e,n){t.min=e.min-n.min,t.max=t.min+Wt(e)}function Vl(t,e,n){fT(t.x,e.x,n.x),fT(t.y,e.y,n.y)}const pT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Eo=()=>({x:pT(),y:pT()}),mT=()=>({min:0,max:0}),Qe=()=>({x:mT(),y:mT()});function _n(t){return[t("x"),t("y")]}function $p(t){return t===void 0||t===1}function Ug({scale:t,scaleX:e,scaleY:n}){return!$p(t)||!$p(e)||!$p(n)}function gs(t){return Ug(t)||BR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function BR(t){return gT(t.x)||gT(t.y)}function gT(t){return t&&t!=="0%"}function vh(t,e,n){const r=t-n,i=e*r;return n+i}function yT(t,e,n,r,i){return i!==void 0&&(t=vh(t,i,r)),vh(t,n,r)+e}function Bg(t,e=0,n=1,r,i){t.min=yT(t.min,e,n,r,i),t.max=yT(t.max,e,n,r,i)}function $R(t,{x:e,y:n}){Bg(t.x,e.translate,e.scale,e.originPoint),Bg(t.y,n.translate,n.scale,n.originPoint)}const vT=.999999999999,wT=1.0000000000001;function y6(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&So(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$R(t,o)),r&&gs(s.latestValues)&&So(t,s.latestValues))}e.x<wT&&e.x>vT&&(e.x=1),e.y<wT&&e.y>vT&&(e.y=1)}function To(t,e){t.min=t.min+e,t.max=t.max+e}function _T(t,e,n,r,i=.5){const s=Fe(t.min,t.max,i);Bg(t,e,n,s,r)}function So(t,e){_T(t.x,e.x,e.scaleX,e.scale,e.originX),_T(t.y,e.y,e.scaleY,e.scale,e.originY)}function zR(t,e){return jR(u6(t.getBoundingClientRect(),e))}function v6(t,e,n){const r=zR(t,n),{scroll:i}=e;return i&&(To(r.x,i.offset.x),To(r.y,i.offset.y)),r}const xT=(t,e)=>Math.abs(t-e);function w6(t,e){const n=xT(t.x,e.x),r=xT(t.y,e.y);return Math.sqrt(n**2+r**2)}class HR{constructor(e,n,{transformPagePoint:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Hp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=w6(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:m}=d,{timestamp:v}=pt;this.history.push({...m,timestamp:v});const{onStart:_,onMove:S}=this.handlers;f||(_&&_(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{if(this.index=TT(d.currentTarget),d.target instanceof Element&&d.target.hasPointerCapture&&d.pointerId!==void 0)try{if(!d.target.hasPointerCapture(d.pointerId))return}catch{}this.lastMoveEvent=d,this.lastMoveEventInfo=zp(f,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{Nl(d,"release"),this.end();const{onEnd:h,onSessionEnd:m,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Hp(d.type==="pointercancel"||d.type==="lostpointercapture"?this.lastMoveEventInfo:zp(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,_),m&&m(d,_)},!E0(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r;const s=Gc(e),o=zp(s,this.transformPagePoint),{point:a}=o,{timestamp:l}=pt;this.history=[{...a,timestamp:l}];const{onSessionStart:c}=n;c&&c(e,Hp(o,this.history)),Nl(e,"set"),this.removeListeners=Kc(xo(e.currentTarget,"pointermove",this.handlePointerMove),xo(e.currentTarget,"pointerup",this.handlePointerUp),xo(e.currentTarget,"pointercancel",this.handlePointerUp),xo(e.currentTarget,"lostpointercapture",(d,f)=>{TT(d.currentTarget)!==this.index?Nl(d,"set"):this.handlePointerUp(d,f)}))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zi(this.updatePoint)}}function zp(t,e){return e?{point:e(t.point)}:t}function ET(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hp({point:t},e){return{point:t,delta:ET(t,WR(e)),offset:ET(t,_6(e)),velocity:x6(e,.1)}}function _6(t){return t[0]}function WR(t){return t[t.length-1]}function x6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=WR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Mr(e)));)n--;if(!r)return{x:0,y:0};const s=Vr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function TT(t){return t.parentNode?Array.from(t.parentNode.children).indexOf(t):-1}function E6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Fe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Fe(n,t,r.max):Math.min(t,n)),t}function ST(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function T6(t,{top:e,left:n,bottom:r,right:i}){return{x:ST(t.x,n,i),y:ST(t.y,e,r)}}function bT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function S6(t,e){return{x:bT(t.x,e.x),y:bT(t.y,e.y)}}function b6(t,e){let n=.5;const r=Wt(t),i=Wt(e);return i>r?n=da(e.min,e.max-r,t.min):r>i&&(n=da(t.min,t.max-i,e.min)),Kr(0,1,n)}function C6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $g=.35;function A6(t=$g){return t===!1?t=0:t===!0&&(t=$g),{x:CT(t,"left","right"),y:CT(t,"top","bottom")}}function CT(t,e,n){return{min:AT(t,e),max:AT(t,n)}}function AT(t,e){return typeof t=="number"?t:t[e]||0}const I6=new WeakMap;class P6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gc(d).point)},s=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:v}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=E$(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_n(S=>{let y=this.getAxisMotionValue(S).get()||0;if(ur.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const C=x.layout.layoutBox[S];C&&(y=Wt(C)*(parseFloat(y)/100))}}this.originPoint[S]=y}),v&&Re.postRender(()=>v(d,f)),Ng(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:v,onDrag:_}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:S}=f;if(m&&this.currentDirection===null){this.currentDirection=R6(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),_&&_(d,f)},a=(d,f)=>this.stop(d,f),l=()=>_n(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new HR(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Re.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Hu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=E6(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&wo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=T6(i.layoutBox,n):this.constraints=!1,this.elastic=A6(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&_n(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=C6(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=v6(r,i.root,this.visualElement.getTransformPagePoint());let o=S6(i.layout.layoutBox,s);if(n){const a=n(c6(o));this.hasMutatedConstraints=!!a,a&&(o=jR(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=_n(d=>{if(!Hu(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Ng(this.visualElement,e),r.start(M0(e,r,0,n,this.visualElement,!1))}stopAnimation(){_n(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_n(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){_n(n=>{const{drag:r}=this.getProps();if(!Hu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Fe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_n(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=b6({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_n(o=>{if(!Hu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Fe(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;I6.set(this.visualElement,this);const e=this.visualElement.current,n=xo(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();wo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Re.read(r);const o=_c(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(_n(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=$g,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Hu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function R6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class k6 extends os{constructor(e){super(e),this.removeGroupControls=mn,this.removeListeners=mn,this.controls=new P6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const IT=t=>(e,n)=>{t&&Re.postRender(()=>t(e,n))};class N6 extends os{constructor(){super(...arguments),this.removePointerDownListener=mn}onPointerDown(e){this.session=new HR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:IT(e),onStart:IT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Re.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=xo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ie.test(t))t=parseFloat(t);else return t;const n=PT(t,e.target.x),r=PT(t,e.target.y);return`${n}% ${r}%`}},D6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=es.parse(t);if(i.length>5)return r;const s=es.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Fe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class M6 extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;F9(V6),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),vd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Re.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),l0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qR(t){const[e,n]=RP(),r=T.useContext(e0);return E.jsx(M6,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(LP),isPresent:e,safeToRemove:n})}const V6={borderRadius:{...sl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sl,borderTopRightRadius:sl,borderBottomLeftRadius:sl,borderBottomRightRadius:sl,boxShadow:D6};function O6(t,e,n){const r=Ot(t)?t:vc(t);return r.start(M0("",r,e,n)),r.animation}function L6(t){return t instanceof SVGElement&&t.tagName!=="svg"}const j6=(t,e)=>t.depth-e.depth;class F6{constructor(){this.children=[],this.isDirty=!1}add(e){T0(this.children,e),this.isDirty=!0}remove(e){S0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(j6),this.isDirty=!1,this.children.forEach(e)}}function U6(t,e){const n=dr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Zi(r),t(s-e))};return Re.read(r,!0),()=>Zi(r)}const KR=["TopLeft","TopRight","BottomLeft","BottomRight"],B6=KR.length,RT=t=>typeof t=="string"?parseFloat(t):t,kT=t=>typeof t=="number"||ie.test(t);function $6(t,e,n,r,i,s){i?(t.opacity=Fe(0,n.opacity!==void 0?n.opacity:1,z6(r)),t.opacityExit=Fe(e.opacity!==void 0?e.opacity:1,0,H6(r))):s&&(t.opacity=Fe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<B6;o++){const a=`border${KR[o]}Radius`;let l=NT(e,a),c=NT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||kT(l)===kT(c)?(t[a]=Math.max(Fe(RT(l),RT(c),r),0),(ur.test(c)||ur.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Fe(e.rotate||0,n.rotate||0,r))}function NT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const z6=GR(0,.5,hR),H6=GR(.5,.95,mn);function GR(t,e,n){return r=>r<t?0:r>e?1:n(da(t,e,r))}function DT(t,e){t.min=e.min,t.max=e.max}function wn(t,e){DT(t.x,e.x),DT(t.y,e.y)}function MT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function VT(t,e,n,r,i){return t-=e,t=vh(t,1/n,r),i!==void 0&&(t=vh(t,1/i,r)),t}function W6(t,e=0,n=1,r=.5,i,s=t,o=t){if(ur.test(e)&&(e=parseFloat(e),e=Fe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Fe(s.min,s.max,r);t===s&&(a-=e),t.min=VT(t.min,e,n,a,i),t.max=VT(t.max,e,n,a,i)}function OT(t,e,[n,r,i],s,o){W6(t,e[n],e[r],e[i],e.scale,s,o)}const q6=["x","scaleX","originX"],K6=["y","scaleY","originY"];function LT(t,e,n,r){OT(t.x,e,q6,n?n.x:void 0,r?r.x:void 0),OT(t.y,e,K6,n?n.y:void 0,r?r.y:void 0)}function jT(t){return t.translate===0&&t.scale===1}function QR(t){return jT(t.x)&&jT(t.y)}function FT(t,e){return t.min===e.min&&t.max===e.max}function G6(t,e){return FT(t.x,e.x)&&FT(t.y,e.y)}function UT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function YR(t,e){return UT(t.x,e.x)&&UT(t.y,e.y)}function BT(t){return Wt(t.x)/Wt(t.y)}function $T(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Q6{constructor(){this.members=[]}add(e){T0(this.members,e),e.scheduleRender()}remove(e){if(S0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Y6(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Wp=["","X","Y","Z"],X6={visibility:"hidden"},zT=1e3;let J6=0;function qp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function XR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Re,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&XR(r)}function JR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=J6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tH),this.nodes.forEach(oH),this.nodes.forEach(aH),this.nodes.forEach(nH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new F6)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new b0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=L6(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=U6(h,250),vd.hasAnimatedSinceResize&&(vd.hasAnimatedSinceResize=!1,this.nodes.forEach(WT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||hH,{onLayoutAnimationStart:S,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!YR(this.targetLayout,v),C=!h&&m;if(this.options.layoutRoot||this.resumeFrom||C||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,C);const R={...w0(_,"layout"),onPlay:S,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else h||WT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HT);return}this.isUpdating||this.nodes.forEach(iH),this.isUpdating=!1,this.nodes.forEach(sH),this.nodes.forEach(Z6),this.nodes.forEach(eH),this.clearAllSnapshots();const a=dr.now();pt.delta=Kr(0,1e3/60,a-pt.timestamp),pt.timestamp=a,pt.isProcessing=!0,Op.update.process(pt),Op.preRender.process(pt),Op.render.process(pt),pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,l0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rH),this.sharedNodes.forEach(cH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wt(this.snapshot.measuredBox.x)&&!Wt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!QR(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||gs(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),fH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Qe();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(pH))){const{scroll:d}=this.root;d&&(To(l.x,d.offset.x),To(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Qe();if(wn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&wn(l,o),To(l.x,f.offset.x),To(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=Qe();wn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&So(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),gs(d.latestValues)&&So(l,d.latestValues)}return gs(this.latestValues)&&So(l,this.latestValues),l}removeTransform(o){const a=Qe();wn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!gs(c.latestValues))continue;Ug(c.latestValues)&&c.updateSnapshot();const d=Qe(),f=c.measurePageBox();wn(d,f),LT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return gs(this.latestValues)&&LT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=pt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Vl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),g6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wn(this.target,this.layout.layoutBox),$R(this.target,this.targetDelta)):wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Vl(this.relativeTargetOrigin,this.target,m.target),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ug(this.parent.latestValues)||BR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===pt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;wn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;y6(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Qe());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(MT(this.prevProjectionDelta.x,this.projectionDelta.x),MT(this.prevProjectionDelta.y,this.projectionDelta.y)),Ml(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!$T(this.projectionDelta.x,this.prevProjectionDelta.x)||!$T(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Eo(),this.projectionDelta=Eo(),this.projectionDeltaWithTransform=Eo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Eo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Qe(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,_=m!==v,S=this.getStack(),y=!S||S.members.length<=1,x=!!(_&&!y&&this.options.crossfade===!0&&!this.path.some(dH));this.animationProgress=0;let C;this.mixTargetDelta=R=>{const k=R/1e3;qT(f.x,o.x,k),qT(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vl(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uH(this.relativeTarget,this.relativeTargetOrigin,h,k),C&&G6(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Qe()),wn(C,this.relativeTarget)),_&&(this.animationValues=d,$6(d,c,this.latestValues,k,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{vd.hasAnimatedSinceResize=!0,this.currentAnimation=O6(0,zT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&ZR(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Qe();const f=Wt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Wt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}wn(a,l),So(a,d),Ml(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Q6),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&qp("z",o,c,this.animationValues);for(let d=0;d<Wp.length;d++)qp(`rotate${Wp[d]}`,o,c,this.animationValues),qp(`skew${Wp[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return X6;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=gd(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=gd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!gs(this.latestValues)&&(_.transform=d?d({},""):"none",this.hasProjected=!1),_}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=Y6(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const _ in mc){if(h[_]===void 0)continue;const{correct:S,applyTo:y,isCSSVariable:x}=mc[_],C=c.transform==="none"?h[_]:S(h[_],f);if(y){const R=y.length;for(let k=0;k<R;k++)c[y[k]]=C}else x?this.options.visualElement.renderState.vars[_]=C:c[_]=C}return this.options.layoutId&&(c.pointerEvents=f===this?gd(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(HT),this.root.sharedNodes.clear()}}}function Z6(t){t.updateLayout()}function eH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?_n(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=Wt(h);h.min=r[f].min,h.max=h.min+m}):ZR(s,n.layoutBox,r)&&_n(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=Wt(r[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=Eo();Ml(a,r,n.layoutBox);const l=Eo();o?Ml(l,t.applyTransform(i,!0),n.measuredBox):Ml(l,r,n.layoutBox);const c=!QR(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const v=Qe();Vl(v,n.layoutBox,h.layoutBox);const _=Qe();Vl(_,r,m.layoutBox),YR(v,_)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function tH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rH(t){t.clearSnapshot()}function HT(t){t.clearMeasurements()}function iH(t){t.isLayoutDirty=!1}function sH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function WT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function oH(t){t.resolveTargetDelta()}function aH(t){t.calcProjection()}function lH(t){t.resetSkewAndRotation()}function cH(t){t.removeLeadSnapshot()}function qT(t,e,n){t.translate=Fe(e.translate,0,n),t.scale=Fe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function KT(t,e,n,r){t.min=Fe(e.min,n.min,r),t.max=Fe(e.max,n.max,r)}function uH(t,e,n,r){KT(t.x,e.x,n.x,r),KT(t.y,e.y,n.y,r)}function dH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hH={duration:.45,ease:[.4,0,.1,1]},GT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),QT=GT("applewebkit/")&&!GT("chrome/")?Math.round:mn;function YT(t){t.min=QT(t.min),t.max=QT(t.max)}function fH(t){YT(t.x),YT(t.y)}function ZR(t,e,n){return t==="position"||t==="preserve-aspect"&&!m6(BT(e),BT(n),.2)}function pH(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const mH=JR({attachResizeListener:(t,e)=>_c(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kp={current:void 0},ek=JR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kp.current){const t=new mH({});t.mount(window),t.setOptions({layoutScroll:!0}),Kp.current=t}return Kp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),gH={pan:{Feature:N6},drag:{Feature:k6,ProjectionNode:ek,MeasureLayout:qR}};function XT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Re.postRender(()=>s(e,Gc(e)))}class yH extends os{mount(){const{current:e}=this.node;e&&(this.unmount=g$(e,(n,r)=>(XT(this.node,r,"Start"),i=>XT(this.node,i,"End"))))}unmount(){}}class vH extends os{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kc(_c(this.node.current,"focus",()=>this.onFocus()),_c(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Re.postRender(()=>s(e,Gc(e)))}class wH extends os{mount(){const{current:e}=this.node;e&&(this.unmount=_$(e,(n,r)=>(JT(this.node,r,"Start"),(i,{success:s})=>JT(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zg=new WeakMap,Gp=new WeakMap,_H=t=>{const e=zg.get(t.target);e&&e(t)},xH=t=>{t.forEach(_H)};function EH({root:t,...e}){const n=t||document;Gp.has(n)||Gp.set(n,{});const r=Gp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(xH,{root:t,...e})),r[i]}function TH(t,e,n){const r=EH(e);return zg.set(t,n),r.observe(t),()=>{zg.delete(t),r.unobserve(t)}}const SH={some:0,all:1};class bH extends os{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:SH[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return TH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(CH(e,n))&&this.startObserver()}unmount(){}}function CH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const AH={inView:{Feature:bH},tap:{Feature:wH},focus:{Feature:vH},hover:{Feature:yH}},IH={layout:{ProjectionNode:ek,MeasureLayout:qR}},Hg={current:null},tk={current:!1};function PH(){if(tk.current=!0,!!r0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hg.current=t.matches;t.addListener(e),e()}else Hg.current=!1}const RH=[...CR,Nt,es],kH=t=>RH.find(bR(t)),NH=new WeakMap;function DH(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ot(i))t.addValue(r,i);else if(Ot(s))t.addValue(r,vc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,vc(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ZT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=k0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=dr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Re.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Sf(n),this.isVariantNode=VP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const v=h[m];l[m]!==void 0&&Ot(v)&&v.set(l[m],!1)}}mount(e){this.current=e,NH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),tk.current||PH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zi(this.notifyUpdate),Zi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ys.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Re.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ha){const n=ha[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ZT.length;r++){const i=ZT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=DH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(TR(i)||pR(i))?i=parseFloat(i):!kH(i)&&es.test(n)&&(i=_R(e,n)),this.setBaseTarget(e,Ot(i)?i.get():i)),Ot(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=y0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ot(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new b0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class nk extends MH{constructor(){super(...arguments),this.KeyframeResolver=AR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ot(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function VH(t){return window.getComputedStyle(t)}class OH extends nk{constructor(){super(...arguments),this.type="html",this.renderInstance=qP}readValueFromInstance(e,n){if(Ys.has(n)){const r=R0(n);return r&&r.default||0}else{const r=VH(e),i=(c0(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zR(e,n)}build(e,n,r){h0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return v0(e,n,r)}}class LH extends nk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&WP(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ys.has(n)){const r=R0(n);return r&&r.default||0}return n=KP.has(n)?n:a0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return QP(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Re.postRender(this.updateDimensions)}build(e,n,r){m0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){GP(e,n,r,i)}mount(e){this.isSVGTag=g0(e.tagName),super.mount(e)}}const jH=(t,e)=>p0(t)?new LH(e):new OH(e,{allowProjection:t!==T.Fragment}),FH=c$({...a6,...AH,...gH,...IH},jH),K=b9(FH),UH=({onSelectCommunity:t,onBack:e})=>{const{communities:n,isLoading:r,copyShareableLinkToClipboard:i,songs:s}=Qs(),[o,a]=T.useState(null),[l,c]=T.useState(""),[d,f]=T.useState(""),h=w=>{a(o===w?null:w)},m=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),v=w=>s.filter(b=>b.communityCode===w).length,_=w=>{if(w.preventDefault(),!d.trim())return;const b=n.find(I=>I.code.toLowerCase()===d.trim().toLowerCase()||I.id===d.trim());b?t(b.id):Ce({title:"Community not found",description:"Please check the community code and try again.",variant:"destructive"})},S=n.filter(w=>w.name.toLowerCase().includes(l.toLowerCase())||w.code.toLowerCase().includes(l.toLowerCase())),y={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.15,delayChildren:.1}}},x={hidden:{y:40,opacity:0,scale:.9},visible:{y:0,opacity:1,scale:1,transition:{type:"spring",stiffness:200,damping:20}}},C={closed:{borderRadius:"12px",backgroundColor:"rgba(18, 18, 18, 0.8)",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)"},expanded:{borderRadius:"12px",backgroundColor:"rgba(18, 18, 18, 0.8)",boxShadow:"0px 8px 20px rgba(0, 0, 0, 0.15)"},hover:{y:-5,boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.2)",transition:{duration:.2}},tap:{scale:.98,boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)",transition:{duration:.1}}},R={closed:{height:0,opacity:0,transition:{duration:.4,ease:[.04,.62,.23,.98]}},expanded:{height:"auto",opacity:1,transition:{duration:.5,ease:[.04,.62,.23,.98]}}},k={closed:{rotate:0,transition:{duration:.2}},expanded:{rotate:180,transition:{duration:.2}}},M={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},A={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{delay:.2,duration:.5,ease:"easeOut"}}};return E.jsxs("div",{className:"w-full max-w-xl mx-auto",children:[E.jsx("div",{className:"flex justify-between items-center mb-6",children:E.jsx("h2",{className:"tracking-tight text-gray-200 text-left mx-0 text-xl font-extrabold",children:"Available Communities"})}),E.jsxs(K.div,{className:"mb-6",initial:"hidden",animate:"visible",variants:M,children:[E.jsxs("div",{className:"relative mb-4",children:[E.jsx(Km,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-music-textSecondary",size:18}),E.jsx(K.input,{type:"text",placeholder:"Search communities or enter code...",className:"w-full bg-black/20 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:ring-1 focus:ring-music-accent transition-all duration-300",value:l,onChange:w=>c(w.target.value),whileFocus:{boxShadow:"0 0 0 2px rgba(74, 222, 128, 0.2)",borderColor:"rgba(74, 222, 128, 0.5)"}})]}),E.jsxs(K.form,{onSubmit:_,className:"flex space-x-2",variants:A,children:[E.jsx(K.input,{type:"text",placeholder:"Enter community code...",className:"flex-1 bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-1 focus:ring-music-accent transition-all duration-300",value:d,onChange:w=>f(w.target.value),whileFocus:{boxShadow:"0 0 0 2px rgba(74, 222, 128, 0.2)",borderColor:"rgba(74, 222, 128, 0.5)"}}),E.jsx(K.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"premium-button py-2 px-4 font-normal text-base mx-0",children:"Join"})]})]}),E.jsx(K.div,{className:"space-y-4 pb-4",variants:y,initial:"hidden",animate:"visible",children:r?Array.from({length:3}).map((w,b)=>E.jsxs(K.div,{className:"bg-[#121212] rounded-xl p-4 animate-pulse",variants:x,custom:b,children:[E.jsx("div",{className:"h-6 bg-white/10 rounded w-3/4 mb-3"}),E.jsx("div",{className:"h-4 bg-white/10 rounded w-1/2 mb-2"})]},`skeleton-${b}`)):S.length===0?E.jsxs(K.div,{className:"bg-[#121212] rounded-xl p-8 text-center",variants:x,children:[E.jsx(K.div,{initial:{opacity:.4,scale:.9},animate:{opacity:[.4,.6,.4],scale:[.9,1,.9],transition:{duration:3,repeat:1/0,repeatType:"reverse"}},children:E.jsx(ea,{size:48,className:"mx-auto mb-3 opacity-40"})}),E.jsx("p",{className:"text-music-textSecondary",children:"No communities found. Try a different search term or create a new community."})]}):S.map((w,b)=>E.jsx(K.div,{className:"overflow-hidden",variants:x,custom:b,layout:!0,children:E.jsxs(K.div,{className:"bg-[#121212] rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300",variants:C,initial:"closed",animate:o===w.id?"expanded":"closed",whileHover:o!==w.id?"hover":void 0,whileTap:"tap",layout:!0,children:[E.jsxs(K.div,{className:"p-4 cursor-pointer flex flex-col",onClick:()=>h(w.id),layout:!0,children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx(K.h3,{className:"text-lg font-medium",initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:b*.05+.1},children:w.name}),E.jsx(K.div,{variants:k,initial:"closed",animate:o===w.id?"expanded":"closed",children:E.jsx(pM,{size:20,className:"text-gray-400"})})]}),E.jsxs("div",{className:"flex items-center text-gray-400 mt-1.5 text-sm",children:[E.jsx(fM,{size:14,className:"mr-1.5"}),E.jsxs("span",{children:["Created ",m(w.creationDate)]})]})]}),E.jsx(Ia,{children:o===w.id&&E.jsx(K.div,{className:"bg-[#181818] border-t border-white/5",initial:"closed",animate:"expanded",exit:"closed",variants:R,layout:!0,children:E.jsxs("div",{className:"p-5",children:[E.jsx(K.p,{className:"text-gray-400 mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:"Discover the best music from around the world"}),E.jsxs(K.div,{className:"flex flex-wrap gap-3 mb-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[E.jsxs(K.div,{className:"bg-black/30 rounded-full px-4 py-2 flex items-center",whileHover:{scale:1.05,backgroundColor:"rgba(0, 0, 0, 0.4)"},children:[E.jsx(ea,{size:16,className:"mr-2 text-gray-400"}),E.jsxs("span",{children:[w.members," members"]})]}),E.jsxs(K.div,{className:"bg-black/30 rounded-full px-4 py-2 flex items-center",whileHover:{scale:1.05,backgroundColor:"rgba(0, 0, 0, 0.4)"},children:[E.jsx(Zo,{size:16,className:"mr-2 text-gray-400"}),E.jsxs("span",{children:[v(w.code)," songs shared"]})]})]}),E.jsxs(K.button,{className:"bg-green-500 hover:bg-green-600 text-white w-full py-3 rounded-full flex items-center justify-center",onClick:()=>t(w.id),whileHover:{scale:1.03,boxShadow:"0px 5px 15px rgba(74, 222, 128, 0.3)"},whileTap:{scale:.97},initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{delay:.3,type:"spring",stiffness:400,damping:15}},children:[E.jsx(EM,{size:18,className:"mr-2"}),"Join Community"]})]})})})]})},w.id))})]})};var BH="Expected a function",e1=NaN,$H="[object Symbol]",zH=/^\s+|\s+$/g,HH=/^[-+]0x[0-9a-f]+$/i,WH=/^0b[01]+$/i,qH=/^0o[0-7]+$/i,KH=parseInt,GH=typeof fu=="object"&&fu&&fu.Object===Object&&fu,QH=typeof self=="object"&&self&&self.Object===Object&&self,YH=GH||QH||Function("return this")(),XH=Object.prototype,JH=XH.toString,ZH=Math.max,e8=Math.min,Qp=function(){return YH.Date.now()};function t8(t,e,n){var r,i,s,o,a,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(BH);e=t1(e)||0,Wg(n)&&(d=!!n.leading,f="maxWait"in n,s=f?ZH(t1(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function m(M){var A=r,w=i;return r=i=void 0,c=M,o=t.apply(w,A),o}function v(M){return c=M,a=setTimeout(y,e),d?m(M):o}function _(M){var A=M-l,w=M-c,b=e-A;return f?e8(b,s-w):b}function S(M){var A=M-l,w=M-c;return l===void 0||A>=e||A<0||f&&w>=s}function y(){var M=Qp();if(S(M))return x(M);a=setTimeout(y,_(M))}function x(M){return a=void 0,h&&r?m(M):(r=i=void 0,o)}function C(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function R(){return a===void 0?o:x(Qp())}function k(){var M=Qp(),A=S(M);if(r=arguments,i=this,l=M,A){if(a===void 0)return v(l);if(f)return a=setTimeout(y,e),m(l)}return a===void 0&&(a=setTimeout(y,e)),o}return k.cancel=C,k.flush=R,k}function Wg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function n8(t){return!!t&&typeof t=="object"}function r8(t){return typeof t=="symbol"||n8(t)&&JH.call(t)==$H}function t1(t){if(typeof t=="number")return t;if(r8(t))return e1;if(Wg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Wg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(zH,"");var n=WH.test(t);return n||qH.test(t)?KH(t.slice(2),n?2:8):HH.test(t)?e1:+t}var i8=t8;const wh=qg(i8),s8=({onComplete:t,onBack:e})=>{const{createCommunity:n,isLoading:r,checkUsernameExists:i}=Qs(),[s,o]=T.useState(""),[a,l]=T.useState(""),[c,d]=T.useState({communityName:"",username:""}),[f,h]=T.useState(!1),m=3,v=3,_=/^[a-zA-Z0-9_]+$/,S=T.useCallback(wh(async C=>{if(C.length>=v&&_.test(C))try{const R=await i(C);h(R)}catch(R){console.error("Error checking username:",R)}},500),[i]),y=T.useCallback(wh(()=>{const C={communityName:"",username:""};let R=!0;return s.trim()?s.length<m&&(C.communityName=`Community name must be at least ${m} characters`,R=!1):(C.communityName="Community name is required",R=!1),a.trim()?a.length<v?(C.username=`Username must be at least ${v} characters`,R=!1):_.test(a)||(C.username="Username can only contain letters, numbers, and underscores",R=!1):(C.username="Username is required",R=!1),d(C),R},300),[s,a]);T.useEffect(()=>{y()},[s,a,y]),T.useEffect(()=>{S(a)},[a,S]);const x=async C=>{if(C.preventDefault(),!!y())try{await n(s,a);const R=f?`Your community "${s}" has been created and you've joined as a returning user.`:`Your community "${s}" has been created and saved to your account.`;Ce({title:"Community created",description:R}),t()}catch(R){console.error("Error creating community:",R),Ce({title:"Failed to create community",description:"There was an error creating your community. Please try again.",variant:"destructive"})}};return E.jsx("div",{className:"w-full max-w-md mx-auto",children:E.jsxs("div",{className:"bg-music-card rounded-xl p-6",children:[E.jsxs("h2",{className:"text-2xl font-medium mb-4 flex items-center",children:[E.jsx(Ky,{size:24,className:"mr-2 text-music-accent"}),"Create a New Community"]}),E.jsxs("form",{onSubmit:x,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"communityName",className:"block text-sm font-medium text-music-textSecondary mb-1",children:"Community Name"}),E.jsx("input",{id:"communityName",type:"text",value:s,onChange:C=>o(C.target.value),placeholder:"e.g., Jazz Enthusiasts",className:"fancy-input",disabled:r,"aria-invalid":!!c.communityName,"aria-describedby":c.communityName?"communityName-error":void 0}),c.communityName&&E.jsx("p",{id:"communityName-error",className:"text-red-400 text-xs mt-1",children:c.communityName})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-music-textSecondary mb-1",children:"Your Username"}),E.jsx("input",{id:"username",type:"text",value:a,onChange:C=>l(C.target.value),placeholder:"e.g., MusicLover42",className:"fancy-input",disabled:r,"aria-invalid":!!c.username,"aria-describedby":c.username?"username-error":void 0}),c.username&&E.jsx("p",{id:"username-error",className:"text-red-400 text-xs mt-1",children:c.username}),f&&!c.username&&E.jsx("p",{className:"text-green-400 text-xs mt-1",children:"Existing username detected - you'll join as a returning user"})]}),E.jsx("button",{type:"submit",disabled:r,className:"premium-button w-full flex items-center justify-center mt-4",children:r?E.jsxs(E.Fragment,{children:[E.jsx(qy,{size:18,className:"mr-2 animate-spin"}),"Creating..."]}):E.jsx(E.Fragment,{children:"Create Community"})}),e&&E.jsx("button",{type:"button",onClick:e,className:"premium-button-outline w-full mt-2",children:"Back"})]})]})})},o8=({communityId:t,onComplete:e,onBack:n})=>{const{joinCommunity:r,communities:i,isLoading:s,checkUsernameExists:o}=Qs(),[a,l]=T.useState(""),[c,d]=T.useState(""),[f,h]=T.useState(!1),[m,v]=T.useState(!1),_=i.find(w=>w.id===t),S=3,y=/^[a-zA-Z0-9_]+$/,x=T.useCallback(wh(async w=>{if(w.length>=S&&y.test(w)){h(!0);try{const b=await o(w);v(b),b&&d("")}catch(b){console.error("Error checking username:",b)}finally{h(!1)}}},500),[o]),C=T.useCallback(wh(()=>{if(a.trim()){if(a.length<S)return d(`Username must be at least ${S} characters`),!1;if(!y.test(a))return d("Username can only contain letters, numbers, and underscores"),!1}else return d("Username is required"),!1;return d(""),!0},300),[a]);T.useEffect(()=>{h(!0),C(),x(a),h(!1)},[a,C,x]);const R=async w=>{if(w.preventDefault(),!!C())try{await r(t,a),Ce(m?{title:"Welcome back!",description:`You've rejoined "${_==null?void 0:_.name}" as an existing user.`}:{title:"Joined community",description:`You've successfully joined "${_==null?void 0:_.name}".`}),e()}catch{Ce({title:"Failed to join community",description:"There was an error joining the community. Please try again.",variant:"destructive"})}},k={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}},exit:{opacity:0,y:-20,transition:{duration:.3}}},M={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}},A={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95,transition:{duration:.1}}};return E.jsx(K.div,{className:"w-full max-w-md mx-auto",initial:"hidden",animate:"visible",exit:"exit",variants:k,children:E.jsxs(K.div,{className:"bg-music-card rounded-xl p-6",variants:M,children:[E.jsxs(K.h2,{className:"text-2xl font-medium mb-4 flex items-center text-music-textPrimary",variants:M,children:[E.jsx(Ky,{size:24,className:"mr-2 text-music-accent"}),"Join ",(_==null?void 0:_.name)||"Community"]}),E.jsxs("form",{onSubmit:R,className:"space-y-4",children:[E.jsxs(K.div,{variants:M,children:[E.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-music-textSecondary mb-1",children:"Choose a Username"}),E.jsx(K.input,{id:"username",type:"text",value:a,onChange:w=>l(w.target.value),placeholder:"e.g., MusicLover42",className:"fancy-input",disabled:s,"aria-invalid":!!c,"aria-describedby":c?"username-error":void 0,whileFocus:{scale:1.01,boxShadow:"0 0 0 2px rgba(29, 185, 84, 0.3)"},transition:{duration:.2}}),c&&E.jsx(K.p,{id:"username-error",className:"text-red-400 text-xs mt-1",initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},children:c}),m&&!c&&E.jsx(K.p,{className:"text-green-400 text-xs mt-1",initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},children:"Existing username detected - you'll join as a returning user"})]}),E.jsxs(K.div,{className:"flex gap-3 pt-2",variants:M,children:[E.jsx(K.button,{type:"button",onClick:n,disabled:s,className:"premium-button-outline flex-1",whileHover:"hover",whileTap:"tap",variants:A,children:"Back"}),E.jsx(K.button,{type:"submit",disabled:s||f,className:"premium-button flex-1 flex items-center justify-center",whileHover:"hover",whileTap:"tap",variants:A,children:s?E.jsxs(E.Fragment,{children:[E.jsx(qy,{size:18,className:"mr-2 animate-spin"}),"Joining..."]}):E.jsx(E.Fragment,{children:m?"Rejoin":"Join Now"})})]})]})]})})},a8=(t="up",e=0)=>({hidden:{y:t==="up"?40:t==="down"?-40:0,x:t==="left"?40:t==="right"?-40:0,opacity:0},show:{y:0,x:0,opacity:1,transition:{type:"spring",duration:1.25,delay:e,ease:[.25,.1,.25,1]}}}),l8=(t=.1,e=0)=>({hidden:{},show:{transition:{staggerChildren:t,delayChildren:e}}}),c8=(t=0)=>({hidden:{scale:.9,opacity:0},show:{scale:1,opacity:1,transition:{type:"spring",duration:1.1,delay:t,ease:[.25,.1,.25,1]}}}),u8=(t,e,n,r)=>({hidden:{x:t==="left"?"-100%":t==="right"?"100%":0,y:t==="up"?"100%":t==="down"?"-100%":0},show:{x:0,y:0,transition:{type:e,delay:n,duration:r,ease:"easeOut"}}}),sn=({children:t,className:e="",variants:n,initial:r="hidden",animate:i="show",exit:s="hidden",transition:o,delay:a=0,direction:l="up",type:c="spring",staggerChildren:d=.1,duration:f=.5,containerVariants:h="fade"})=>{let m=n;if(!n)switch(h){case"fade":m=a8(l,a);break;case"scale":m=c8(a);break;case"slide":m=u8(l,c,a,f);break;case"stagger":m=l8(d,a);break;default:m={}}return E.jsx(K.div,{className:e,variants:m,initial:r,animate:i,exit:s,transition:o,children:t})};var d8=T.createContext(void 0);function h8(t){const e=T.useContext(d8);return t||e||"ltr"}function f8(t,[e,n]){return Math.min(n,Math.max(e,t))}function p8(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var V0="ScrollArea",[rk,aW]=By(V0),[m8,In]=rk(V0),ik=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=T.useState(null),[c,d]=T.useState(null),[f,h]=T.useState(null),[m,v]=T.useState(null),[_,S]=T.useState(null),[y,x]=T.useState(0),[C,R]=T.useState(0),[k,M]=T.useState(!1),[A,w]=T.useState(!1),b=xt(e,N=>l(N)),I=h8(i);return E.jsx(m8,{scope:n,type:r,dir:I,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:k,onScrollbarXEnabledChange:M,scrollbarY:_,onScrollbarYChange:S,scrollbarYEnabled:A,onScrollbarYEnabledChange:w,onCornerWidthChange:x,onCornerHeightChange:R,children:E.jsx(lt.div,{dir:I,...o,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":C+"px",...t.style}})})});ik.displayName=V0;var sk="ScrollAreaViewport",ok=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:s,...o}=t,a=In(sk,n),l=T.useRef(null),c=xt(e,l,a.onViewportChange);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),E.jsx(lt.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:b8({asChild:i,children:r},d=>E.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});ok.displayName=sk;var mr="ScrollAreaScrollbar",O0=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=In(mr,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return T.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?E.jsx(g8,{...r,ref:e,forceMount:n}):i.type==="scroll"?E.jsx(y8,{...r,ref:e,forceMount:n}):i.type==="auto"?E.jsx(ak,{...r,ref:e,forceMount:n}):i.type==="always"?E.jsx(L0,{...r,ref:e}):null});O0.displayName=mr;var g8=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=In(mr,t.__scopeScrollArea),[s,o]=T.useState(!1);return T.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),E.jsx(Ws,{present:n||s,children:E.jsx(ak,{"data-state":s?"visible":"hidden",...r,ref:e})})}),y8=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=In(mr,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Af(()=>l("SCROLL_END"),100),[a,l]=p8("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return T.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),T.useEffect(()=>{const c=i.viewport,d=s?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const m=c[d];f!==m&&(l("SCROLL"),o()),f=m};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,s,l,o]),E.jsx(Ws,{present:n||a!=="hidden",children:E.jsx(L0,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ie(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ie(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),ak=T.forwardRef((t,e)=>{const n=In(mr,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=T.useState(!1),a=t.orientation==="horizontal",l=Af(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:d)}},10);return pa(n.viewport,l),pa(n.content,l),E.jsx(Ws,{present:r||s,children:E.jsx(L0,{"data-state":s?"visible":"hidden",...i,ref:e})})}),L0=T.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=In(mr,t.__scopeScrollArea),s=T.useRef(null),o=T.useRef(0),[a,l]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=hk(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return T8(h,o.current,a,m)}return n==="horizontal"?E.jsx(v8,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,m=n1(h,a,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?E.jsx(w8,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,m=n1(h,a);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),v8=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=In(mr,t.__scopeScrollArea),[o,a]=T.useState(),l=T.useRef(null),c=xt(e,l,s.onScrollbarXChange);return T.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),E.jsx(ck,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Cf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),pk(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:xh(o.paddingLeft),paddingEnd:xh(o.paddingRight)}})}})}),w8=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=In(mr,t.__scopeScrollArea),[o,a]=T.useState(),l=T.useRef(null),c=xt(e,l,s.onScrollbarYChange);return T.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),E.jsx(ck,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Cf(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),pk(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:xh(o.paddingTop),paddingEnd:xh(o.paddingBottom)}})}})}),[_8,lk]=rk(mr),ck=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,m=In(mr,n),[v,_]=T.useState(null),S=xt(e,b=>_(b)),y=T.useRef(null),x=T.useRef(""),C=m.viewport,R=r.content-r.viewport,k=gt(d),M=gt(l),A=Af(f,10);function w(b){if(y.current){const I=b.clientX-y.current.left,N=b.clientY-y.current.top;c({x:I,y:N})}}return T.useEffect(()=>{const b=I=>{const N=I.target;(v==null?void 0:v.contains(N))&&k(I,R)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[C,v,R,k]),T.useEffect(M,[r,M]),pa(v,A),pa(m.content,A),E.jsx(_8,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:gt(s),onThumbPointerUp:gt(o),onThumbPositionChange:M,onThumbPointerDown:gt(a),children:E.jsx(lt.div,{...h,ref:S,style:{position:"absolute",...h.style},onPointerDown:Ie(t.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),y.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),w(b))}),onPointerMove:Ie(t.onPointerMove,w),onPointerUp:Ie(t.onPointerUp,b=>{const I=b.target;I.hasPointerCapture(b.pointerId)&&I.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),_h="ScrollAreaThumb",uk=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=lk(_h,t.__scopeScrollArea);return E.jsx(Ws,{present:n||i.hasThumb,children:E.jsx(x8,{ref:e,...r})})}),x8=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=In(_h,n),o=lk(_h,n),{onThumbPositionChange:a}=o,l=xt(e,f=>o.onThumbChange(f)),c=T.useRef(),d=Af(()=>{c.current&&(c.current(),c.current=void 0)},100);return T.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!c.current){const m=S8(f,a);c.current=m,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,a]),E.jsx(lt.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ie(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,_=f.clientY-m.top;o.onThumbPointerDown({x:v,y:_})}),onPointerUp:Ie(t.onPointerUp,o.onThumbPointerUp)})});uk.displayName=_h;var j0="ScrollAreaCorner",dk=T.forwardRef((t,e)=>{const n=In(j0,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?E.jsx(E8,{...t,ref:e}):null});dk.displayName=j0;var E8=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=In(j0,n),[s,o]=T.useState(0),[a,l]=T.useState(0),c=!!(s&&a);return pa(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),pa(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),c?E.jsx(lt.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function xh(t){return t?parseInt(t,10):0}function hk(t,e){const n=t/e;return isNaN(n)?0:n}function Cf(t){const e=hk(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function T8(t,e,n,r="ltr"){const i=Cf(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return fk([l,c],f)(t)}function n1(t,e,n="ltr"){const r=Cf(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=f8(t,l);return fk([0,o],[0,a])(c)}function fk(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function pk(t,e){return t>0&&t<e}var S8=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Af(t,e){const n=gt(t),r=T.useRef(0);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),T.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function pa(t,e){const n=gt(e);Hi(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function b8(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=T.Children.only(r);return T.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var mk=ik,C8=ok,A8=dk;const gk=T.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(mk,{ref:r,className:Qr("relative overflow-hidden",t),...n,children:[E.jsx(C8,{className:"h-full w-full rounded-[inherit]",children:e}),E.jsx(yk,{}),E.jsx(A8,{})]}));gk.displayName=mk.displayName;const yk=T.forwardRef(({className:t,orientation:e="vertical",...n},r)=>E.jsx(O0,{ref:r,orientation:e,className:Qr("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:E.jsx(uk,{className:"relative flex-1 rounded-full bg-border"})}));yk.displayName=O0.displayName;const I8={rest:{scale:1},hover:{scale:1.05,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.95,transition:{duration:.1}}},r1={initial:{opacity:0},animate:{opacity:1,transition:{duration:.5,when:"beforeChildren",staggerChildren:.15}},exit:{opacity:0,transition:{duration:.3}}},P8=(t="up",e=.5)=>({initial:{opacity:0,x:t==="left"?30:t==="right"?-30:0,y:t==="up"?30:t==="down"?-30:0,filter:"blur(8px)"},animate:{opacity:1,x:0,y:0,filter:"blur(0px)",transition:{x:{type:"spring",stiffness:300,damping:30,duration:e},y:{type:"spring",stiffness:300,damping:30,duration:e},opacity:{duration:e*.7},filter:{duration:e*.7}}},exit:{opacity:0,x:t==="left"?-20:t==="right"?20:0,y:t==="up"?-20:t==="down"?20:0,filter:"blur(4px)",transition:{duration:e*.5}}}),R8=(t=0)=>({hidden:{opacity:0},visible:{opacity:1,transition:{delay:t,staggerChildren:.05}}}),k8={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",damping:12,stiffness:200}}},N8=({text:t,className:e="",delay:n=0,animationLevel:r="character",disableAnimations:i=!1,parentVariants:s,childVariants:o})=>{const a=s||R8(n),l=o||k8;if(i)return E.jsx("span",{className:e,children:t});let c;return r==="character"?c=t.split(""):c=t.split(/(\s+)/),E.jsx(K.span,{"aria-label":t,className:`inline-block ${e}`,variants:a,initial:"hidden",animate:"visible",children:c.map((d,f)=>{if(r==="character"){const h=d===" "?"":d;return E.jsx(K.span,{className:"inline-block",variants:l,children:h},`${h}-${f}`)}else return/\s+/.test(d)?E.jsx("span",{style:{whiteSpace:"pre"},children:d},`${d}-${f}`):E.jsx(K.span,{className:"inline-block",variants:l,children:d},`${d}-${f}`)})})},i1=()=>{const[t,e]=T.useState("intro"),[n,r]=T.useState(null),i=sA(),s=Rc(),{currentCommunity:o,communities:a}=Qs();T.useEffect(()=>{const h=new URLSearchParams(s.search).get("join");h&&a.some(v=>v.id===h)&&(r(h),e("join-form"))},[s.search,a]),T.useEffect(()=>{o&&i("/feed")},[o,i]);const l=f=>{r(f),e("join-form")},c=()=>{i("/feed")},d=[{icon:E.jsx(Zo,{className:"text-blue-400",size:24}),title:"Daily Music Sharing",description:"Share one song per day with your community"},{icon:E.jsx(ea,{className:"text-yellow-400",size:24}),title:"Active Communities",description:"Join vibrant music-loving communities"},{icon:E.jsx(yM,{className:"text-pink-400",size:24}),title:"Music Integration",description:"Seamless playback with embedded players"}];return E.jsx(gk,{className:"h-screen",children:E.jsxs(sn,{containerVariants:"fade",className:"min-h-screen bg-music-dark relative overflow-hidden",children:[E.jsxs(K.div,{className:"absolute inset-0 pointer-events-none",initial:{backgroundPosition:"0% 50%"},animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"],transition:{duration:15,ease:"linear",repeat:1/0,repeatType:"loop"}},style:{backgroundSize:"400% 400%",backgroundImage:"linear-gradient(135deg, #0F0F0F 0%, #181818 25%, #222222 50%, #181818 75%, #0F0F0F 100%)"},children:[E.jsx("div",{className:"absolute -top-[10%] -left-[10%] w-[40%] h-[40%] rounded-full bg-gradient-to-r from-blue-500/20 to-purple-500/20 blur-[120px] opacity-40"}),E.jsx("div",{className:"absolute -bottom-[10%] -right-[10%] w-[40%] h-[40%] rounded-full bg-gradient-to-r from-purple-500/20 to-blue-500/20 blur-[120px] opacity-30"})]}),E.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center p-3 sm:p-6 relative z-10",children:[E.jsxs(sn,{containerVariants:"fade",delay:.2,className:"max-w-4xl w-full mx-auto text-center mb-4 sm:mb-6",children:[E.jsx(sn,{containerVariants:"slide",direction:"down",duration:.8,className:"overflow-hidden",children:E.jsx("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-bold mb-2 sm:mb-4",children:E.jsx(N8,{text:"MelodyShare",className:"bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400",delay:.1})})}),E.jsx(sn,{containerVariants:"fade",delay:.4,duration:.6,children:E.jsx("p",{className:"text-music-textSecondary text-sm sm:text-lg max-w-2xl mx-auto",children:"Discover, share, and connect through music with your community."})})]}),E.jsxs(Ia,{mode:"wait",children:[t==="intro"&&E.jsx(sn,{containerVariants:"stagger",staggerChildren:.1,className:"w-full max-w-4xl px-3",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[E.jsxs(sn,{containerVariants:"scale",delay:.2,className:"glass-panel rounded-xl p-5 sm:p-8 flex flex-col items-center text-center h-full relative overflow-hidden group",children:[E.jsx(K.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),E.jsx(K.div,{className:"bg-white/10 rounded-full p-3 sm:p-4 mb-3 sm:mb-4 relative z-10",whileHover:{scale:1.1,backgroundColor:"rgba(255, 255, 255, 0.15)",transition:{duration:.2}},animate:{y:[0,-5,0],transition:{duration:2,repeat:1/0,repeatType:"reverse"}},children:E.jsx(ea,{size:28,className:"text-music-accent"})}),E.jsx("h2",{className:"text-lg sm:text-xl font-medium mb-2 relative z-10",children:"Join a Community"}),E.jsx("p",{className:"text-music-textSecondary text-sm mb-4 sm:mb-6 relative z-10",children:"Browse and join existing music communities to start sharing songs."}),E.jsx(K.button,{className:"w-full text-sm sm:text-base py-2 bg-music-accent hover:bg-music-accentHover text-white rounded-full font-medium transition-colors relative z-10",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e("join"),children:"Find Communities"})]}),E.jsxs(sn,{containerVariants:"scale",delay:.4,className:"glass-panel rounded-xl p-5 sm:p-8 flex flex-col items-center text-center h-full relative overflow-hidden group",children:[E.jsx(K.div,{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),E.jsx(K.div,{className:"bg-white/10 rounded-full p-3 sm:p-4 mb-3 sm:mb-4 relative z-10",whileHover:{scale:1.1,backgroundColor:"rgba(255, 255, 255, 0.15)",transition:{duration:.2}},animate:{y:[0,-5,0],transition:{duration:2,repeat:1/0,repeatType:"reverse",delay:.3}},children:E.jsx(Ky,{size:28,className:"text-music-accent"})}),E.jsx("h2",{className:"text-lg sm:text-xl font-medium mb-2 relative z-10",children:"Create a Community"}),E.jsx("p",{className:"text-music-textSecondary text-sm mb-4 sm:mb-6 relative z-10",children:"Start your own music community and invite friends to join."}),E.jsx(K.button,{className:"w-full text-sm sm:text-base py-2 bg-music-accent hover:bg-music-accentHover text-white rounded-full font-medium transition-colors relative z-10",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e("create"),children:"Create New"})]})]})},"intro"),t==="join"&&E.jsxs(sn,{containerVariants:"fade",className:"w-full max-w-4xl px-3",children:[E.jsx("div",{className:"mb-4",children:E.jsxs(K.button,{className:"flex items-center gap-2 text-music-textSecondary hover:text-white transition-colors",whileHover:{x:-3},onClick:()=>e("intro"),children:[E.jsx(H_,{size:16}),E.jsx("span",{children:"Back"})]})}),E.jsx(UH,{onSelectCommunity:l,onBack:()=>e("intro")})]},"join"),t==="create"&&E.jsxs(sn,{containerVariants:"fade",className:"w-full max-w-4xl px-3",children:[E.jsx("div",{className:"mb-4",children:E.jsxs(K.button,{className:"flex items-center gap-2 text-music-textSecondary hover:text-white transition-colors",whileHover:{x:-3},onClick:()=>e("intro"),children:[E.jsx(H_,{size:16}),E.jsx("span",{children:"Back"})]})}),E.jsx(s8,{onComplete:c})]},"create"),t==="join-form"&&n&&E.jsx(sn,{containerVariants:"fade",className:"w-full max-w-4xl px-3",children:E.jsx(o8,{communityId:n,onComplete:c,onBack:()=>e("join")})},"join-form")]})]}),t==="intro"&&E.jsx(sn,{containerVariants:"stagger",staggerChildren:.2,className:"max-w-6xl mx-auto mb-6 sm:mb-10 px-3 sm:px-4",children:E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3",children:d.map((f,h)=>E.jsxs(sn,{containerVariants:"scale",delay:.2+h*.1,className:"flex flex-col items-center bg-black/30 backdrop-blur-md rounded-lg p-3 border border-white/5 hover:border-white/10 transition-all",children:[E.jsx(K.div,{className:"mb-2 bg-white/5 rounded-full p-2",animate:{scale:[1,1.05,1],rotate:[0,2,0,-2,0]},transition:{duration:3,repeat:1/0,repeatType:"loop",delay:h*.5},children:f.icon}),E.jsx("h3",{className:"text-sm font-medium mb-1 text-white",children:f.title}),E.jsx("p",{className:"text-xs text-music-textSecondary",children:f.description})]},h))})}),E.jsx(sn,{containerVariants:"fade",delay:.8,className:"p-3 sm:p-4 text-center text-music-textSecondary text-xs",children:E.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:E.jsx(K.div,{animate:{rotate:[0,5,0,-5,0],scale:[1,1.1,1,1.1,1]},transition:{duration:5,repeat:1/0,repeatType:"loop"},children:E.jsx(Zo,{size:14,className:"text-music-accent"})})})})]})})},D8="20abdc95aa1a47db9bd68a1a27fc39b6",M8="38bfa455eb934fd590e5cf99af950a1e";let Wu="",s1=0;async function V8(){if(Wu&&Date.now()<s1)return Wu;const e=await(await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`grant_type=client_credentials&client_id=${D8}&client_secret=${M8}`})).json();return Wu=e.access_token,s1=Date.now()+e.expires_in*1e3,Wu}async function O8(t){const e=await V8();return(await(await fetch(`https://api.spotify.com/v1/search?q=${encodeURIComponent(t)}&type=track&limit=5`,{headers:{Authorization:`Bearer ${e}`}})).json()).tracks.items}const L8={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.3}}},j8={hidden:{opacity:0,y:50,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,y:50,scale:.9,transition:{duration:.3}}},o1={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",damping:25,stiffness:300}}},a1={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95,transition:{duration:.1}}},F8=[{id:"happy",label:"Happy",emoji:""},{id:"energetic",label:"Energetic",emoji:""},{id:"chill",label:"Chill",emoji:""},{id:"sad",label:"Sad",emoji:""},{id:"romantic",label:"Romantic",emoji:""},{id:"focused",label:"Focused",emoji:""},{id:"nostalgic",label:"Nostalgic",emoji:""}],U8=({isOpen:t,onClose:e})=>{const{currentUser:n,canAddSong:r,currentCommunity:i}=Qs(),[s,o]=T.useState(""),[a,l]=T.useState([]),[c,d]=T.useState(""),[f,h]=T.useState(!1),[m,v]=T.useState(null),[_,S]=T.useState(!1),y=T.useRef(null);T.useEffect(()=>{v(!i&&t?"You need to be in a community to add songs.":null)},[i,t]),T.useEffect(()=>{if(t)document.body.style.overflow="hidden";else{const A=setTimeout(()=>{document.body.style.overflow=""},300);return()=>clearTimeout(A)}},[t]),T.useEffect(()=>{const A=w=>{y.current&&!y.current.contains(w.target)&&e()};return t&&document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[t,e]);const x=async()=>{if(s.trim()){h(!0),v(null);try{const A=await O8(s);!A||A.length===0?(v("No songs found. Try a different search term."),l([])):l(A)}catch(A){console.error("Search error:",A),Ce({title:"Search failed",description:"There was an error searching for songs. Please try again."}),v("Failed to search songs. Please try again.")}finally{h(!1)}}},C=A=>{o(A.target.value)},R=A=>{A.key==="Enter"&&(A.preventDefault(),x())},k=async A=>{var b;if(!r){Ce({title:"You've reached your limit",description:"You can only add one song every 24 hours."});return}if(!c){v("Please select a mood before adding the song.");return}if(!i){Ce({title:"Cannot add song",description:"You need to be in a community to add songs."});return}const w=i.code;if(!w){Ce({title:"Cannot add song",description:"Invalid community information."});return}S(!0);try{await Nr();const I=A.artists.map(H=>H.name).join(", "),N=((b=A.album.images[0])==null?void 0:b.url)||"",V={title:A.name,artist:I,albumArt:N,spotifyUri:A.uri,spotifyId:A.id,addedBy:(n==null?void 0:n.username)||"Guest",addedById:(n==null?void 0:n.id)||"guest-user",mood:c,youtubeUrl:`https://www.youtube.com/results?search_query=${encodeURIComponent(`${A.name} ${I}`)}`};if((await AP(V,w)).success)Ce({title:"Song added successfully",description:`"${A.name}" has been added to the community feed.`}),e(),o(""),d(""),l([]);else throw new Error("Failed to save song")}catch(I){console.error("Error adding song:",I),Ce({title:"Failed to add song",description:"There was an error adding your song. Please try again."})}finally{S(!1)}},M=A=>{A.currentTarget.src="/placeholder.svg"};return t?E.jsx(Ia,{children:t&&E.jsx(K.div,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center",initial:"hidden",animate:"visible",exit:"exit",variants:L8,children:E.jsxs(K.div,{ref:y,className:"bg-music-card rounded-2xl shadow-xl overflow-hidden max-w-md w-full mx-4 max-h-[85vh] flex flex-col",variants:j8,children:[E.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[E.jsx(K.h2,{className:"text-xl font-medium",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:"Add a Song"}),E.jsx(K.button,{onClick:e,className:"text-music-textSecondary hover:text-white transition-colors p-1",whileHover:{rotate:90,scale:1.1},whileTap:{scale:.9},children:E.jsx(Gy,{size:20})})]}),E.jsxs(K.div,{className:"p-5 border-b border-white/10",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[E.jsxs("div",{className:"relative",children:[E.jsx(K.input,{type:"text",placeholder:"Search for a song...",className:"fancy-input pl-10 w-full bg-music-cardHover/50 border border-white/10 rounded-lg py-2 px-4 text-white",value:s,onChange:C,onKeyDown:R,initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4}}),E.jsx(Km,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]}),E.jsxs(K.div,{className:"mt-3",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},children:[E.jsx("label",{className:"block text-sm text-music-textSecondary mb-1",children:"How are you feeling today?"}),E.jsx("div",{className:"grid grid-cols-3 gap-2",children:F8.map(A=>E.jsxs(K.button,{onClick:()=>d(A.id),className:`flex items-center justify-center gap-1 p-2 rounded-lg border transition-colors ${c===A.id?"border-music-accent bg-music-accent/20 text-music-accent":"border-white/10 hover:border-white/30"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[E.jsx("span",{children:A.emoji}),E.jsx("span",{className:"text-sm hidden xs:inline",children:A.label})]},A.id))})]}),E.jsxs(K.button,{onClick:x,disabled:f||!s.trim(),className:"premium-button w-full mt-3 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},whileHover:"hover",whileTap:"tap",variants:a1,children:[f?E.jsx(qy,{className:"animate-spin mr-2",size:18}):E.jsx(Km,{className:"mr-2",size:18}),f?"Searching...":"Search"]}),!r&&E.jsx(K.div,{className:"mt-4 text-sm bg-red-500/20 text-red-200 p-3 rounded-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:"You've reached your daily limit. You can add another song in 24 hours."}),m&&E.jsxs(K.div,{className:"mt-4 text-sm bg-red-500/20 text-red-200 p-3 rounded-lg flex items-center gap-2",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[E.jsx(mM,{className:"h-5 w-5 flex-shrink-0"}),E.jsx("p",{children:m})]})]}),E.jsx("div",{className:"flex-grow overflow-y-auto",children:a.length===0&&!f?E.jsxs(K.div,{className:"p-8 text-center text-music-textSecondary",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:[E.jsx(K.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:.4},transition:{delay:.8,duration:.5},children:E.jsx(Zo,{size:48,className:"mx-auto mb-3"})}),E.jsx("p",{className:"text-sm",children:"Search for songs to add to your community"})]}):E.jsx(K.ul,{className:"divide-y divide-white/10",initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.05}}},children:f?Array.from({length:3}).map((A,w)=>E.jsxs(K.li,{className:"flex items-center p-4 animate-pulse",variants:o1,children:[E.jsx("div",{className:"w-12 h-12 bg-white/10 rounded"}),E.jsxs("div",{className:"ml-3 flex-grow",children:[E.jsx("div",{className:"h-4 bg-white/10 rounded w-3/4"}),E.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2 mt-2"})]}),E.jsx("div",{className:"w-20 h-8 bg-white/10 rounded-full"})]},`skeleton-${w}`)):a.map(A=>{var w;return E.jsxs(K.li,{className:"flex items-center p-4 hover:bg-white/5 transition-colors",variants:o1,children:[E.jsx("div",{className:"w-12 h-12 min-w-[48px] relative bg-white/5 rounded overflow-hidden",children:E.jsx("img",{src:((w=A.album.images[0])==null?void 0:w.url)||"/placeholder.svg",alt:A.album.name,className:"w-full h-full object-cover rounded",onError:M,loading:"lazy"})}),E.jsxs("div",{className:"ml-3 flex-grow min-w-0",children:[E.jsx("h4",{className:"font-medium truncate",children:A.name}),E.jsx("p",{className:"text-sm text-music-textSecondary truncate",children:A.artists.map(b=>b.name).join(", ")})]}),E.jsx(K.button,{onClick:()=>k(A),disabled:_||!r,className:"premium-button py-2 px-4 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:"hover",whileTap:"tap",variants:a1,children:"Add"})]},A.id)})})})]})})}):null},B8=({communityId:t,isOpen:e,onClose:n})=>{const{communities:r,copyShareableLinkToClipboard:i,copyCodeToClipboard:s}=Qs(),[o,a]=T.useState(!1),[l,c]=T.useState(!1),d=r.find(_=>_.id===t);if(!d)return null;const f=async()=>{c(!0);try{await navigator.clipboard.writeText(d.code),Ce({title:"Code copied!",description:`Community code "${d.code}" has been copied to clipboard.`})}catch{try{const S=await s(d.code);Ce(S?{title:"Code copied!",description:`Community code "${d.code}" has been copied to clipboard.`}:{title:"Couldn't copy code",description:"Please try again",variant:"destructive"})}catch{Ce({title:"Error",description:"Something went wrong",variant:"destructive"})}}finally{setTimeout(()=>{c(!1),n()},800)}},h=async()=>{a(!0);try{const _=`${window.location.origin}/join?code=${d.code}`;await navigator.clipboard.writeText(_),Ce({title:"Link copied!",description:`Share link to "${d.name}" has been copied to clipboard.`})}catch{try{const S=await i(t);Ce(S?{title:"Link copied!",description:`Share link to "${d.name}" has been copied to clipboard.`}:{title:"Couldn't copy link",description:"Please try again",variant:"destructive"})}catch{Ce({title:"Error",description:"Something went wrong",variant:"destructive"})}}finally{setTimeout(()=>{a(!1),n()},800)}},m={hidden:{opacity:0,scale:.9,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:400,damping:25,staggerChildren:.05}},exit:{opacity:0,scale:.9,y:10,transition:{duration:.2}}},v={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:24}}};return E.jsx(Ia,{children:e&&E.jsxs(E.Fragment,{children:[E.jsx(K.div,{className:"fixed inset-0 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n}),E.jsxs(K.div,{className:"absolute right-0 top-10 z-50 bg-music-card rounded-lg shadow-xl border border-white/10 overflow-hidden w-48 sm:w-56",variants:m,initial:"hidden",animate:"visible",exit:"exit",children:[E.jsxs("div",{className:"p-2 border-b border-white/10 flex justify-between items-center",children:[E.jsx("span",{className:"text-sm font-medium",children:"Share Community"}),E.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-white/10",children:E.jsx(Gy,{size:14})})]}),E.jsxs("div",{className:"p-1",children:[E.jsxs(K.button,{className:"w-full text-left flex items-center space-x-3 px-3 py-2.5 rounded-md transition-colors hover:bg-white/10",onClick:h,variants:v,whileHover:{scale:1.03},disabled:o,children:[E.jsx(K.div,{animate:o?{rotate:360}:{},transition:{duration:.5},className:"text-sky-400",children:o?E.jsx(W_,{size:16}):E.jsx(oC,{size:16})}),E.jsx("span",{children:"Share Link"})]}),E.jsxs(K.button,{className:"w-full text-left flex items-center space-x-3 px-3 py-2.5 rounded-md transition-colors hover:bg-white/10",onClick:f,variants:v,whileHover:{scale:1.03},disabled:l,children:[E.jsx(K.div,{animate:l?{rotate:360}:{},transition:{duration:.5},className:"text-indigo-400",children:l?E.jsx(W_,{size:16}):E.jsx(sC,{size:16})}),E.jsx("span",{children:"Copy Code"})]})]})]})]})})},$8=()=>{const{songs:t,currentCommunity:e,currentUser:n,setCurrentCommunity:r,setCurrentUser:i,canAddSong:s}=Qs(),[o,a]=T.useState([]),[l,c]=T.useState(!1),[d,f]=T.useState(!0);T.useState(null);const[h,m]=T.useState(!1),[v,_]=T.useState(!1),S=sA();T.useEffect(()=>{if(!e||!n){S("/");return}if((async()=>{try{await Nr()}catch(I){console.error("Error initializing anonymous auth:",I)}})(),e.code){const I=IP(e.code,N=>{a(N),f(!1)});return()=>{I()}}else{a(t);const I=setTimeout(()=>{f(!1)},1e3);return()=>clearTimeout(I)}},[e,n,t,S]);const y=()=>{r(null),i(null),S("/")},x=async()=>{if(e)try{await navigator.clipboard.writeText(e.code),Ce({title:"Code copied!",description:`Community code "${e.code}" has been copied to clipboard.`})}catch{Ce({title:"Couldn't copy code",description:"Please try again or use the share menu",variant:"destructive"})}},C=async()=>{if(e)try{const b=`${window.location.origin}/join?code=${e.code}`;await navigator.clipboard.writeText(b),Ce({title:"Link copied!",description:`Share link to "${e.name}" has been copied to clipboard.`})}catch{Ce({title:"Couldn't copy link",description:"Please try again or use the share menu",variant:"destructive"})}},R=()=>{_(!0),f(!0),e!=null&&e.code?setTimeout(()=>{_(!1),f(!1),Ce({title:"Feed refreshed",description:"Your music feed has been updated"})},1e3):setTimeout(()=>{_(!1),f(!1),Ce({title:"Feed refreshed",description:"Your music feed has been updated"})},1e3)},k=b=>{const I=b.split(":").pop();I&&window.open(`https://open.spotify.com/track/${I}`,"_blank")},M=(b,I,N)=>{if(b)window.open(b,"_blank");else{const V=encodeURIComponent(`${I} ${N}`);window.open(`https://www.youtube.com/results?search_query=${V}`,"_blank")}Ce({title:"Opening on YouTube",description:`Searching for "${I}" by ${N}`})},A=b=>{const I=typeof b=="string"?new Date(b):b,N=I.getHours(),V=I.getMinutes(),D=N>=12?"PM":"AM",H=N%12||12,se=V<10?`0${V}`:V;return`${H}:${se} ${D}`},w=(b,I=5)=>{const N=b.split(" ");return N.length<=I?b:N.slice(0,I).join(" ")+"..."};return E.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[E.jsx("header",{className:"border-b border-white/10",children:E.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-3 md:py-4 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx(Zo,{className:"text-music-accent mr-2",size:22}),E.jsx("h1",{className:"text-lg md:text-xl font-medium",children:"MelodyShare"})]}),E.jsxs("div",{className:"flex items-center",children:[e&&E.jsxs("div",{className:"hidden sm:flex items-center mr-4 bg-white/5 px-3 py-1 rounded-full",children:[E.jsx(ea,{size:16,className:"mr-1 text-music-textSecondary"}),E.jsx("span",{className:"text-sm",children:e.name})]}),n&&E.jsx("div",{className:"mr-3 md:mr-4 bg-music-card px-2 md:px-3 py-1 rounded-full",children:E.jsx("span",{className:"text-xs md:text-sm",children:n.username})}),E.jsx("button",{onClick:y,className:"p-1.5 md:p-2 text-music-textSecondary hover:text-white transition-colors","aria-label":"Log out",children:E.jsx(vM,{size:18})})]})]})}),E.jsxs("main",{className:"flex-grow p-3 md:p-6 max-w-4xl mx-auto w-full",children:[e&&E.jsxs("div",{className:"mb-5 md:mb-6",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 md:gap-4 mb-3 md:mb-0",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl md:text-2xl font-medium",children:e.name}),E.jsxs("p",{className:"text-music-textSecondary text-xs md:text-sm",children:[o.length," songs shared in this community"]})]}),E.jsxs("div",{className:"flex flex-row flex-wrap items-center gap-2 md:gap-3",children:[E.jsxs("div",{className:"relative",children:[E.jsxs("button",{className:"share-button border border-white/20 rounded-full py-1.5 md:py-2 px-3 md:px-4 text-sm","aria-label":"Share Community",children:[E.jsxs("div",{className:"share-button-content",children:[E.jsx("span",{className:"share-button-text text-xs md:text-sm font-normal",children:"Share"}),E.jsx("span",{className:"share-button-icon",children:E.jsx(xM,{size:14})})]}),E.jsxs("div",{className:"share-options",children:[E.jsx(K.button,{className:"share-option p-2 bg-white/10 rounded-full hover:bg-white/20 curved-border-button",onClick:C,whileHover:{scale:1.1},whileTap:{scale:.95},title:"Share Link",children:E.jsx(oC,{size:14,className:"text-sky-400"})}),E.jsx(K.button,{className:"share-option p-2 bg-white/10 rounded-full hover:bg-white/20 curved-border-button",onClick:x,whileHover:{scale:1.1},whileTap:{scale:.95},title:"Copy Code",children:E.jsx(sC,{size:14,className:"text-indigo-400"})})]})]}),e&&E.jsx(B8,{communityId:e.id,isOpen:h,onClose:()=>m(!1)})]}),E.jsxs(K.button,{onClick:R,className:"premium-button-outline curved-border-button py-1.5 md:py-2 px-3 md:px-4 flex items-center text-xs md:text-sm",title:"Refresh feed",whileHover:"hover",whileTap:"tap",variants:I8,disabled:v,children:[E.jsx(K.div,{animate:v?{rotate:360}:{rotate:0},transition:v?{repeat:1/0,duration:1,ease:"linear"}:{},className:"mr-1.5",children:E.jsx(_M,{size:14,className:v?"text-music-accent":""})}),"Refresh"]}),E.jsxs("button",{onClick:()=>c(!0),disabled:!s,className:"premium-button curved-border-button py-1.5 md:py-2 px-3 md:px-4 flex items-center text-xs md:text-sm disabled:opacity-50 disabled:cursor-not-allowed",title:s?"Add a new song":"You can only add one song every 24 hours",children:[E.jsx(q_,{size:14,className:"mr-1.5"}),"Add Song"]})]})]}),E.jsxs("div",{className:"sm:hidden mt-1 flex items-center bg-white/5 px-2 py-1 rounded-full w-fit mb-3",children:[E.jsx(ea,{size:14,className:"mr-1 text-music-textSecondary"}),E.jsx("span",{className:"text-xs",children:e.name})]})]}),d?E.jsx("div",{className:"space-y-3 md:space-y-4",children:Array.from({length:5}).map((b,I)=>E.jsxs("div",{className:"flex items-center bg-music-card/30 p-2 md:p-3 rounded-lg animate-pulse",children:[E.jsx("div",{className:"h-14 w-14 md:h-16 md:w-16 bg-white/10 rounded mr-3 md:mr-4"}),E.jsxs("div",{className:"flex-grow",children:[E.jsx("div",{className:"h-3 md:h-4 bg-white/10 rounded w-2/3 mb-2"}),E.jsx("div",{className:"h-2 md:h-3 bg-white/10 rounded w-1/2"})]})]},`skeleton-${I}`))}):o.length===0?E.jsxs("div",{className:"text-center py-8 md:py-12",children:[E.jsx(Zo,{size:36,className:"mx-auto mb-3 md:mb-4 text-music-textSecondary opacity-40"}),E.jsx("h3",{className:"text-lg md:text-xl font-medium mb-2",children:"No songs yet"}),E.jsx("p",{className:"text-music-textSecondary mb-4 md:mb-6 text-sm md:text-base",children:"Be the first to add a song to this community!"}),E.jsx("button",{onClick:()=>c(!0),disabled:!s,className:"premium-button py-2 px-4 text-sm md:text-base",children:"Add Your First Song"})]}):E.jsx(K.div,{className:"space-y-2",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},children:E.jsx(Ia,{children:o.map(b=>E.jsx(K.div,{layout:!0,variants:{hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}},initial:"hidden",animate:"visible",exit:{opacity:0,scale:.9},className:"bg-music-card hover:bg-music-cardHover rounded-lg overflow-hidden",children:E.jsxs("div",{className:"flex items-center p-2 md:p-4 bg-[#131313]",children:[E.jsxs("div",{className:"relative flex-shrink-0",children:[E.jsx("img",{src:b.albumArt,alt:`${b.title} by ${b.artist}`,className:"w-14 h-14 md:w-16 md:h-16 object-cover rounded",style:{aspectRatio:"1/1"}}),E.jsx("button",{onClick:()=>b.spotifyUri&&k(b.spotifyUri),className:"absolute inset-0 flex items-center justify-center bg-black/40 hover:bg-black/60 transition-colors",title:"Play on Spotify",children:E.jsx(wM,{className:"text-white",size:24})})]}),E.jsxs("div",{className:"ml-3 md:ml-4 flex-grow min-w-0",children:[E.jsx("h3",{className:"font-medium text-base md:text-lg leading-tight truncate",title:b.title,children:w(b.title,5)}),E.jsx("p",{className:"text-music-textSecondary text-xs md:text-sm truncate",title:b.artist,children:w(b.artist,3)}),E.jsxs("div",{className:"flex flex-wrap items-center mt-1 gap-1 md:gap-2",children:[E.jsxs("span",{className:"text-xs text-music-textSecondary truncate max-w-[150px]",children:["Added by ",E.jsx("span",{className:"text-music-accent",children:b.addedBy})]}),E.jsx("span",{className:"text-xs text-music-textSecondary hidden xs:inline",children:""}),E.jsxs("span",{className:"text-xs text-music-textSecondary flex items-center",children:[E.jsx(gM,{size:10,className:"mr-1"}),A(b.addedAt)]}),b.mood&&E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"text-xs text-music-textSecondary hidden xs:inline",children:""}),E.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-music-accent/20 rounded-full",children:b.mood})]})]})]}),E.jsx("div",{children:E.jsxs("button",{onClick:()=>M(b.youtubeUrl,b.title,b.artist),className:"premium-button-outline py-1 md:py-1.5 px-2 md:px-3 flex items-center text-xs",title:"Search on YouTube",children:[E.jsx(TM,{size:12,className:"mr-1"}),E.jsx("span",{className:"hidden xs:inline",children:"Open"})]})})]})},b.id))})})]}),E.jsx("button",{onClick:()=>c(!0),disabled:!s,className:"fixed bottom-6 right-6 w-10 h-10 rounded-full bg-music-accent hover:bg-music-accentHover flex items-center justify-center border border-white/20 curved-border-button shadow-lg z-50","aria-label":"Add song",title:s?"Add a new song":"You can only add one song every 24 hours",children:E.jsx(q_,{size:18})}),E.jsx(U8,{isOpen:l,onClose:()=>c(!1)})]})},z8=()=>{const t=Rc();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),E.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),E.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},H8=({children:t,id:e="page",disableAnimations:n=!1,customVariants:r,transitionType:i="default",direction:s="up",duration:o=.5})=>{if(n)return E.jsx("div",{className:"w-full h-full",children:t});let a=r||r1;if(!r)switch(i){case"swift":a=P8(s,o);break;case"slide":a={initial:{x:s==="left"?-30:s==="right"?30:0,y:s==="up"?30:s==="down"?-30:0,opacity:0},animate:{x:0,y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:30,duration:o}},exit:{x:s==="left"?30:s==="right"?-30:0,y:s==="up"?-30:s==="down"?30:0,opacity:0,transition:{duration:o*.75}}};break;case"scale":a={initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1,transition:{type:"spring",stiffness:300,damping:25,duration:o}},exit:{scale:.95,opacity:0,transition:{duration:o*.75}}};break;case"fade":a={initial:{opacity:0},animate:{opacity:1,transition:{duration:o}},exit:{opacity:0,transition:{duration:o*.75}}};break;case"asymmetric":a={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{type:"spring",stiffness:400,damping:30,duration:o}},exit:{opacity:0,scale:.95,transition:{duration:o*.5}}};break;case"identity":a={initial:{opacity:1},animate:{opacity:1},exit:{opacity:1}};break;default:a=r1;break}return E.jsx(Ia,{mode:"wait",children:E.jsx(K.div,{initial:"initial",animate:"animate",exit:"exit",variants:a,className:"w-full h-full",children:t},e)})},W8=new RL,q8=()=>{const t=Rc();return T.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),E.jsx(H8,{id:t.pathname,transitionType:"swift",direction:"up",duration:.7,children:E.jsxs(xj,{location:t,children:[E.jsx(ul,{path:"/",element:E.jsx(i1,{})}),E.jsx(ul,{path:"/feed",element:E.jsx($8,{})}),E.jsx(ul,{path:"/join/:code",element:E.jsx(i1,{})}),E.jsx(ul,{path:"*",element:E.jsx(z8,{})})]},t.pathname)})},K8=()=>E.jsx(NL,{client:W8,children:E.jsx(f9,{children:E.jsxs(aL,{children:[E.jsx(sV,{}),E.jsx(MV,{}),E.jsx(Sj,{basename:"/Melody-Share",children:E.jsx(q8,{})})]})})});Pb(document.getElementById("root")).render(E.jsx(K8,{}));
